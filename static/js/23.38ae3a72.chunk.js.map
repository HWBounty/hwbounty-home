{"version":3,"sources":["pages/schoologyOauthRedirect.js"],"names":["SchoologyOauthPage","props","enqueueSnackbar","useSnackbar","history","useHistory","window","location","search","match","axios","post","hwbountyAPI","redirectURL","href","oauth_token","nonce","localStorage","getItem","then","thing","setAuthorizationHeader","data","setTimeout","push","connect","withSnackbar"],"mappings":"wHAAA,+HAQaA,EAAqB,SAACC,GAAW,IACrCC,EAAoBC,cAApBD,gBACFE,EAAUC,cAahB,OAZIC,OAAOC,SAASC,OAAOC,MAAM,oBAChCC,IAAMC,KAAN,UAAcC,IAAd,kBAA2C,CAC1CC,YAAY,GAAD,OAAKP,OAAOC,SAASO,MAChCC,YAAaT,OAAOC,SAASC,OAAOC,MAAM,QAAQ,GAClDO,MAAOC,aAAaC,QAAQ,oBAC1BC,MAAK,SAAAC,GACFA,IACLC,YAAuBD,EAAME,MAC7BpB,EAAgB,cAChBqB,YAAW,kBAAMnB,EAAQoB,KAAK,OAAM,SAG/B,MAEOC,wBAAUC,YAAa1B","file":"static/js/23.38ae3a72.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useSnackbar, withSnackbar } from \"notistack\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { setAuthorizationHeader } from \"../redux/actions/userActions\";\nimport { hwbountyAPI } from \"../redux/types\";\n\nexport const SchoologyOauthPage = (props) => {\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst history = useHistory()\n\tif (window.location.search.match(/\\?oauth_token\\=/)) {\n\t\taxios.post(`${hwbountyAPI}/schoologyAuth`, {\n\t\t\tredirectURL: `${window.location.href}`,\n\t\t\toauth_token: window.location.search.match(/\\w+$/)[0],\n\t\t\tnonce: localStorage.getItem(\"SchoologyNonce\"),\n\t\t}).then(thing => {\n\t\t\tif (!thing) return;\n\t\t\tsetAuthorizationHeader(thing.data);\n\t\t\tenqueueSnackbar(\"Signed in!\")\n\t\t\tsetTimeout(() => history.push(\"/\"), 500);\n\t\t});\n\t}\n\treturn null;\n}\nexport default connect()(withSnackbar(SchoologyOauthPage));\n"],"sourceRoot":""}