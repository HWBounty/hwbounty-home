{"version":3,"sources":["redux/types.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userActions.js","util/theme.js","redux/actions/uiActions.js","util/keybinds/keybind.js","components/Home/ForumSearch.js","components/Home/KeybindEditor.js","components/User/AccountIconButton.js","components/Home/PageSearch.js","components/Home/Navbar.js","components/Calendar/Schedule.js","components/Calendar/SchoologyAssignment.js","components/Calendar/AssignmentsGroup.js","components/Calendar/Assignments.js","redux/actions/dataActions.js","components/Calendar/ZoomLinks.js","components/Calendar/Calendar.js","util/latex/preprocessMathQuill.js","components/Modules/Calculator/CalcTools.js","components/Modules/Calculator/Calculator.js","components/Modules/EssayEditor/EssayEditor.js","components/Modules/GasLaws.js","components/Modules/ModuleViewer.js","components/Modules/Calculator/CalculatorFullscreen.js","components/Modules/FullscreenModuleViewer.js","components/MusicModule/Player.js","components/MusicModule/MusicModule.js","pages/signup.js","pages/home.js","pages/login.js","components/User/Authentication/Login.js","components/User/Authentication/AuthPopup.js","pages/schedules.js","pages/viewSchedule.js","pages/setSchedule.js","util/notifications.js","pages/schoologyOauthRedirect.js","pages/johnsHome.js","pages/ScheduleInfo.js","pages/newSignup.js","util/badges.js","pages/profile.js","App.js","serviceWorker.js","index.js"],"names":["SET_THEME","SET_MODULE","SET_AUTH_POPUP_OPEN","CLEAR_ERRORS","SET_ASSIGNMENTS","SET_AUTHENTICATED","SET_SCHOOLOGY_LINKED","hwbountyAPI","initialState","loading","authenticated","schoologyLinked","userReducer","state","action","type","assignments","dataReducer","payload","sort","a","b","Date","due","theme","module","moduleFullscreen","authPopupOpen","uiReducer","middleware","thunk","reducers","combineReducers","user","data","UI","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","loginUser","userData","dispatch","axios","post","then","res","setAuthorizationHeader","token","getUserData","location","reload","catch","err","console","log","signupUser","DBIdToken","localStorage","setItem","defaults","headers","common","rawTheme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontFamilySecondary","spreadIt","rootPadding","padding","paper","width","borderRadius","inputBase","borderColor","fontHeader","color","text","fontWeight","h1","letterSpacing","h2","h3","h4","h5","h6","subtitle1","body1","body2","setAuthPopupOpen","open","connect","setModule","moduleId","parseInt","withShortcut","props","shortcut","handleNumberPressed","e","key","useEffect","registerShortcut","unregisterShortcut","ForumSearch","useState","query","setQuery","roundInput","useRoundInputBaseStyles","Container","maxWidth","onSubmit","event","preventDefault","url","newWindow","opener","InputBase","classes","placeholder","onChange","target","value","fullWidth","KeybindEditor","React","anchorEl","setAnchorEl","handleClose","IconButton","aria-controls","aria-haspopup","onClick","currentTarget","src","JSON","parse","getItem","pfp","style","maxHeight","alt","Menu","keepMounted","Boolean","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","method","redirectURL","error","clear","href","split","slice","concat","join","fuse","Fuse","name","path","description","includeScore","keys","withStyles","history","useHistory","pageOptions","Children","toArray","search","filter","x","i","map","result","ListItem","align","minWidth","margin","textAlign","Button","item","push","Typography","variant","marginLeft","marginRight","top","left","lineHeight","display","position","substring","TextField","getTheme","length","Paper","height","borderTopLeftRadius","borderTopRightRadius","List","overflowX","overflowY","scrollbarWidth","styles","themeFile","root","iconButton","themeValue","alreadySet","setTheme","themeNum","setUser","stringify","get","status","password","trace","toggleTheme","newVal","UserButton","className","minHeight","Toolbar","zIndex","decodeHTML","string","gt","replace","$0","$1","String","fromCharCode","toLowerCase","substr","hasOwnProperty","useButtonStyles","makeStyles","border","marginTop","paddingBottom","cursor","PeriodButton","period","zoom","timeStart","timeEnd","tSS","tES","duration","timePassed","now","expanded","setExpanded","notDoneCol","marginBottom","Card","background","innerWidth","bottom","right","Math","round","Collapse","in","z","link","stopPropagation","handleZoomLinkClicked","title","parsePeriods","scheduleData","zoomLinkInfo","dotw","moment","isoWeekday","allClasses","Map","nameOverrides","schedule","convertedMoment","tz","timePeriod","utcOffset","currentMoment","forEach","set","course","id","today","colors","stops","retarr","index","generatePeriodColors","courseInfo","has","course_title","links","linkGroup","flat","add","unix","fetchAndSet","setCourseInfo","setScheduleData","setCannotFetch","Error","Promise","all","courses","Schedule","fetching","setFetching","cannotFetch","origin","CircularProgress","periods","p","textTransform","assignmentTitle","flex","assignmentDue","dayjs","format","dateButton","dateText","date","endIcon","timeout","unmountOnExit","dateToDay","Assignments","this","getAssignments","datesArray","Array","from","Set","assignmentByDay","Component","card","ZoomLinksCollection","button","allLinks","content","paddingTop","tab","setTab","Tabs","indicatorColor","textColor","newValue","Tab","label","mathquillToMathJS","fromMQ","noBraceSub","convertSubscript","fracToDivision","tex","mathjs","reduce","acc","r","str","find","replaceWith","RegExp","escapeRegExp","expr","subStart","indexOf","numStart","closingBrace","frac","fracStart","divIdx","startIdx","braces","openingBrace","undefined","stack","j","findClosingBrace","useStyles","numPadRoot","symbolPadRoot","SymbolButton","latex","symbol","NumPad","NumRow","arr","Grid","container","spacing","wrap","num","disabled","direction","SymbolPad","obj","addStyles","parser","math","LatexInput","mathquillDidMount","config","autoCommands","autoOperatorNames","handlers","enter","symbolPadGrid","expression","setExpression","answer","setAnswer","setError","mathField","useRef","inputComponent","inputProps","val","ans","evaluate","toString","current","input","xs","write","focus","cmd","Box","flexDirection","justifyContent","alignContent","setP","v","setV","n","setN","t","setT","solveFor","setSolveFor","handleTextChange","nv","defaultValue","ev","handle","FormControl","InputLabel","Select","labelId","ModuleViewer","modName","useLocation","pathname","pop","Module","CalculatorFullscreen","FullscreenModuleViewer","Modal","getHighestThumbnail","thumbnails","best","sleep","delay","resolve","setTimeout","Player","updateMe","self","songInfoMap","URL","webkitURL","MediaSource","WebKitMediaSource","socket","socketClient","video","document","getElementById","stopPlaying","mediaSource","sourceBuffer","queue","songQueue","played","songCount","currentSong","currentSongLink","loop","onended","processQueue","on","handleSongInfo","addToQueue","tryingToPlay","setInterval","setState","Object","assign","searchResults","songURL","emit","createObjectURL","pause","readyState","volume","addSourceBuffer","mode","wait","onupdateend","chunkcount","trials","inter","clearInterval","shift","appendBuffer","unshift","uIntArray","Uint8Array","chunk","play","info","cleanedInfo","songName","videoDetails","songAuthor","ownerChannelName","bestThumbnail","video_url","songLinks","items","snippet","channelTitle","maxres","high","standard","medium","default","delete","vidElement","Number","isNaN","abs","currentTime","newSong","playSong","MusicModule","audionState","startedAt","loadingProcess","volumeLevel","progress","playState","player","Signup","paddingLeft","breakpoints","down","paddingRight","desktopLayout","mobileLayout","up","DesktopLayout","gridContainer","md","MobileLayout","handleSubmit","loggingIn","email","firstName","fName","lastName","lName","username","getElementsByTagName","innerText","alert","handleChange","includes","errors","nextProps","class","required","for","mapActionsToProps","Login","inputField","setEmail","setPassword","DialogTitle","DialogContent","autoFocus","inputFields","DialogActions","Dialog","SchedulesSearch","laceholder","SchedulePreview","hist","desc","sid","ScheduleCatalog","searchTerm","schedules","verticalAlign","handleTabChange","scrollButtons","day","Avatar","publicID","lastUpdated","fromNow","borderTop","schoologyKey","fetchScheduleData","DisplayedScheduleDay","dayschedule","children","renderPeriods","withRouter","SetSchedule","er","selfData","section","y","setting","periodChoices","sch","scheduleID","parseAllPeriods","options","option","handleDropdowns","handleSet","Notifications","Notification","permission","requestPermission","icon","img","body","image","SchoologyOauthPage","forceUpdate","getGreeting","match","oauth_token","CTime","CTimeSmall","lastTimeBasedNotif","ScheduleInfo","scheduleOBJ","getPeriodName","periodID","formattedClasses","clas","currentClass","endingInString","asHours","asMinutes","asSeconds","pushNotification","nextClass","startingInString","lastClass","lastEnded","getTimePhrase","borderWidth","transform","SignUpPage","firstNameError","lastNameError","usernameError","emailError","passwordError","cPasswordError","emailVerif","cpassword","test","processReady","signupRes","Snackbar","autoHideDuration","Alert","severity","autoComplete","helperText","onTextChange","signup","size","badges","staff","small","large","Profile","setUserData","fetchres","boxShadow","tags","Chip","privateID","createdAt","bal","dynamicTheme","ignoreTagNames","CssBaseline","exact","component","schoologyOauthRedirect","newSignup","viewSchedule","setSchedule","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","process","addEventListener","fetch","response","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0177ac0a.chunk.js","sourcesContent":["// UI reducer types\nexport const SET_THEME = \"SET_THEME\";\nexport const SET_MODULE = \"SET_MODULE\";\nexport const SET_MODULE_FULLSCREEN = \"SET_MODULE_FULLSCREEN\";\nexport const SET_AUTH_POPUP_OPEN = \"SET_AUTH_POPUP_OPEN\";\nexport const LOADING_UI = \"LOADING_UI\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\n\n// Data reducer types\nexport const SET_ASSIGNMENTS = \"SET_ASSIGNMENTS\";\n\n// User reducer types\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const SET_USER = \"SET_USER\";\nexport const LOADING_USER = \"LOADING_USER\";\nexport const MARK_NOTIFICATIONS_READ = \"MARK_NOTIFICATIONS_READ\";\nexport const CONFIRM_SIGNUP = \"CONFIRM_SIGNUP\";\nexport const SET_SCHOOLOGY_LINKED = \"SET_SCHOOLOGY_LINKED\";\n\n// API Base URL\nexport const hwbountyAPI = \"https://api.hwbounty.help\";\nexport const schoologyAPI = \"https://api.schoology.com/v1\"; // may not work\n","import { SET_AUTHENTICATED, SET_SCHOOLOGY_LINKED } from \"../types\";\n\nconst initialState = {\n  loading: false,\n  authenticated: false,\n  schoologyLinked: false,\n};\n\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTHENTICATED:\n      return {\n        ...state,\n        authenticated: true,\n      };\n    case SET_SCHOOLOGY_LINKED:\n      return {\n        ...state,\n        schoologyLinked: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { SET_ASSIGNMENTS } from \"../types\";\n\nconst initialState = {\n  loading: false,\n  assignments: [],\n};\n\nexport const dataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_ASSIGNMENTS:\n      return {\n        ...state,\n        assignments: action.payload.sort(\n          (a, b) => new Date(a.due) - new Date(b.due)\n        ),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default dataReducer;\n","import { SET_AUTH_POPUP_OPEN, SET_MODULE, SET_THEME } from \"../types\";\n\nconst initialState = {\n  theme: 0, // [light, dark, titan]\n  module: 1,\n  moduleFullscreen: false,\n  authPopupOpen: false,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_THEME:\n      return {\n        ...state,\n        theme: action.payload,\n      };\n    case SET_MODULE:\n      return {\n        ...state,\n        module: action.payload,\n      };\n    case SET_AUTH_POPUP_OPEN:\n      return {\n        ...state,\n        authPopupOpen: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default uiReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport userReducer from \"./reducers/userReducer\";\nimport dataReducer from \"./reducers/dataReducer\";\nimport uiReducer from \"./reducers/uiReducer\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n  user: userReducer,\n  data: dataReducer,\n  UI: uiReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducers,\n  initialState,\n  composeEnhancers(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import {\n  SET_AUTHENTICATED,\n  LOADING_UI,\n  CLEAR_ERRORS,\n  hwbountyAPI,\n} from \"../types\";\nimport axios from \"axios\";\n\nexport const loginUser = (userData) => (dispatch) => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(`${hwbountyAPI}/login`, userData)\n    .then((res) => {\n      setAuthorizationHeader(res.data.token);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      window.location.reload();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const signupUser = (userData) => (dispatch) => {\n  axios\n    .post(`${hwbountyAPI}/signup`, userData)\n    .then((res) => {\n      dispatch({ type: CLEAR_ERRORS });\n    })\n    .catch((err) => console.log(err));\n};\nexport const linkUserSchoology = () => {\naxios.post(`${hwbountyAPI}/schoologyLogin`,{\n  redirectURL: `${window.origin}/schoologyCallback`\n}).then(res=>res.status === 200 && (window.location.href = res.data))\n}\nexport const logoutUser = () => (dispatch) => {\n};\nexport const getUserData = () => (dispatch) => {\n};\n\nconst setAuthorizationHeader = (token) => {\n  const DBIdToken = `Bearer ${token}`;\n  localStorage.setItem(\"DBIdToken\", DBIdToken);\n  axios.defaults.headers.common[\"Authorization\"] = DBIdToken;\n};\n\n// btw  api.hwbounty.help/schoologyLogin\n/*\nreq: {\n  redirectURL:  \"hwbounty.help\"\n}\n*/\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst rawTheme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#6fe3d7\",\n      main: \"#4db6ac\",\n      dark: \"#91a3a1\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#ffb2ff\",\n      main: \"#ea80fc\",\n      dark: \"#b64fc8\",\n      contrastText: \"#fff\",\n    },\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\n    fontSize: 14,\n    fontWeightLight: 300, // Work Sans\n    fontWeightRegular: 400, // Work Sans\n    fontWeightMedium: 700, // Roboto Condensed\n    fontFamilySecondary: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\n  },\n\n  spreadIt: {\n    rootPadding: {\n      padding: 25,\n    },\n    paper: {\n      width: \"100%\",\n      borderRadius: 10,\n    },\n    inputBase: {\n      borderColor: \"rgba(0,0,0,0)\",\n      borderRadius: 2,\n    }\n  },\n});\n\nconst fontHeader = {\n  color: rawTheme.palette.text.primary,\n  fontWeight: rawTheme.typography.fontWeightMedium,\n  fontFamily: rawTheme.typography.fontFamilySecondary,\n};\n\nconst theme = {\n  ...rawTheme,\n  typography: {\n    ...rawTheme.typography,\n    fontHeader,\n    h1: {\n      ...rawTheme.typography.h1,\n      ...fontHeader,\n      letterSpacing: 0,\n      fontSize: 60,\n    },\n    h2: {\n      ...rawTheme.typography.h2,\n      ...fontHeader,\n      fontSize: 48,\n    },\n    h3: {\n      ...rawTheme.typography.h3,\n      ...fontHeader,\n      fontSize: 42,\n    },\n    h4: {\n      ...rawTheme.typography.h4,\n      ...fontHeader,\n      fontSize: 36,\n    },\n    h5: {\n      ...rawTheme.typography.h5,\n      fontSize: 20,\n      fontFamily: \"'Oswald'\",\n      fontWeight: rawTheme.typography.fontWeightLight,\n    },\n    h6: {\n      fontFamily: \"'Nunito'\",\n      ...rawTheme.typography.h6,\n      ...fontHeader,\n      fontSize: 18,\n    },\n    subtitle1: {\n      ...rawTheme.typography.subtitle1,\n      fontSize: 18,\n    },\n    body1: {\n      ...rawTheme.typography.body2,\n      fontWeight: rawTheme.typography.fontWeightRegular,\n      fontSize: 16,\n    },\n    body2: {\n      ...rawTheme.typography.body1,\n      fontSize: 14,\n    },\n  },\n};\n\nexport default theme;\n","import {\n  SET_THEME,\n  SET_MODULE,\n  SET_AUTH_POPUP_OPEN,\n  SET_MODULE_FULLSCREEN,\n} from \"../types\";\n\nexport const setTheme = (themeNum) => (dispatch) => {\n  dispatch({ type: SET_THEME, payload: themeNum });\n};\n\nexport const setModule = (moduleId) => (dispatch) => {\n  dispatch({ type: SET_MODULE, payload: parseInt(moduleId) });\n};\n\nexport const setFullscreenModule = (name) => (dispatch) => {\n  // basically, we check the url params of /modules/:moduleName\n  // and convert that to id, set the fullscreen param to true, which enabled the modal\n\n  const tmp_map = {\n    calculator: 1,\n    essayEditor: 2,\n  };\n  if (name !== \"\") {\n    dispatch({ type: SET_MODULE, payload: tmp_map[name] });\n  }\n  dispatch({ type: SET_MODULE_FULLSCREEN, payload: true });\n};\n\nexport const setAuthPopupOpen = (open) => (dispatch) => {\n  dispatch({ type: SET_AUTH_POPUP_OPEN, payload: open });\n};\n","// React\nimport React, { useCallback, useEffect, useState } from \"react\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { setModule } from \"../../redux/actions/uiActions\";\n\n// Keybind\nimport { withShortcut } from \"react-keybind\";\n\nexport const KeybindManager = (props) => {\n  const { shortcut, setModule } = props;\n\n  const handleNumberPressed = (e) => {\n    setModule(e.key);\n  };\n\n  useEffect(() => {\n    shortcut.registerShortcut(\n      handleNumberPressed,\n      [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n      \"Change Module\",\n      \"Changes to specified module given the id. 0 will clear\"\n    );\n\n    /*\n    Later make it so that we map through all active keybinds with command\n    keybind arr will look something like this:\n    arr = [\n      {key=\"c\", action=\"SET_CALC\"},\n      {key=\"space\" action=\"CLEAR_ALL_MODULES\"}\n    ]\n    */\n\n    return () => {\n      // Returning from useEffect is equivilant to componentDidUnmount or whatever its called\n      shortcut.unregisterShortcut([\n        \"0\",\n        \"1\",\n        \"2\",\n        \"3\",\n        \"4\",\n        \"5\",\n        \"6\",\n        \"7\",\n        \"8\",\n        \"9\",\n      ]);\n    };\n  }, []);\n\n  return null;\n};\n\nexport default connect(null, { setModule })(withShortcut(KeybindManager));\n\n/*\nShortcut object that we get from withShortcut. This is retrieved from props\n\nshortcut: {\n  registerShortcut?: (\n    method: (e?: React.KeyboardEvent<any>) => any,\n    keys: string[],\n    title: string,\n    description: string,\n    holdDuration?: number,\n  ) => void\n  registerSequenceShortcut?: (\n    method: () => any,\n    keys: string[],\n    title: string,\n    description: string,\n  ) => void\n  shortcuts: Shortcut[]\n  triggerShortcut?: (key: string) => any\n  unregisterShortcut?: (keys: string[]) => void\n}\n*/\n","// React\nimport React, { useState } from \"react\";\n\n// MUI\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\n// MUI Treasury\nimport { useRoundInputBaseStyles } from \"@mui-treasury/styles/inputBase/round\";\n\nimport theme from \"../../util/theme\";\nimport { Container } from \"@material-ui/core\";\n\n/*\nTODO: remove mui theme provider here, it should work without it!!!\n(maybe check pallete or something?, color is sent but dark mode is not)\n*/\n\nexport const ForumSearch = (props) => {\n  const [query, setQuery] = useState(\"\");\n  const roundInput = useRoundInputBaseStyles();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const url = \"https://forums.hwbounty.help/?\" + query;\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n\n  const handleChange = (event) => {\n    setQuery(event.target.value);\n  };\n\n  return (\n    <Container maxWidth=\"xs\">\n      <MuiThemeProvider theme={theme}>\n        <form onSubmit={handleSubmit}>\n          <InputBase\n            classes={roundInput}\n            placeholder=\"Search on HWBounty Forums...\"\n            onChange={handleChange}\n            value={query}\n            fullWidth\n            {...props}\n          />\n        </form>\n      </MuiThemeProvider>\n    </Container>\n  );\n};\n\nexport default ForumSearch;\n","// React\nimport React from \"react\";\n\n// MUI\n\nexport const KeybindEditor = (props) => {\n  return (\n    <div>\n      <h1>Keybinds:</h1>\n      <ul>\n        <li>(c) - calculator</li>\n        <li>(f) - fullscreen module</li>\n        <li>3: nothing</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default KeybindEditor;\n","/* eslint-disable no-restricted-globals */\n// React\nimport React, { Fragment } from \"react\";\n\n// MUI\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircleRounded\";\n\n// Redux\nimport { connect } from \"react-redux\";\n\nimport axios from \"axios\";\nimport { Route } from \"react-router\";\n\nexport const AccountIconButton = (props) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const {\n    user: { authenticated },\n  } = props;\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleAuthLogs = () => {\n    if (localStorage.getItem(\"DBIdToken\")) {\n      localStorage.clear();\n      location.reload();\n      // return ;\n    } else {\n      //literal mega hack\n      location.href = location.href.split(\"/\").slice(0, -1).concat(\"login\").join(\"/\");\n    }\n\n\n  }\n  const openSchoologyOAuth = () => {\n    axios({\n      method: \"post\",\n      url: \"https://api.hwbounty.help/schoologyLogin\",\n      data: {\n        redirectURL: \"hwbounty.help\",\n      },\n    })\n      .then((res) => {\n        const newWindow = window.open(\n          res.data,\n          \"_blank\",\n          \"noopener,noreferrer\"\n        );\n        if (newWindow) newWindow.opener = null;\n      })\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <img src={JSON.parse(localStorage.getItem(\"user\"))?.pfp} style={{\n          maxHeight: 40,\n          maxWidth: 40,\n          borderRadius: 20\n        }} alt=\"\"/>\n      </IconButton>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        getContentAnchorEl={null}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n\n        <MenuItem onClick={openSchoologyOAuth}>Profile</MenuItem>\n        <MenuItem onClick={handleClose}>My account</MenuItem>\n        <MenuItem onClick={handleAuthLogs}>{localStorage.getItem(\"DBIdToken\") ? \"Logout\" : \"Login\"}</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(AccountIconButton);\n","// React\nimport React, { useState } from \"react\";\n\n// MUI\nimport { MuiThemeProvider, withStyles } from \"@material-ui/core/styles\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\n// MUI Treasury\n\nimport theme from \"../../util/theme\";\nimport {\n  Button,\n  Container,\n  List,\n  ListItem,\n  Paper,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\n\nimport Fuse from \"fuse.js\";\nimport { useHistory } from \"react-router-dom\";\nimport { getTheme } from \"./Navbar\";\n/*\nTODO: remove mui theme provider here, it should work without it!!!\n(maybe check pallete or something?, color is sent but dark mode is not)\n*/\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n});\n\nconst pageArray = [\n  {\n    name: \"Home\",\n    path: \"/\",\n    description: \"The main page with scheduling and more!\",\n  },\n  {\n    name: \"Schedules\",\n    path: \"/schedules\",\n    description: \"Find the perfect schedule for you!\",\n  },\n  {\n    name: \"Ideal Gas Calculator\",\n    path: \"/module/gaslawscalc\",\n    description: \"Gas Law Calculator PV=NRT (Chemistry)\",\n  },\n  {\n    name: \"Schedule\",\n    path: \"/schedule\",\n    description:\n      \"Your current schedule, with a clock, zoom links, and periods!\",\n  },\n];\nconst fuseOptions = {\n  includeScore: true,\n  // Search in `author` and in `tags` array\n  keys: [\"name\", \"description\"],\n};\nconst fuse = new Fuse(pageArray, fuseOptions);\nexport const PageSearch = (props) => {\n  const history = useHistory();\n  const [query, setQuery] = useState(\"\");\n  const swapPage = (path) => {\n    setQuery(\"\");\n    history.push(path);\n  };\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  const handleChange = (event) => {\n    setQuery(event.target.value);\n  };\n  const renderResults = () => {\n    return React.Children.toArray(\n      fuse\n        .search(query)\n        .filter((x, i) => i < 3)\n        .map((result) => {\n          return (\n            <ListItem\n              align=\"left\"\n              style={{\n                minWidth: 396,\n                margin: 0,\n                padding: 0,\n                textAlign: \"left\",\n              }}\n            >\n              <Button fullWidth onClick={(x) => swapPage(result.item.path)}>\n                <Typography\n                  variant=\"h5\"\n                  style={{\n                    fontSize: 20,\n                    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\n                    marginLeft: 0,\n                    marginRight: 40,\n                    top: 0,\n                    left: 10,\n                    fontWeight: 700,\n                    lineHeight: 1.235,\n                  }}\n                  align=\"left\"\n                >\n                  {result.item.name}\n                </Typography>\n                <Typography\n                  variant=\"h5\"\n                  style={{\n                    fontSize: 16,\n                    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\n                    textAlign: \"right\",\n                    marginLeft: 40,\n                    display: \"block\",\n                    position: \"relative\",\n                  }}\n                >\n                  {result.item.description.substring(0, 25)}\n                </Typography>\n              </Button>\n            </ListItem>\n          );\n        })\n    );\n  };\n  let pageOptions = renderResults();\n  return (\n    <Container\n      maxWidth=\"xs\"\n      style={{\n        margin: 0,\n      }}\n    >\n      <MuiThemeProvider theme={theme}>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            placeholder=\"Go To Page\"\n            onChange={handleChange}\n            value={query}\n            fullWidth\n            {...props}\n            style={{\n              color: getTheme() ? \"white\" : \"black\",\n            }}\n          />\n        </form>\n      </MuiThemeProvider>\n      {pageOptions.length ? (\n        <Paper\n          style={{\n            minWidth: 396,\n            height: 160,\n            position: \"absolute\",\n            top: 50,\n            borderTopLeftRadius: 0,\n            borderTopRightRadius: 0,\n          }}\n        >\n          <List\n            style={{\n              minWidth: 396,\n              height: 440,\n              overflowX: \"hidden\",\n              overflowY: \"scroll\",\n              scrollbarWidth: \"none\",\n              position: \"absolute\",\n              padding: 0,\n              margin: 0,\n            }}\n          >\n            {pageOptions}\n          </List>\n        </Paper>\n      ) : null}\n    </Container>\n  );\n};\n\nexport default withStyles(styles)(PageSearch);\n","// React\nimport React, { Fragment, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { setTheme, setAuthPopupOpen } from \"../../redux/actions/uiActions\";\n\n// MUI Components & Styling\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport themeFile from \"../../util/theme\";\n\n// MUI Icons\nimport DarkThemeIcon from \"@material-ui/icons/Brightness4Rounded\";\nimport LightThemeIcon from \"@material-ui/icons/Brightness7Rounded\";\n\nimport AccountIconButton from \"../User/AccountIconButton\";\nimport axios from \"axios\";\nimport PageSearch from \"./PageSearch\";\n\nconst styles = {\n  ...themeFile.spreadIt,\n  root: {\n    height: 50,\n  },\n  iconButton: {\n    marginLeft: \"auto\",\n  },\n};\nlet themeValue = 0;\nlet alreadySet = 0;\nexport const getTheme = ()=>{return themeValue};\nexport const Navbar = (props) => {\n  const {\n    classes,\n    UI: { theme },\n    user: { authenticated },\n    setAuthPopupOpen,\n  } = props;\n  const [user, setUser] = useState(null)\n  // const [themeValue, setThemeVal] = useState(theme);\n\n  if (user) {\n    if (!localStorage.getItem(\"user\"))\n      localStorage.setItem(\"user\", JSON.stringify(user));\n  } else {\n    axios.get(\"https://api.hwbounty.help/@me\").then((res) => {\n      if (res.status === 200 && res.data && res.data.password) {\n       setUser(res.data);\n      }\n    }).catch(console.trace);\n  }\n  const toggleTheme = () => {\n    const newVal = themeValue === 1 ? 0 : themeValue + 1;\n    localStorage.setItem(\"theme\",newVal);\n    themeValue = newVal;\n    // setThemeVal(newVal);\n    props.setTheme(newVal);\n  };\n  if (~~localStorage.getItem(\"theme\") && !alreadySet){ toggleTheme();alreadySet++}\n  const UserButton = () => {\n    return (\n      <div>\n        {authenticated ? (\n          <AccountIconButton />\n        ) : (\n          <Button onClick={() => setAuthPopupOpen(true)}>LOGIN</Button>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className={classes.root} style={{\n      minHeight:75\n    }}>\n      <Toolbar style={{\n        zIndex: 10000000,\n      }}>\n        <PageSearch/>\n        <IconButton onClick={toggleTheme} className={classes.iconButton}>\n          {themeValue === 0 ? <DarkThemeIcon /> : <LightThemeIcon />}\n        </IconButton>\n        <UserButton />\n      </Toolbar>\n    </div>\n  );\n};\n\nNavbar.propTypes = {\n  setTheme: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n  user: state.user,\n});\n\nexport default connect(mapStateToProps, { setTheme, setAuthPopupOpen })(\n  withStyles(styles)(Navbar)\n);\n","// React\nimport React, { Component } from \"react\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport moment from \"moment\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { CircularProgress, Container } from \"@material-ui/core\";\nimport { linkUserSchoology } from \"../../redux/actions/userActions\"\nimport { getTheme } from \"../Home/Navbar\";\nconst decodeHTML = (string) => {\n  const map = { gt: \">\" /* , … */ };\n  return string.replace(/&(#(?:x[0-9a-f]+|\\d+)|[a-z]+);?/gi, ($0, $1) => {\n    if ($1[0] === \"#\") {\n      return String.fromCharCode(\n        $1[1].toLowerCase() === \"x\"\n          ? parseInt($1.substr(2), 16)\n          : parseInt($1.substr(1), 10)\n      );\n    } else {\n      return map.hasOwnProperty($1) ? map[$1] : $0;\n    }\n  });\n};\nconst useButtonStyles = makeStyles({\n  root: {\n    border: 0,\n    borderRadius: 3,\n    marginTop: 10,\n    paddingBottom: 10,\n    display: \"block\",\n    cursor: \"pointer\",\n  },\n});\n\nconst generatePeriodColors = (stops) => {\n  let retarr = [];\n  for (let index = 0; index < stops; index++)\n    //50 => 25, 70 => 30 for Dark mode\n\n    retarr.push([0 + (index / stops) * 360, getTheme() ? 30 : 50, getTheme() ? 30 : 70]);\n  return retarr;\n};\n\nconst PeriodButton = (props) => {\n  const classes = useButtonStyles();\n  const { period, name, zoom, color, timeStart, timeEnd, tSS, tES, duration } = props;\n  //% from 0 to 100\n  let timePassed = 0;\n  //If we are past the end time, set time passed to 100%\n  if (Date.now() - timeEnd > 0) timePassed = 100;\n  //If we are in class, set time passed to (current-start)/(End-start) * 100\n  else if (Date.now() - timeStart > 0 && timeEnd - Date.now() > 0) timePassed = (Date.now() - timeStart) * 100 / (timeEnd - timeStart);\n  //If the class is upcoming, set time passed to 0\n  else timePassed = 0;\n  const [expanded, setExpanded] = React.useState(false);\n  const handleButtonClicked = () => {\n    if (zoom.length)\n      setExpanded(!expanded);\n  };\n\n  const handleZoomLinkClicked = (event, link) => {\n    event.stopPropagation();\n    const newWindow = window.open(link, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  let notDoneCol = color.filter(x => true);\n  //Set to 40 for Darkmode\n  notDoneCol[2] = getTheme() ? 50 : 90;\n  color[2] = getTheme() ? 40 : 80;\n  return (\n    <div style={{\n      marginBottom: \"2vh\",\n    }}>\n      <Card\n        className={classes.root}\n        onClick={handleButtonClicked}\n        style={{\n          background: `linear-gradient(90deg, hsl(${color[0]},${color[1]}%,${color[2]}%) 0%, hsl(${color[0]},${color[1]}%,${color[2]}%) ${timePassed}%, hsl(${notDoneCol[0]},${notDoneCol[1]}%,${notDoneCol[2]}%) ${timePassed + 0.000001}%, hsl(${notDoneCol[0]},${notDoneCol[1]}%,${notDoneCol[2]}%) 100%)`,\n          borderRadius: 20\n        }}\n\n      >\n        <Typography variant=\"h5\" align=\"left\" style={{\n          marginTop: \"-2.3%\",\n          marginLeft: \"4%\",\n          fontSize: window.innerWidth ** 0.4 + 48,\n          marginBottom: 40,\n        }}>\n          {name}\n        </Typography>\n        {expanded ? null :\n          <Typography align=\"left\" variant=\"h5\" style={{\n            fontSize: window.innerWidth <= 1250 ? window.innerWidth ** 0.3 + 10 : window.innerWidth ** 0.4 + 10,\n            margin: 10,\n            marginBottom: 10,\n            marginTop: 0,\n            bottom: window.innerWidth <= 1250 ? \"70%\" : \"1%\",\n            left: \"5%\",\n            position: \"absolute\",\n            fontFamily: \"'Nunito'\",\n          }}>{period}</Typography>}\n        {expanded ? null :\n          <Typography align=\"right\" variant=\"h5\" style={{\n            fontSize: window.innerWidth <= 1250 ? window.innerWidth ** 0.3 + 6: window.innerWidth ** 0.4 +6,\n            margin: 10,\n            marginBottom: 10,\n            marginTop: 0,\n            position: \"absolute\",\n            bottom: \"1%\",\n            right: \"5%\",\n            fontFamily: \"'Nunito'\",\n          }}>{tSS}-{tES} ({Math.round(duration / 60000)} mins)</Typography>}\n\n\n        <Collapse in={expanded}>\n          {React.Children.toArray(\n            zoom.map((z) => {\n              return (\n                <Button onClick={(e) => handleZoomLinkClicked(e, z.link)} >\n                  {z.title}\n                </Button>\n              );\n            })\n          )}\n        </Collapse>\n      </Card>\n    </div>\n  );\n};\nconst parsePeriods = (scheduleData, zoomLinkInfo) => {\n  let scheduleDay = moment(Date.now());\n  let dotw = [\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n    \"sunday\",\n  ][scheduleDay.isoWeekday() - 1];\n\n  let allClasses = scheduleData.classes;\n  let classes = new Map();\n  let nameOverrides = JSON.parse(scheduleData.schedule.nameOverrides);\n  let convertedMoment = moment().tz(JSON.parse(scheduleData.schedule.schedule).timePeriod).utcOffset();\n  let currentMoment = moment().utcOffset();\n  zoomLinkInfo.forEach((x) => {\n    classes.set(x.course.id, x);\n  });\n  let today = JSON.parse(scheduleData.schedule.schedule)[dotw];\n  let colors = generatePeriodColors(today.length);\n  return today.map((x, i) => {\n    let courseInfo = classes.has(\n      allClasses[x.period] && allClasses[x.period].value\n    )\n      ? classes.get(allClasses[x.period] && allClasses[x.period].value)\n      : null;\n    return {\n      period: nameOverrides[x.period] || x.period,\n      color: colors[i],\n      name:\n        courseInfo && courseInfo.course\n          ? courseInfo.course.course_title\n          : \"No Class\",\n      zoom:\n        courseInfo && courseInfo.links\n          ? courseInfo.links\n            .map((linkGroup) => {\n              return linkGroup.links.map((link) => {\n                return { link: link, title: decodeHTML(linkGroup.title) };\n              });\n            })\n            .flat(10000)\n          : [],\n      timeStart: moment(x.timeStart, \"hh:mma\").add((convertedMoment - currentMoment) / 60, \"hours\").unix() * 1000,\n      timeEnd: moment(x.timeEnd, \"hh:mma\").add((convertedMoment - currentMoment) / 60, \"hours\").unix() * 1000,\n      tSS: x.timeStart,\n      tES: x.timeEnd,\n      duration: x.timeEnd - x.timeStart,\n    };\n  });\n};\nlet done = false;\nconst fetchAndSet = async (setCourseInfo, setScheduleData, setCannotFetch) => {\n  try {\n    if (!localStorage.getItem(\"DBIdToken\")) throw new Error(\"something bad happened?\");\n    if (localStorage.getItem(\"cachedSchedule\"))\n      setScheduleData(JSON.parse(localStorage.getItem(\"cachedSchedule\")));\n    if (localStorage.getItem(\"cachedCourseInfo\"))\n      setCourseInfo(JSON.parse(localStorage.getItem(\"cachedCourseInfo\")));\n    let [schedule, courses] = await Promise.all([\n      axios.get(\"https://api.hwbounty.help/schedule/@me\").catch(console.trace),\n      axios.get(\"https://api.hwbounty.help/sgy/getZoomLinks\").catch(console.trace),\n    ]);\n    if (!schedule?.data || !courses?.data || schedule?.status === 500) throw new Error(\"something bad happened?\");\n    localStorage.setItem(\"cachedCourseInfo\", JSON.stringify(courses.data));\n    localStorage.setItem(\"cachedSchedule\", JSON.stringify(schedule.data));\n    setScheduleData(schedule.data);\n    setCourseInfo(courses.data);\n  } catch (error) {\n    setCannotFetch(true);\n  }\n};\nexport const Schedule = (props) => {\n  const [courseInfo, setCourseInfo] = useState(null);\n  const [scheduleData, setScheduleData] = useState(null);\n  const [fetching, setFetching] = useState(false)\n  const [cannotFetch, setCannotFetch] = useState(false)\n  if ((!scheduleData || !courseInfo)) {\n\n    if (!fetching) {\n      setFetching(true);\n      fetchAndSet(setCourseInfo, setScheduleData, setCannotFetch);\n      return null;\n    }\n    if (cannotFetch)\n      return (\n        <div>\n          <Typography>Seems like you dont have a school account linked! Please link your schoology account to get access to this feature!</Typography>\n          <Button variant=\"contained\" onClick={x => {\n            linkUserSchoology();\n          }\n\n          }>\n            Link Schoology Account\n        </Button>\n        </div>\n\n\n      )\n    return (<div>\n      <Typography>Fetching Schedule Data/ Zoom Links...</Typography>\n      <CircularProgress />\n    </div>);\n  }\n  if (!scheduleData?.schedule) return (\n    <div>\n      <Typography>Seems like you dont have a schedule setup! Please go over to the schedules catalog and set a schedule!</Typography>\n    </div>)\n  const periods = parsePeriods(scheduleData, courseInfo);\n  return (\n    <Container style={{ marginBottom: \"50px\", width: \"100%\", padding: \"0px\" }}>\n      {React.Children.toArray(\n        periods.map((p) => {\n          return (\n            <PeriodButton\n              period={p.period}\n              name={p.name}\n              zoom={p.zoom}\n              color={p.color}\n              timeStart={p.timeStart}\n              timeEnd={p.timeEnd}\n              tSS={p.tSS}\n              tES={p.tES}\n              duration={p.timeEnd - p.timeStart}\n            />\n          );\n        })\n      )}\n    </Container>\n  );\n};\n\nexport default Schedule;\n","// React\nimport { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport dayjs from \"dayjs\";\n\nconst styles = {\n  typography: {\n    textTransform: \"none\",\n  },\n  assignmentTitle: {\n    flex: 1,\n    textAlign: \"left\",\n    marginLeft: 10,\n    textTransform: \"none\",\n  },\n  assignmentDue: {\n    marginRight: 10,\n  },\n};\n\nexport const SchoologyAssignment = (props) => {\n  const { url, title, due, classes } = props;\n\n  const openLinkInNewTab = () => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n\n  return (\n    <Button onClick={openLinkInNewTab} fullWidth>\n      <Typography color=\"inherit\" className={classes.assignmentTitle}>\n        {title}\n      </Typography>\n      <Typography className={classes.assignmentDue}>\n        {dayjs(due).format(\"h:mm a\")}\n      </Typography>\n    </Button>\n  );\n};\n\nSchoologyAssignment.propTypes = {\n  title: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  due: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(SchoologyAssignment);\n","// React\nimport PropTypes from \"prop-types\";\nimport React, { Fragment, useState } from \"react\";\n\n// MUI\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLessRounded\";\nimport ExpandMore from \"@material-ui/icons/ExpandMoreRounded\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Components\nimport SchoologyAssignment from \"./SchoologyAssignment\";\n\nimport dayjs from \"dayjs\";\n\nconst styles = (theme) => ({\n  dateButton: {\n    width: \"100%\",\n    textTransform: \"none\",\n  },\n  dateText: {},\n});\n\nexport const AssignmentsGroup = (props) => {\n  // load each assignment with matching date from redux state\n  const [expanded, setExpanded] = useState(true);\n  const { date, assignments, classes } = props;\n\n  return (\n    <div>\n      <Button\n        className={classes.dateButton}\n        endIcon={expanded ? <ExpandLess /> : <ExpandMore />}\n        onClick={() => setExpanded(!expanded)}\n      >\n        <Typography fontWeight=\"fontWeightBold\">\n          {dayjs(date).format(\"dddd, MMM DD YYYY\")}\n        </Typography>\n      </Button>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        {React.Children.toArray(\n          assignments.map((a) => {\n            return (\n              <SchoologyAssignment title={a.title} url={a.url} due={a.due} />\n            );\n          })\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nAssignmentsGroup.propTypes = {\n  date: PropTypes.string.isRequired,\n  assignments: PropTypes.array.isRequired,\n};\n\nexport default withStyles(styles)(AssignmentsGroup);\n","// React\nimport React, { Component } from \"react\";\n\n// MUI & Styling\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Components\nimport SchoologyAssignment from \"./SchoologyAssignment\";\nimport AssignmentsGroup from \"./AssignmentsGroup\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { getAssignments } from \"../../redux/actions/dataActions\";\n\nimport dayjs from \"dayjs\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n});\n\nconst dateToDay = (date) => {\n  return dayjs(date).format(\"MM-DD-YYYY\");\n};\n\nexport class Assignments extends Component {\n  componentDidMount() {\n    this.props.getAssignments();\n  }\n  render() {\n    const { classes, assignments } = this.props;\n\n    // TODO: make it so that the keys are in by day, but the time of due date is preserved\n    const datesArray = Array.from(\n      new Set(assignments.map((a) => dateToDay(a.due)))\n    );\n    const assignmentByDay = {};\n    assignments.forEach((a) => {\n      if (assignmentByDay[dateToDay(a.due)])\n        assignmentByDay[dateToDay(a.due)].push(a);\n      else assignmentByDay[dateToDay(a.due)] = [a];\n    });\n\n    return (\n      <div>\n        {React.Children.toArray(\n          datesArray.map((date) => {\n            return (\n              <AssignmentsGroup\n                date={date}\n                assignments={assignmentByDay[date]}\n              />\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  assignments: state.data.assignments,\n});\n\nexport default connect(mapStateToProps, { getAssignments })(\n  withStyles(styles)(Assignments)\n);\n","import { SET_ASSIGNMENTS } from \"../types\";\n\nexport const getAssignments = () => (dispatch) => {\n  const tmpAssignments = [\n    {\n      title: \"This is a test assignment\",\n      url: \"https://google.com\",\n      due: \"2021-3-15\", // will be in the form of ISO Date...\n      id: \";SKDjf;slkx;d\",\n    },\n    {\n      title: \"the the middle\",\n      url: \"https://example.com\",\n      due: \"2021-2-1\",\n      id: \"sjdjfksld\",\n    },\n    {\n      title: \"Due on same day??\",\n      url: \"https://usaco.org\",\n      due: \"2021-3-15\",\n      id: \"Randos ass id bruhhhh\",\n    },\n    {\n      title: \"another assigment\",\n      url: \"https://facebook.com\",\n      due: \"2021-4-1\",\n      id: \";LSKDjfs;lkdf\",\n    },\n  ];\n\n  dispatch({ type: SET_ASSIGNMENTS, payload: tmpAssignments });\n};\n","// React\nimport React, { Component } from \"react\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport axios from \"axios\";\nimport { Card } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\nconst useButtonStyles = makeStyles({\n  card: {\n    background: \"linear-gradient(45deg, #a7acd9 30%, #9e8fb2 90%)\",\n    border: 0,\n    borderRadius: 10,\n    margin: \"5%\",\n    display: \"block\",\n    width: \"90%\",\n    \"min-height\": \"6vh\",\n  },\n});\n\nconst ZoomLinksCollection = (props) => {\n  const classes = useButtonStyles();\n  const { name, links, color } = props;\n  return (\n    <div>\n      <Card className={classes.button} style={{ background: color }}>\n        <Typography variant=\"h5\" display=\"block\">\n          {name}\n        </Typography>\n        {(() => {\n          let allLinks = [];\n          links.map((x) => {\n            x.links.map((link) => {\n              allLinks.push(\n                <Link display=\"block\" href={link}>\n                  {x.title}\n                  <br />\n                </Link>\n              );\n            });\n          });\n          return React.Children.toArray(allLinks);\n        })()}\n        <Typography align=\"left\">{name}</Typography>\n      </Card>\n    </div>\n  );\n};\nconst colors = [\n  \"rgb(255,149,128)\",\n  \"rgb(255,204,153)\",\n  \"rgb(255,255,153)\",\n  \"rgb(204,255,153)\",\n  \"rgb(204,247,255)\",\n  \"rgb(204,212,255)\",\n  \"rgb(238,204,255)\",\n];\nclass ZoomLinksPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      zoomLinks: null,\n    };\n  }\n  async fetchZoomLinks() {\n    let res = await axios.get(\"https://api.hwbounty.help/sgy/getZoomLinks\").catch(console.trace);\n    if (res.status == 200) {\n      localStorage.setItem(\"zoomLinks\", JSON.stringify(res.data));\n      this.setState({ zoomLinks: res.data });\n    } else this.setState({ zoomLinks: res.status });\n  }\n  componentDidMount(){\n    this.fetchZoomLinks();\n  }\n  render() {\n    if (!this.state.zoomLinks && !localStorage.getItem(\"zoomLinks\")) {\n      return <Typography variant=\"h4\">Fetching Zoom Links</Typography>;\n    }\n    if (!this.state.zoomLinks && localStorage.getItem(\"zoomLinks\")) {\n      this.state = { zoomLinks: JSON.parse(localStorage.getItem(\"zoomLinks\")) };\n    }\n    if (Math.floor(this.state.zoomLinks / 100) === 4) {\n      return <Typography variant=\"h4\">Schoology Not Linked!</Typography>;\n    }\n    return (\n      <div>\n        {React.Children.toArray(\n          this.state.zoomLinks\n            .filter((x) => x.links.length)\n            .map((p, i) => {\n              return (\n                <ZoomLinksCollection\n                  name={p.course_name}\n                  links={p.links}\n                  color={colors[i]}\n                />\n              );\n            })\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ZoomLinksPage;\n","// React\nimport React from \"react\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Container from \"@material-ui/core/Container\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Components\nimport Schedule from \"./Schedule\";\nimport Assignments from \"./Assignments\";\nimport ZoomLinks from \"./ZoomLinks\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n  paper: {\n    ...theme.spreadIt.paper,\n  },\n  content: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    textAlign: \"center\",\n  },\n});\n\nconst Calendar = (props) => {\n  const { classes } = props;\n\n  const [tab, setTab] = React.useState(0);\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  return (\n    <Paper className={classes.paper}>\n      <Tabs\n        value={tab}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        onChange={handleTabChange}\n        variant=\"fullWidth\"\n      >\n        <Tab label=\"Schedule\" />\n        <Tab label=\"Assignments\" />\n      </Tabs>\n      <Container className={classes.content}>\n        {tab === 0 && <Schedule />}\n        {tab === 1 && <Assignments />}\n      </Container>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(Calendar);\n","/**\n * Thank you ChristopherChudzicki for this code! (copy-paste)\n *\n * Makes a series of replacements on MathQuill-generated LaTeX strings so that\n * they can be parsed by MathJS.\n *\n * Notes:\n *  1. This is pretty heuristic. Might discover updates needed.\n *  2. Much of this could be used to preprocess LaTeX generated by other means\n * (i.e., not MathQuill.) The main bit that is MathQuill-specific is probably\n * the operatorname replacements.\n *\n * @param  {string} fromMQ a MathQuill-generated LaTeX expression\n * @return {string} the input expression with LaTeX commands converted to mathjs\n */\nexport default function mathquillToMathJS(fromMQ) {\n  const replacements = [\n    { tex: \"\\\\operatorname{diff}\", mathjs: \"diff\" },\n    { tex: \"\\\\operatorname{pdiff}\", mathjs: \"pdiff\" },\n    { tex: \"\\\\operatorname{curl}\", mathjs: \"curl\" },\n    { tex: \"\\\\operatorname{div}\", mathjs: \"div\" },\n    { tex: \"\\\\operatorname{norm}\", mathjs: \"norm\" },\n    { tex: \"\\\\operatorname{mod}\", mathjs: \"mod\" },\n    { tex: \"\\\\operatorname{abs}\", mathjs: \"abs\" },\n    { tex: \"\\\\operatorname{unitT}\", mathjs: \"unitT\" },\n    { tex: \"\\\\operatorname{unitN}\", mathjs: \"unitN\" },\n    { tex: \"\\\\operatorname{unitB}\", mathjs: \"unitB\" },\n    { tex: \"\\\\operatorname{arccosh}\", mathjs: \"arccosh\" },\n    { tex: \"\\\\operatorname{arcsinh}\", mathjs: \"arcsinh\" },\n    { tex: \"\\\\operatorname{arctanh}\", mathjs: \"arctanh\" },\n    { tex: \"\\\\cdot\", mathjs: \" * \" },\n    { tex: \"\\\\left\", mathjs: \"\" },\n    { tex: \"\\\\right\", mathjs: \"\" },\n    { tex: \"{\", mathjs: \"(\" },\n    { tex: \"}\", mathjs: \")\" },\n    { tex: \"~\", mathjs: \" \" },\n    { tex: \"\\\\\", mathjs: \" \" },\n  ];\n\n  // remove fractions, then apply replacements\n  const noFrac = fracToDivision(fromMQ);\n  const noBraceSub = convertSubscript(noFrac);\n  return replacements.reduce(\n    (acc, r) => replaceAll(acc, r[\"tex\"], r[\"mathjs\"]),\n    noBraceSub\n  );\n}\n\n/**\n * Recursively removes braces from LaTeX subscripts\n *   - example: x_{12foo_{bar123_{evenlower}}} --> x_12foo_bar123_evenlower\n */\nexport function convertSubscript(expr) {\n  const sub = \"_{\";\n  const subStart = expr.indexOf(sub);\n\n  if (subStart < 0) {\n    return expr;\n  }\n\n  const numStart = subStart + sub.length;\n  const closingBrace = expr.indexOf(\"}\", numStart);\n  const newExpr =\n    expr.slice(0, subStart) +\n    \"_\" +\n    expr.slice(numStart, closingBrace) +\n    expr.slice(closingBrace + 1);\n\n  return convertSubscript(newExpr);\n}\n\n/**\n * Recursively replaces LaTeX fractions with normal divison\n *   - example: \\frac{a}{1 + \\frac{b}{c}} --> {a}/{1 + {b}/{c}}\n */\nexport function fracToDivision(expr) {\n  const frac = \"\\\\frac\";\n  const fracStart = expr.indexOf(frac);\n  const numStart = fracStart + frac.length;\n\n  if (fracStart < 0) {\n    return expr;\n  }\n\n  const divIdx = findClosingBrace(expr, numStart);\n  // Remove frac, and add \"/\"\n  const newExpr =\n    expr.slice(0, fracStart) +\n    expr.slice(numStart, divIdx + 1) +\n    \"/\" +\n    expr.slice(divIdx + 1);\n\n  return fracToDivision(newExpr);\n}\n\nexport function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function escapeRegExp(str) {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\n  // $& means the whole matched string\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nexport function replaceAll(str, find, replaceWith) {\n  // from https://stackoverflow.com/a/1144788/2747370\n  return str.replace(new RegExp(escapeRegExp(find), \"g\"), replaceWith);\n}\n\nexport function findClosingBrace(str, startIdx) {\n  const braces = {\n    \"[\": \"]\",\n    \"<\": \">\",\n    \"(\": \")\",\n    \"{\": \"}\",\n  };\n\n  const openingBrace = str[startIdx];\n\n  const closingBrace = braces[openingBrace];\n\n  if (closingBrace === undefined) {\n    throw Error(\n      `${str} does not contain an opening brace at position ${startIdx}.`\n    );\n  }\n\n  let stack = 1;\n\n  // eslint-disable-next-line no-plusplus\n  for (let j = startIdx + 1; j < str.length; j++) {\n    if (str[j] === openingBrace) {\n      stack += +1;\n    } else if (str[j] === closingBrace) {\n      stack += -1;\n    }\n    if (stack === 0) {\n      return j;\n    }\n  }\n\n  // stack !== 0\n  throw Error(\n    `${str} has a brace that opens at position ${startIdx} but does not close.`\n  );\n}\n","// React\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst useStyles = makeStyles({\n  numPadRoot: {},\n  symbolPadRoot: {},\n  button: {\n    //flex: 1,\n  },\n});\n\nconst SymbolButton = ({ onClick, latex, symbol }) => {\n  const classes = useStyles();\n  return (\n    <Button\n      className={classes.button}\n      variant=\"contained\"\n      onClick={() => onClick(latex)}\n    >\n      {symbol}\n    </Button>\n  );\n};\n\nexport const NumPad = (props) => {\n  const classes = useStyles();\n  const { onClick } = props;\n\n  const NumRow = ({ arr }) => {\n    return (\n      <Grid container item spacing={1} wrap=\"nowrap\">\n        {React.Children.toArray(\n          arr.map((num) => (\n            <Grid item>\n              {num !== null ? (\n                <SymbolButton onClick={onClick} latex={num} symbol={num} />\n              ) : (\n                <Button className={classes.button} disabled />\n              )}\n            </Grid>\n          ))\n        )}\n      </Grid>\n    );\n  };\n  return (\n    <Grid container spacing={1} wrap=\"nowrap\" direction=\"column\">\n      <NumRow arr={[1, 2, 3]} />\n      <NumRow arr={[4, 5, 6]} />\n      <NumRow arr={[7, 8, 9]} />\n      <NumRow arr={[null, 0, \".\"]} />\n    </Grid>\n  );\n};\n\nexport const SymbolPad = (props) => {\n  const { onClick } = props;\n  const symbols = [\n    { symbol: \"+\", latex: \"+\" },\n    { symbol: \"-\", latex: \"-\" },\n    { symbol: \"*\", latex: \"cdot\" },\n    { symbol: \"/\", latex: \"frac\" },\n    { symbol: \"√\", latex: \"sqrt\" },\n    { symbol: \"^\", latex: \"^\" },\n  ];\n\n  return (\n    <div>\n      <Grid container spacing={1}>\n        <Grid container item spacing={1}>\n          {React.Children.toArray(\n            symbols.map((obj) => {\n              return (\n                <Grid item>\n                  <SymbolButton\n                    onClick={onClick}\n                    latex={obj.latex}\n                    symbol={obj.symbol}\n                  />\n                </Grid>\n              );\n            })\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nNumPad.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nSymbolPad.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// MUI\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Math related\nimport mathquillToMathJS from \"../../../util/latex/preprocessMathQuill\";\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\nimport * as math from \"mathjs\";\nimport { NumPad, SymbolPad } from \"./CalcTools\";\n\n// required for latex to format correctly\naddStyles();\nconst history = [];\nconst parser = math.parser();\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n  symbolPadGrid: {\n    paddingTop: 15,\n  },\n});\n\nconst LatexInput = (props) => {\n  const { onChange, onSubmit, mathquillDidMount } = props;\n\n  return (\n    <EditableMathField\n      latex=\"\"\n      style={{ height: \"auto\", fontSize: 50, flex: 1 }}\n      config={{\n        autoCommands: \"pi theta sqrt sum\",\n        autoOperatorNames:\n          \"sin cos tan feet ft inches in miles cm sech arcsec arsinh to rad deg radians degrees\",\n        handlers: {\n          enter: onSubmit,\n        },\n      }}\n      onChange={onChange}\n      mathquillDidMount={mathquillDidMount}\n    />\n  );\n};\n\nexport const Calculator = (props) => {\n  const { classes } = props;\n\n  const [expression, setExpression] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const mathField = useRef(null);\n  const handleInputChange = (val) => {\n    setExpression(val.latex());\n  };\n\n  const handleSubmit = (val) => {\n    try {\n      const ans = parser.evaluate(mathquillToMathJS(val.latex()));\n      setAnswer(ans.toString());\n      setError(false);\n    } catch {\n      setAnswer(\"ERROR!!!!\");\n      setError(true);\n    }\n  };\n\n  const handleMathquillMount = (val) => {\n    mathField.current = val;\n  };\n\n  const handleNumberPressed = (num) => {\n    mathField.current.write(num);\n    mathField.current.focus();\n  };\n\n  const handleSymbolPressed = (symbol) => {\n    mathField.current.cmd(symbol);\n    mathField.current.focus();\n  };\n\n  return (\n    <Paper className={classes.paper}>\n      <div className={classes.rootPadding}>\n        <InputBase\n          inputComponent={LatexInput}\n          inputProps={{\n            onChange: handleInputChange,\n            onSubmit: handleSubmit,\n            mathquillDidMount: handleMathquillMount,\n          }}\n          className={classes.input}\n          value={expression}\n          fullWidth\n        ></InputBase>\n        <Grid container spacing={2} className={classes.symbolPadGrid}>\n          <Grid item xs>\n            <NumPad onClick={handleNumberPressed} />\n          </Grid>\n          <Grid item xs>\n            <SymbolPad onClick={handleSymbolPressed} />\n          </Grid>\n        </Grid>\n        <Typography color={error ? \"error\" : \"initial\"}>{answer}</Typography>\n      </div>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(Calculator);\n","// React\nimport React from \"react\";\n\n// MUI\nimport Paper from \"@material-ui/core/Paper\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n});\n\nexport const EssayEditor = (props) => {\n  const { classes } = props;\n\n  // Do some redux thingy to set module to EssayEditor. This will tell hwbounty which module to go to on fullscreen (f)\n  return (\n    <Paper className={classes.paper}>\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignContent=\"center\"\n        style={{ height: \"100%\" }}\n      >\n        <Typography variant=\"h5\">\n          Please enable fullscreen mode (f) to use\n        </Typography>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(EssayEditor);\n","import { Button, Card, Collapse, Container, FormControl, InputLabel, MenuItem, Select, TextField, Typography, withStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst GasLaws = (props) => {\n\tconst [p, setP] = useState(1);\n\tconst [v, setV] = useState(22.4);\n\tconst [n, setN] = useState(1);\n\tconst [t, setT] = useState(273.15);\n\tconst [expanded, setExpanded] = useState(false);\n\tconst [solveFor, setSolveFor] = useState(0);\n\tconst handleSelect = (event, newValue) => {\n\t\tsetSolveFor(event.target.value)\n\t}\n\tconst calculate = ()=>{\n\t\t\n\t}\n\tconst handleTextChange = (event,nv,set)=>{\n\t\tset(event.target.value);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Typography>Hi!</Typography>\n\t\t\t<Container>\n\t\t\t\t<TextField id=\"pressure\" label=\"Pressure (ATM)\" defaultValue={p} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setP)} handle />\n\t\t\t\t<TextField id=\"volume\" label=\"Volume (L)\" defaultValue={v} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setV)}/>\n\t\t\t\t<TextField id=\"moles\" label=\"# of Moles (n)\" defaultValue={n} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setN)}/>\n\t\t\t\t<TextField disabled id=\"constant\" label=\"Gas Constant (R)\" defaultValue={0.0821} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} />\n\t\t\t\t<TextField id=\"temperature\" label=\"Temperature (K)\" defaultValue={t} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setT)}/>\n\t\t\t\t<FormControl style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} >\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Solve For</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\t\t\tvalue={solveFor}\n\t\t\t\t\t\tonChange={handleSelect}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value={0}>Pressure</MenuItem>\n\t\t\t\t\t\t<MenuItem value={1}>Volume</MenuItem>\n\t\t\t\t\t\t<MenuItem value={2}>Molarity</MenuItem>\n\t\t\t\t\t\t<MenuItem value={3}>Temperature</MenuItem>\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t</Container>\n\t\t\t<span>\n\n\t\t\t</span>\n\n\n\t\t\t<Collapse in={expanded}>\n\n\t\t\t</Collapse>\n\t\t</Card>\n\t);\n\n}\n\nconst styles = {\n\troot: {\n\t\theight: \"100%\",\n\t\tflex: 1,\n\t},\n};\nconst mapStateToProps = (state) => ({\n\tUI: state.UI,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(GasLaws));","// React\nimport { Fragment, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Redux\nimport { connect } from \"react-redux\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Paper from \"@material-ui/core/Paper\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Modules\nimport Calculator from \"./Calculator/Calculator\";\nimport EssayEditor from \"./EssayEditor/EssayEditor\";\nimport { useLocation } from \"react-router-dom\";\nimport GasLaws from \"./GasLaws\";\nimport { Container } from \"@material-ui/core\";\n\nconst styles = {\n  root: {\n    height: \"100%\",\n    flex: 1,\n  },\n};\n\nexport const ModuleViewer = (props) => {\n  const {\n    classes,\n    // UI: { module },\n  } = props;\n  let loc = useLocation();\n  let modName = loc.pathname.split(\"/\").pop().toLowerCase();\n  const Module = (props) => {\n    switch (modName) {\n      case \"calculator\":\n        return <Calculator />;\n      case \"essay\":\n        return <EssayEditor />;\n      case \"gaslawscalc\":\n        return <GasLaws />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Container>\n      <Module />\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(ModuleViewer));\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// MUI\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Math related\nimport mathquillToMathJS from \"../../../util/latex/preprocessMathQuill\";\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\nimport * as math from \"mathjs\";\nimport { NumPad, SymbolPad } from \"./CalcTools\";\n\nexport const CalculatorFullscreen = (props) => {\n  console.log(\"calcS\");\n  return <Paper>hello</Paper>;\n};\n\nexport const CalculatorLeftTab = (props) => {};\n\nexport const CalculatorRightTab = (props) => {};\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// MUI\nimport Modal from \"@material-ui/core/Modal\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Modules\nimport {\n  CalculatorFullscreen,\n  CalculatorLeftTab,\n  CalculatorRightTab,\n} from \"./Calculator/CalculatorFullscreen\";\n\nexport const FullscreenModuleViewer = (props) => {\n  return (\n    <Modal>\n      <CalculatorFullscreen />\n    </Modal>\n  );\n};\n\nexport default FullscreenModuleViewer;\n","/**\n * @typedef {Player} Player\n * @property {Player} self\n * @property {SocketIO.Socket} connection\n * @property {Map<String,CleanedVideoData>} songInfoMap\n */\n\n/*\n ██████╗░░█████╗░███╗░░██╗████████╗  ████████╗░█████╗░██╗░░░██╗░█████╗░██╗░░██╗  ████████╗██╗░░██╗██╗░██████╗\n ██╔══██╗██╔══██╗████╗░██║╚══██╔══╝  ╚══██╔══╝██╔══██╗██║░░░██║██╔══██╗██║░░██║  ╚══██╔══╝██║░░██║██║██╔════╝\n ██║░░██║██║░░██║██╔██╗██║░░░██║░░░  ░░░██║░░░██║░░██║██║░░░██║██║░░╚═╝███████║  ░░░██║░░░███████║██║╚█████╗░\n ██║░░██║██║░░██║██║╚████║░░░██║░░░  ░░░██║░░░██║░░██║██║░░░██║██║░░██╗██╔══██║  ░░░██║░░░██╔══██║██║░╚═══██╗\n ██████╔╝╚█████╔╝██║░╚███║░░░██║░░░  ░░░██║░░░╚█████╔╝╚██████╔╝╚█████╔╝██║░░██║  ░░░██║░░░██║░░██║██║██████╔╝\n ╚═════╝░░╚════╝░╚═╝░░╚══╝░░░╚═╝░░░  ░░░╚═╝░░░░╚════╝░░╚═════╝░░╚════╝░╚═╝░░╚═╝  ░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚═════╝░\n \n ░░░░░░████████╗███████╗████████╗\n ░░░░░░╚══██╔══╝██╔════╝╚══██╔══╝\n █████╗░░░██║░░░█████╗░░░░░██║░░░\n ╚════╝░░░██║░░░██╔══╝░░░░░██║░░░\n ░░░░░░░░░██║░░░███████╗░░░██║░░░\n ░░░░░░░░░╚═╝░░░╚══════╝░░░╚═╝░░░\n */\nimport socketClient, { io } from 'socket.io-client';\nconst getHighestThumbnail = (thumbnails) => {\n\tlet best = null;\n\tthumbnails.forEach(x => {\n\t\tif (!best) best = x;\n\t\tif (x.height * x.width > best.height * best.width) best = x;\n\t});\n\treturn best.url;\n}\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\n/**\n * \n * @param {Object} info \n * @returns {CleanedVideoData}\n */\nconst cleanAndParseInfo = (info) => {\n\treturn {\n\t\tsongName: info.title,\n\t\tsongAuthor: info.ownerChannelName,\n\t\tbestThumbnail: getHighestThumbnail(info.thumbnails),\n\t\turl: info.video_url,\n\t}\n}\nconst cleanAndParseInfoFromYAPI = (info) => {\n\treturn {\n\t\tsongName: info.items[0].snippet.title,\n\t\tsongAuthor: info.items[0].snippet.channelTitle,\n\t\tbestThumbnail: info.items[0].snippet.thumbnails.maxres || info.items[0].snippet.thumbnails.high || info.items[0].snippet.thumbnails.standard || info.items[0].snippet.thumbnails.medium || info.items[0].snippet.thumbnails.default,\n\t\turl: `https://youtu.be/${info.items[0].id}`,\n\t}\n}\nconst checkIfVideoOver = (vidElement) => {\n\treturn Number.isNaN(vidElement.duration) || (Math.abs(vidElement.duration - vidElement.currentTime) < 1 && !Number.isNaN(vidElement.currentTime / vidElement.duration) && vidElement.currentTime / vidElement.duration > 0.995)\n}\nclass Player {\n\t/**@type {Player} */\n\tstatic self;\n\n\tconstructor(updateMe) {\n\n\t\tthis.updateMe = updateMe;\n\t\tPlayer.self = Player.self || this;\n\t\tthis.songInfoMap = new Map();\n\t\twindow.URL = window.URL || window.webkitURL;\n\t\twindow.MediaSource = window.MediaSource || window.WebKitMediaSource;\n\t\t/** @type {SocketIO.Socket} */\n\t\tthis.socket = socketClient(\"https://api.hwbounty.help/\");\n\t\tthis.video = document.getElementById(\"streamingVideoForMusic\");\n\t\tthis.stopPlaying = false;\n\t\tthis.mediaSource = null;\n\t\t/** @type {SourceBuffer} */\n\t\tthis.sourceBuffer = null;\n\t\tthis.queue = [];\n\n\t\t\n\t\tthis.songQueue = [\n\t\t];\n\t\ttry {\n\t\t\t/**\n\t\t\t * @type {Array<String>}\n\t\t\t */\n\t\t\tPlayer.self.songQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n\t\t} catch (error) {\n\t\t\tPlayer.self.songQueue = [];\n\t\t}\n\t\tthis.played = [];\n\t\tthis.songCount = 0;\n\t\tthis.currentSong = {\n\n\t\t};\n\t\tthis.currentSongLink = \"\";\n\t\tthis.loop = false;\n\t\tthis.video.onended = this.processQueue;\n\t\tthis.socket.on(\"getTrackInfo\", this.handleSongInfo);\n\t\tthis.socket.on(\"addSongsToQueue\",this.addToQueue);\n\t\tthis.tryingToPlay = false;\n\t\t//change player info \"Reactively\"\n\t\tsetInterval(() => {\n\t\t\tthis.updateMe.setState(Object.assign(this.updateMe.state, { updateMe: !this.updateMe.state.updateMe }));\n\t\t\tthis.processQueue();\n\t\t}, 100);\n\t\tsetInterval(()=>{\n\t\t\tlocalStorage.setItem(\"queue\",JSON.stringify(this.songQueue));\n\t\t},250);\n\t\tthis.searchResults = null;\n\t\tthis.socket.on(\"querySongs\", (data) => {\n\t\t\tthis.searchResults = data\n\t\t});\n\t\t// this is so that We can reset the data connection and stuff when we need to\n\t}\n\t/**\n\t * @param {String} songURL\n\t */\n\tsendTrack(songURL) {\n\t\tthis.socket.emit('track', songURL);\n\t}\n\t/**\n\t * Plays a song instantly! DO NOT CALL THIS! WILL OVERRIDE WHATS CURRENTLY PLAYING\n\t * @param {String} songURL \n\t */\n\tplaySong(songURL) {\n\t\t// this.updateMe.setState(Object.assign(this.updateMe.state,{}))\n\t\tthis.tryingToPlay = true;\n\t\t(async ()=>{\n\t\t\tthis.mediaSource = new window.MediaSource();\n\t\t\tthis.video.src = window.URL.createObjectURL(this.mediaSource);\n\t\t\t\n\t\t\tthis.video.pause();\n\t\t\tthis.socket.emit('track', songURL);\n\t\t\tthis.currentSongLink = songURL;\n\t\t\twhile (this.mediaSource.readyState !== \"open\") await sleep(1);\n\t\t\tthis.video.volume = .5;\n\t\t\tthis.sourceBuffer = this.mediaSource.addSourceBuffer('video/webm; codecs=\"opus\"');\n\t\t\tthis.sourceBuffer.mode = \"sequence\";\n\t\t\tlet end = false;\n\t\t\tlet wait = true;\n\t\t\tthis.sourceBuffer.onupdateend = () => { wait = false };\n\t\t\tlet chunkcount = 0;\n\t\t\tlet trials = 0;\n\t\t\tsetInterval(()=>{\n\t\t\t\tif (trials >= 0) trials-=2;\n\t\t\t},100)\n\t\t\tlet inter = setInterval(() => {\n\t\t\t\tif (this.stopPlaying) clearInterval(inter);\n\t\t\t\tif (wait) return;\n\t\t\t\tif (trials > 20) return;\n\t\t\t\tif (this.queue.length && this.mediaSource.readyState === \"open\" && this.sourceBuffer) {\n\t\t\t\t\tlet res = this.queue.shift();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.sourceBuffer.appendBuffer(res);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\ttrials++;\n\t\t\t\t\t\tthis.queue.unshift(res);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 10);\n\n\t\t\tthis.socket.on(\"video-data-stream\", (data) => {\n\t\t\t\tif (data.link !== songURL) return\n\t\t\t\tlet uIntArray = new Uint8Array(data.chunk);\n\t\t\t\tif (chunkcount === 0) {\n\t\t\t\t\tthis.sourceBuffer.appendBuffer(uIntArray);\n\t\t\t\t\t// sourceBuffer.appendBuffer(uIntArray.buffer);\n\t\t\t\t\tchunkcount++;\n\t\t\t\t\tthis.tryingToPlay = false;\n\t\t\t\t\tthis.video.play();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.queue.push(uIntArray);\n\t\t\t\t// if (queue.length === 33) {\n\t\n\t\t\t\t// }\n\t\t\t})\n\t\t\tthis.socket.on(\"video-info\", (data) => {\n\t\t\t\tif (data.link !== songURL) return\n\t\t\t\tlet cleanedInfo = cleanAndParseInfo(data.data.videoDetails);\n\t\t\t\tthis.currentSong = cleanedInfo;\n\t\t\t\t\n\t\t\t\t// this.songInfoMap.set(songURL, cleanedInfo);\n\t\t\t})\n\t\t\tthis.socket.on(\"video-data-done\", () => {\n\t\t\t})\n\t\t})();\n\t\t\n\t}\n\taddToQueue(...songLinks) {\n\t\tPlayer.self.songQueue = Player.self.songQueue.concat(songLinks);\n\t}\n\thandleSongInfo(link, data) {\n\t\tif (data) {\n\t\t\tPlayer.self.songInfoMap.set(link, cleanAndParseInfoFromYAPI(data));\n\t\t} else {\n\t\t\tPlayer.self.songInfoMap.delete(link);\n\t\t}\n\t}\n\tprocessQueue() {\n\t\tPlayer.self.songQueue.forEach(x => {\n\t\t\tif (!Player.self.songInfoMap.has(x)) {\n\t\t\t\tPlayer.self.socket.emit(\"getTrackInfo\", x);\n\t\t\t\tPlayer.self.songInfoMap.set(x, \"LoadingInData\");\n\t\t\t}\n\t\t})\n\t\tif (Player.self.tryingToPlay) return;\n\t\tif (!checkIfVideoOver(Player.self.video)) return;\n\t\tif (Player.self.loop) Player.self.songQueue.push(Player.self.currentSongLink);\n\t\tif (!Player.self.songQueue.length){\n\t\t\t// Player.self.currentSong = null;\n\t\t\treturn;\n\t\t};\n\t\tlet newSong = Player.self.songQueue.shift();\n\t\tif (!newSong) return;\n\t\tPlayer.self.playSong(newSong);\n\t}\n\tsearch(query) {\n\t\tPlayer.self.socket.emit(\"querySongs\", query);\n\t}\n\n\n}\nexport default Player;","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Container, Paper, Tab, Tabs } from \"@material-ui/core\";\nimport MusicPlayer from \"./MusicPlayer\";\nimport Player from \"./Player\";\nimport QueuePage from \"./QueuePage\";\nimport SearchMusic from \"./SearchPage\";\nimport \"../MusicModule/musicPlayer.css\";\nconst getHighestThumbnail = (thumbnails) => {\n\tlet best = null;\n\tthumbnails.forEach(x => {\n\t\tif (!best) best = x;\n\t\tif (x.height * x.width > best.height * best.width) best = x;\n\t});\n\treturn best.url;\n}\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\n/**\n * \n * @param {Object} info \n * @returns {CleanedVideoData}\n */\nconst cleanAndParseInfo = (info) => {\n\treturn {\n\t\tsongName: info.title,\n\t\tsongAuthor: info.ownerChannelName,\n\t\tbestThumbnail: getHighestThumbnail(info.thumbnails),\n\t\turl: info.video_url,\n\t}\n}\nclass MusicModule extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taudionState: {\n\t\t\t\tstartedAt: null,\n\t\t\t\tloadingProcess: 0,\n\t\t\t},\n\t\t\tvolumeLevel: 2000,\n\t\t\tprogress: 0,\n\t\t\tplayState: 0,\n\t\t\tloading: false,\n\t\t\tsocket: null,\n\t\t\tduration: 0,\n\t\t\tcurrentSong: null,\n\t\t\ttab: 0,\n\t\t\tsongInfoMap: new Map(),\n\t\t\tupdateMe: false,\n\t\t}\n\t}\n\tcomponentDidMount(props) {\n\t\tif (!localStorage.getItem(\"DBIdToken\")) return null;\n\t\tlet player = new Player(this);\n\t\t(async () => {\n\t\t\twhile (!player?.currentSong?.bestThumbnail) await sleep(1);\n\t\t\tthis.setState({});\n\t\t})();\n\t}\n\thandleTabChange(event, newValue, self) {\n\t\tself.setState(Object.assign(self.state, { tab: newValue }));\n\t};\n\trender() {\n\t\treturn null;\n\t\tif (!localStorage.getItem(\"DBIdToken\")) return null;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Container id=\"musicContainer\" style={{\n\t\t\t\t\tminWidth: 350,\n\t\t\t\t\tminHeight:500,\n\t\t\t\t}}>\n\n\t\t\t\t\t< Paper >\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={this.state.tab}\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\tonChange={(event, newValue) => this.handleTabChange(event, newValue, this)}\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label=\"Player\" />\n\t\t\t\t\t\t\t<Tab label=\"Queue\" />\n\t\t\t\t\t\t\t<Tab label=\"Search\" />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t{this.state.tab === 0 && <MusicPlayer player={document.getElementById(\"streamingVideoForMusic\")} />}\n\t\t\t\t\t\t\t{this.state.tab === 1 && <QueuePage player={document.getElementById(\"streamingVideoForMusic\")} />}\n\t\t\t\t\t\t\t{this.state.tab === 2 && <SearchMusic player={document.getElementById(\"streamingVideoForMusic\")} />}\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Paper >\n\t\t\t\t</Container>\n\t\t\t</div>\n\n\t\t)\n\n\t}\n}\nexport default connect()(MusicModule);\n/**\n * @typedef {Object} CleanedVideoData\n * @property {String} bestThumbnail\n * @property {String} songName\n * @property {String} songAuthor\n * @property {String} url\n */","import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport '../login.css';\nimport $ from 'jquery';\n//MUI Stuff\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { loginUser, signupUser } from \"../redux/actions/userActions\";\nimport axios from \"axios\";\nimport { Container, Modal } from \"@material-ui/core\";\nimport { getRandomBackground } from \"../util/randomBackground\";\n\nconst styles = (theme) => ({\n\t...theme.spreadIt,\n});\n\nclass Signup extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\tfName: \"\",\n\t\t\tlName: \"\",\n\t\t\tusername: \"\",\n\t\t\terrors: {},\n\t\t\topen: true\n\t\t};\n\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.UI.errors) {\n\t\t\tthis.setState({ errors: nextProps.UI.errors });\n\t\t}\n\t}\n\thandleSubmit = async (event) => {\n\t\ttry {\n\t\t\tlet state = Object.assign({}, this.state);\n\t\t\tif (state.loggingIn) return;\n\t\t\tstate.loggingIn = true;\n\t\t\tthis.setState(state);\n\t\t\tevent.preventDefault();\n\t\t\tif (document.getElementById(\"loginFailedVisible\"))\n\t\t\t\tdocument.getElementById(\"loginFailedVisible\").id = \"loginFailed\"\n\t\t\t// {\n\t\t\t// \t\"email\": \"jl38768@pausd.us\",\n\t\t\t// \t\"firstName\": \"Teto\",\n\t\t\t// \t\"lastName\": \"theOldOne\",\n\t\t\t// \t\"password\": \"nya\",\n\t\t\t// \t\"username\": \"tety\"\n\t\t\t//   }\n\t\t\tconst userData = {\n\t\t\t\temail: this.state.email,\n\t\t\t\tfirstName: this.state.fName,\n\t\t\t\tlastName: this.state.lName,\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password,\n\t\t\t};\n\t\t\tconst result = await this.props.signupUser(userData, this.props.history);\n\t\t\tconsole.trace(result);\n\t\t\tif (result) {\n\t\t\t\tArray.from(document.getElementsByTagName(\"input\")).forEach(x => x.disabled = true);\n\t\t\t\tdocument.getElementById(\"goButton\").disabled = true;\n\t\t\t\tdocument.getElementById(\"goButton\").innerText = \"Please Check Your Inbox!\";\n\t\t\t\talert(\"Your account is now pending confirmation! Please go into your email and click on the verification link!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (!result)\n\t\t\t\t\tdocument.getElementById(\"loginFailed\").id = \"loginFailedVisible\"\n\t\t\t\telse {\n\n\t\t\t\t}\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.trace(error);\n\t\t\t}\n\t\t\tdocument.getElementById(\"loginFailedVisible\").innerText = \"Signup failed!\";\n\n\t\t} catch (error) {\n\n\t\t}\n\n\t};\n\thandleClose = (event) => {\n\t\tthis.setState({\n\t\t\topen: false\n\t\t})\n\t}\n\thandleChange = async (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.id]: event.target.value,\n\t\t});\n\t\tif (event.target.id === \"username\") {\n\t\t\tlet res = (await axios.get(`https://api.hwbounty.help/usernameTaken/${event.target.value}`).catch(console.trace)).data;\n\t\t\tif (res) {\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailed\").id = \"loginFailedVisible\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t\tdocument.getElementById(\"loginFailedVisible\").innerText = \"Invalid Username! Does it exist already?\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailedVisible\").id = \"loginFailed\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tif (event.target.id === \"email\") {\n\t\t\tlet res = (await axios.get(`https://api.hwbounty.help/emailTaken/${event.target.value}`).catch(console.trace)).data;\n\t\t\tif (res) {\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailed\").id = \"loginFailedVisible\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t\tdocument.getElementById(\"loginFailedVisible\").innerText = \"This email is already in use!\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailedVisible\").id = \"loginFailed\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (event.target.id.includes(\"password\")) {\n\t\t\t//Confirmpassword\n\t\t\tif (document.getElementById(\"password\").value !== document.getElementById(\"Confirmpassword\").value) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailed\").id = \"loginFailedVisible\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t\tdocument.getElementById(\"loginFailedVisible\").innerText = \"The passwords dont match!\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdocument.getElementById(\"loginFailedVisible\").id = \"loginFailed\"\n\t\t\t\t} catch (error) {\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tUI: { loading },\n\t\t} = this.props;\n\t\tconst { errors } = this.state;\n\t\t//Hide header\n\t\treturn (\n\t\t\t<div class=\"box\" style={{\n\t\t\t}}>\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Typography variant=\"h1\">HWBounty Sign Up</Typography>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" id=\"loginFailed\">SignupFailed!</Typography>\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"any\" id=\"fName\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">First Name</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"any\" id=\"lName\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Last Name</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"any\" id=\"email\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Email</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"any\" id=\"username\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Username</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"password\" id=\"password\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Password</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"password\" id=\"Confirmpassword\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Confirm Password</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"button-container\">\n\t\t\t\t\t\t\t\t<button onClick={this.handleSubmit} id=\"goButton\"><span>Go</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"footer\"><a href=\"/login\">Already have an account?</a></div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSignup.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tloginUser: PropTypes.func.isRequired,\n\tsignupUser: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired,\n\tUI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n\tuser: state.user,\n\tUI: state.UI,\n});\n\nconst mapActionsToProps = {\n\tloginUser,\n\tsignupUser,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapActionsToProps\n)(withStyles(styles)(Signup));","// React\nimport React, { Component, useState } from \"react\";\n\n// MUI Stuff\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ArrowLeftRounded from \"@material-ui/icons/ArrowLeftRounded\";\nimport ArrowRightRounded from \"@material-ui/icons/ArrowRightRounded\";\nimport { MuiThemeProvider, withStyles } from \"@material-ui/core/styles\";\n\n// Components / Modules\nimport ForumSearch from \"../components/Home/ForumSearch\";\nimport KeybindEditor from \"../components/Home/KeybindEditor\";\nimport Calendar from \"../components/Calendar/Calendar\";\nimport ModuleViewer from \"../components/Modules/ModuleViewer\";\nimport FullscreenModuleViewer from \"../components/Modules/FullscreenModuleViewer\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport MusicModule from \"../components/MusicModule/MusicModule\";\n\nconst styles = (theme) => ({\n  root: {\n    paddingLeft: 50,\n    [theme.breakpoints.down(\"md\")]: {\n      paddingRight: 50,\n    },\n  },\n  desktopLayout: {\n    paddingTop: 50,\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  mobileLayout: {\n    paddingTop: 30,\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"block\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n  },\n});\n\nexport const Home = (props) => {\n  const {\n    classes,\n    user: { authenticated },\n  } = props;\n\n  const DesktopLayout = () => {\n    return (\n      <div className={classes.desktopLayout}>\n        <FullscreenModuleViewer />\n        <Grid\n          container\n          spacing={3}\n          className={classes.gridContainer}\n          wrap=\"wrap\"\n        >\n          <Grid item md={4}>\n            <Calendar />\n          </Grid>\n          <Grid item md={5}>\n            <ModuleViewer />\n          </Grid>\n          <Grid item md={1} />\n          <Grid item md={2}>\n            <KeybindEditor />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  };\n\n  const MobileLayout = () => {\n    return (\n      <div className={classes.mobileLayout}>\n        <Calendar />\n        <br />\n        <ModuleViewer />\n        <Button></Button>\n      </div>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      <h1>HWBounty</h1>\n      <ForumSearch />\n      <DesktopLayout />\n      <MobileLayout />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Home));\n","import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport '../login.css';\nimport $ from 'jquery';\n//MUI Stuff\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../redux/actions/userActions\";\nimport signup from \"./signup\";\nimport { getRandomBackground } from \"../util/randomBackground\";\nimport axios from \"axios\";\n\nconst styles = (theme) => ({\n\t...theme.spreadIt,\n});\n\nclass Login extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\terrors: {},\n\t\t};\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.UI.errors) {\n\t\t\tthis.setState({ errors: nextProps.UI.errors });\n\t\t}\n\t}\n\thandleSubmit = async (event) => {\n\t\ttry {\n\t\t\tlet state = Object.assign({}, this.state);\n\t\t\tif (state.loggingIn) return;\n\t\t\tstate.loggingIn = true;\n\t\t\tthis.setState(state);\n\t\t\tevent.preventDefault();\n\t\t\tif (document.getElementById(\"loginFailedVisible\"))\n\t\t\t\tdocument.getElementById(\"loginFailedVisible\").id = \"loginFailed\"\n\t\t\tconst userData = {\n\t\t\t\temail: this.state.email,\n\t\t\t\tpassword: this.state.password,\n\t\t\t};\n\t\t\tconst result = await this.props.loginUser(userData, this.props.history);\n\t\t\tif (!result)\n\t\t\t\tdocument.getElementById(\"loginFailed\").id = \"loginFailedVisible\"\n\t\t} catch (error) {\n\n\t\t}\n\n\t};\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.id]: event.target.value,\n\t\t});\n\t};\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tUI: { loading },\n\t\t} = this.props;\n\t\tconst { errors } = this.state;\n\t\taxios.get(\"https://api.hwbounty.help/@me\").then((res) => {\n\t\t\tif (res.status === 200 && res.data && res.data.password) {\n\t\t\t\twindow.location.href = window.location.origin;\n\t\t\t}\n\t\t}).catch(console.trace);\n\t\t//Hide header\n\t\treturn (\n\t\t\t<div class=\"box\" >\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t{/* <Card></Card> */}\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Typography variant=\"h1\">HWBounty Login</Typography>\n\t\t\t\t\t\t{/* <Typography variant=\"subtitle1\" id=\"loginFailed\">Incorrect Login Credentials!</Typography> */}\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"any\" id=\"email\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Email or Username</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t\t<input type=\"password\" id=\"password\" required=\"required\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t<label for=\"#{label}\">Password</label>\n\t\t\t\t\t\t\t\t<div class=\"bar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"button-container\">\n\t\t\t\t\t\t\t\t<button onClick={this.handleSubmit}><span>Go</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"footer\"><a href=\"#\">Forgot your password?</a><br /><a href=\"/signup\">Dont have an account?</a></div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nLogin.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tloginUser: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired,\n\tUI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n\tuser: state.user,\n\tUI: state.UI,\n});\n\nconst mapActionsToProps = {\n\tloginUser,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapActionsToProps\n)(withStyles(styles)(Login));","// React\nimport React, { useState, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst useStyles = makeStyles({\n  inputField: {\n    display: \"block\",\n    width: \"90%\",\n  },\n});\n\nconst Login = (props) => {\n  const { loginUser } = props;\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const classes = useStyles();\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleSubmit = () => {\n    loginUser({ email, password });\n  };\n  return (\n    <Fragment>\n      <DialogTitle>Login</DialogTitle>\n      <DialogContent>\n        <TextField\n          autoFocus\n          type=\"email\"\n          label=\"Email Address\"\n          onChange={handleEmailChange}\n          value={email}\n          className={classes.inputField}\n        />\n        <TextField\n          type=\"password\"\n          label=\"Password\"\n          onChange={handlePasswordChange}\n          value={password}\n          className={classes.inputFields}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleSubmit}>Submit</Button>\n      </DialogActions>\n    </Fragment>\n  );\n};\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n};\n\nexport default Login;\n","// React\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { setAuthPopupOpen } from \"../../../redux/actions/uiActions\";\nimport { loginUser, signupUser } from \"../../../redux/actions/userActions\";\n\n// Components\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\n\nexport const AuthPopup = (props) => {\n  const {\n    setAuthPopupOpen,\n    loginUser,\n    signupUser,\n    UI: { authPopupOpen },\n  } = props;\n\n  const handleClose = () => {\n    setAuthPopupOpen(false);\n  };\n\n  return (\n    <Dialog maxWidth=\"xs\" fullWidth open={authPopupOpen} onClose={handleClose}>\n      <Login loginUser={loginUser} />\n    </Dialog>\n  );\n};\n\nAuthPopup.propTypes = {\n  open: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n});\n\nconst mapActionsToProps = {\n  setAuthPopupOpen,\n  loginUser,\n  signupUser,\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(AuthPopup);\n","import { Card, Container, Grid, InputBase, MuiThemeProvider, Typography } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoundInputBaseStyles } from \"@mui-treasury/styles/inputBase/round\";\nimport theme from \"../util/theme\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\nlet semiGlobalState = null;\nconst SchedulesSearch = (props) => {\n\tconst [query, setQuery] = useState(\"\");\n\tconst roundInput = useRoundInputBaseStyles();\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst url = \"https://forums.hwbounty.help/?\" + query;\n\t\tconst newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n\t\tif (newWindow) newWindow.opener = null;\n\t};\n\n\tconst handleChange = (event) => {\n\t\tsetQuery(event.target.value);\n\t\t//Sync the fields\n\t\tsetTimeout(() => props.handleTextChange(event), 0);\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"xs\">\n\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<InputBase\n\t\t\t\t\t\tclasses={roundInput}\n\t\t\t\t\t\tlaceholder=\"Search Schedules...\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</MuiThemeProvider>\n\t\t</Container>\n\t);\n};\nconst SchedulePreview = (props) => {\n\tlet hist = useHistory();\n\tlet redirectWithQuery = (path, query) => {\n\t\thist.push({\n\t\t\tpathname: path,\n\t\t\tsearch: query,\n\t\t\tstate: { query: query },\n\t\t});\n\t}\n\treturn (\n\t\t<Card style={\n\t\t\t{\n\t\t\t\t\"display\": \"inline-block\",\n\t\t\t\t\"vertical-align\": \"top\",\n\t\t\t\t\"width\": \"350px\",\n\t\t\t\t\"position\": \"relative\",\n\t\t\t\t\"overflow\": \"hidden\",\n\t\t\t\t\"margin\": \"10px\",\n\t\t\t\t\"background\": \"#FFF\",\n\t\t\t\t\"box-shadow\": \"0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)\",\n\t\t\t\t\"color\": \"#272727\",\n\t\t\t\t\"border-radius\": \"8px\",\n\t\t\t}\n\t\t}>\n\t\t\t<Typography variant=\"h5\" align=\"left\" style={\n\t\t\t\t{\n\t\t\t\t\t\"line-height\": \"48px\",\n\t\t\t\t\t\"font-size\": \"24px\",\n\t\t\t\t\t\"font-weight\": \"300\",\n\t\t\t\t\tpadding: \"20px\",\n\t\t\t\t}\n\t\t\t}>{props.name}</Typography>\n\t\t\t<Typography align=\"left\" style={\n\t\t\t\t{\n\t\t\t\t\t\"padding\": \"20px\",\n\t\t\t\t\t\"font-weight\": \"300\",\n\t\t\t\t\t\"border-radius\": \"0 0 2px 2px\",\n\t\t\t\t}\n\t\t\t}><ReactMarkdown>{props.desc.substring(0, 100)}</ReactMarkdown></Typography>\n\t\t\t<Container style={\n\t\t\t\t{\n\t\t\t\t\t\"border-top\": \"2px solid rgba(160, 160, 160, 0.2)\",\n\t\t\t\t\t\"padding-top\": \"10%\",\n\n\t\t\t\t}\n\t\t\t}>\n\t\t\t\t<Link style={\n\t\t\t\t\t{\n\t\t\t\t\t\t\"color\": \"#1976D2\",\n\t\t\t\t\t\t\"transition\": \"color 0.3s ease\",\n\t\t\t\t\t\t\"text-transform\": \"uppercase\",\n\t\t\t\t\t\t\"text-decoration\": \"none\",\n\t\t\t\t\t\t\"font-size\": \"16px\",\n\t\t\t\t\t}\n\t\t\t\t} onClick={() => { redirectWithQuery(`/schedule/view/${props.sid}`, `?id=${props.sid}`) }}>View Schedule\n\t\t\t\t</Link>\n\n\t\t\t</Container>\n\t\t</Card >\n\t)\n}\nclass ScheduleCatalog extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsearchTerm: \"\",\n\t\t\tschedules: [],\n\t\t};\n\t\tsemiGlobalState = this.state;\n\t}\n\tasync handleTextChange(event, self) {\n\t\tself.setState({ searchTerm: event.target.value });\n\t\tlet time = Date.now();\n\t\tlet res = await axios.get(`https://api.hwbounty.help/schedules/search/${self.state.searchTerm}`).catch(console.trace);\n\t\tself.setState({ schedules: res.data })\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Typography variant=\"h3\" style={\n\t\t\t\t\t{\n\t\t\t\t\t\tpadding: \"10px\"\n\t\t\t\t\t}\n\t\t\t\t}>Schedules Catalog</Typography>\n\t\t\t\t<SchedulesSearch handleTextChange={ev => this.handleTextChange(ev, this)} />\n\t\t\t\t<Grid container>\n\t\t\t\t\t{React.Children.toArray(this.state.schedules.map(x => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<SchedulePreview name={x.name} desc={x.description} sid={x.id}></SchedulePreview>\n\t\t\t\t\t\t)\n\t\t\t\t\t}))}\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t)\n\t}\n}\nexport default connect()(ScheduleCatalog);","import {\n  Avatar,\n  Button,\n  Card,\n  Container,\n  Grid,\n  InputBase,\n  List,\n  MuiThemeProvider,\n  Paper,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport ReactMarkdown from \"react-markdown\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Schedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scheduleData: null,\n      fetching: false,\n      tab: 0,\n    };\n  }\n  async fetchScheduleData() {\n    if (this.state.scheduleData) return;\n\tconst location = this.props.location;\n\tlet id = location.pathname.split(\"/\").pop() || location?.state?.query ||  location.search.split(\"?id=\").pop();\n    let res = await axios.get(\n      `https://api.hwbounty.help/schedules/view/${id}`\n    ).catch(console.trace);\n    if (res.data) {\n      res.data.nameOverrides = JSON.parse(\n        res.data.nameOverrides.replace(/\\\\\"/g, '\"')\n      );\n      res.data.schedule = JSON.parse(res.data.schedule);\n      this.setState({ scheduleData: res.data });\n    }\n  }\n  componentDidMount(props) {\n    this.props = props;\n  }\n  handleTabChange(event, newValue, self) {\n    self.setState({ tab: newValue });\n  }\n  render() {\n    if (!this.state.scheduleData && !this.state.fetching) {\n      this.setState({ fetching: true });\n      this.fetchScheduleData();\n      return <br />;\n    }\n    if (this.state.scheduleData) {\n      return (\n        <Container>\n          <Paper\n            style={{\n              width: \"40%\",\n              maxWidth: \"40%\",\n              margin: \"5%\",\n              display: \"inline-block\",\n              verticalAlign: \"middle\",\n            }}\n            align=\"left\"\n          >\n            <Tabs\n              value={this.state.tab}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              onChange={(event, value) => {\n                this.handleTabChange(event, value, this);\n              }}\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n            >\n              <Tab label=\"Mon\" />\n              <Tab label=\"Tue\" />\n              <Tab label=\"Wed\" />\n              <Tab label=\"Thu\" />\n              <Tab label=\"Fri\" />\n              <Tab label=\"Sat\" />\n              <Tab label=\"Sun\" />\n            </Tabs>\n            <List>\n              {this.state.tab === 0 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 1 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 2 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 3 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 4 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 5 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n              {this.state.tab === 6 && (\n                <DisplayedScheduleDay\n                  day={this.state.tab}\n                  data={this.state.scheduleData}\n                />\n              )}\n            </List>\n          </Paper>\n          <Card\n            style={{\n              display: \"inline-block\",\n              width: \"40%\",\n              margin: \"5%\",\n              paddingBottom: \"1vh\",\n              paddingLeft: \"5%\",\n              paddingRight: \"5%\",\n              textAlign: \"left\",\n              verticalAlign: \"middle\",\n            }}\n          >\n            <Typography\n              variant=\"h4\"\n              style={{\n                textAlign: \"center\",\n              }}\n            >\n              {this.state.scheduleData.name}\n            </Typography>\n            <Container\n              style={{\n                width: \"100%\",\n                height: \"10%\",\n              }}\n            >\n              <span>\n                <Typography\n                  variant=\"caption\"\n                  style={{\n                    textAlign: \"left\",\n                    marginRight: \"3%\",\n                  }}\n                >\n                  By:\n                </Typography>\n                <Avatar\n                  src={this.state.scheduleData.user.pfp}\n                  align=\"left\"\n                  style={{\n                    display: \"inline-block\",\n                    verticalAlign: \"middle\",\n                  }}\n                >\n                  {this.state.scheduleData.user.publicID}\n                </Avatar>\n                <Typography\n                  variant=\"h5\"\n                  style={{\n                    verticalAlign: \"middle\",\n                    marginLeft: \"3%\",\n                    display: \"inline-block\",\n                  }}\n                >\n                  {this.state.scheduleData.user.publicID}\n                </Typography>\n              </span>\n            </Container>\n            <Typography>\n              Last Updated:{\" \"}\n              {moment(parseInt(this.state.scheduleData.lastUpdated)).fromNow()}\n            </Typography>\n            <ReactMarkdown>{this.state.scheduleData.description}</ReactMarkdown>\n\n            <Container\n              style={{\n                paddingTop: \"1vh\",\n                borderTop: \"2px solid rgba(160, 160, 160, 0.2)\",\n                textAlign: \"center\",\n              }}\n            >\n              <Button onClick={\n\t\t\t\t  ()=> this.props.history.push(`/schedule/set/${this.props.location.pathname.split(\"/\").pop()}`)\n\t\t\t  } disabled={!JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey}>{JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey ?\"Use this Schedule\": \"Link School Account First\"}</Button>\n            </Container>\n          </Card>\n        </Container>\n      );\n    }\n    return null;\n  }\n}\nconst DisplayedScheduleDay = (props) => {\n  const classes = props.classes;\n  const data = props.data;\n  const day = props.day;\n  let overrides = data.nameOverrides;\n  let dayschedule = data.schedule[\n    [\n      \"monday\",\n      \"tuesday\",\n      \"wednesday\",\n      \"thursday\",\n      \"friday\",\n      \"saturday\",\n      \"sunday\",\n    ][day]\n  ].map((x) => {\n    return Object.assign(x, {\n      period: data.nameOverrides[x.period] || x.period,\n    });\n  });\n  const renderPeriods = () => {\n    let children = React.Children.toArray(\n      dayschedule.map((x) => {\n        return (\n          <Container>\n            <Typography variant=\"h4\">{x.period}</Typography>\n            <Typography variant=\"h6\">{x.timeStart}</Typography>\n            <Typography variant=\"h6\">{x.timeEnd}</Typography>\n          </Container>\n        );\n      })\n    );\n    if (!children.length)\n      return <Typography variant=\"h3\">No School Today!</Typography>;\n    return children;\n  };\n  return (\n    <Container\n      style={{\n        marginBottom: \"5%\",\n      }}\n    >\n      {renderPeriods()}\n    </Container>\n  );\n};\nexport default connect()(withRouter(Schedule));\n","import { Avatar, Button, Card, Container, FormControl, Grid, InputBase, InputLabel, List, MenuItem, MuiThemeProvider, Paper, Select, Tab, Tabs, Typography } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport ReactMarkdown from \"react-markdown\";\nimport { withRouter } from \"react-router\";\n\nclass SetSchedule extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscheduleData: null,\n\t\t\tfetching: false,\n\t\t\ttab: 0,\n\t\t}\n\t}\n\tasync fetchScheduleData() {\n\t\tconsole.log(\"FETCHING\")\n\t\tif (this.state.scheduleData) return console.log(this.state.scheduleData);\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-restricted-globals\n\t\t\tlet [res, selfData, courses] = await Promise.all([axios.get(`https://api.hwbounty.help/schedules/view/${this.props.location.pathname.split(\"/\").pop()}`).catch(er => console.log), axios.get(`https://api.hwbounty.help/@me`).catch(console.trace), axios(`https://api.hwbounty.help/sgy/getCourses`).catch(console.trace)]);\n\t\t\tif (res.data) {\n\t\t\t\tres.data.nameOverrides = JSON.parse(res.data.nameOverrides);\n\t\t\t\tres.data.schedule = JSON.parse(res.data.schedule);\n\t\t\t\tlet assign = {\n\t\t\t\t\tscheduleData: res.data,\n\t\t\t\t}\n\t\t\t\tif (selfData.data) assign.self = selfData.data;\n\t\t\t\tif (courses.data) assign.courses = courses.data.section;\n\t\t\t\tthis.setState(assign);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.trace(error);\n\t\t\tthis.setState({});\n\t\t}\n\n\n\t}\n\tcomponentDidMount(props) {\n\t\tthis.props = props;\n\t}\n\tparseAllPeriods(schedule) {\n\t\tlet periods = new Set();\n\t\t[\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"].forEach(x => {\n\t\t\tschedule[x].forEach(y => {\n\t\t\t\tperiods.add(y.period);\n\t\t\t})\n\t\t})\n\t\treturn Array.from(periods.keys());\n\t}\n\tasync handleSet(self) {\n\t\tif (self.state.setting) return;\n\t\tself.setState({setting: true});\n\t\tlet periodChoices = self.state.periodChoices;\n\t\t// eslint-disable-next-line no-restricted-globals\n\t\tlet sch = this.props.location.pathname.split(\"/\").pop();\n\t\tconsole.log(sch);\n\t\tlet res = await axios.post(`https://api.hwbounty.help/schedules/set`, {\n\t\t\tscheduleID: sch,\n\t\t\tclasses: periodChoices\n\t\t}).catch(console.trace);\n\t\tif (res.status === 200) {\n\t\t\t// eslint-disable-next-line no-restricted-globals\n\t\t\tlocation.href = \"https://hwbounty.help\";\n\t\t}else{\n\t\t\tself.setState({setting:false})\n\t\t}\n\t}\n\thandleDropdowns(self) {\n\t\tlet courses = self.state.courses;\n\t\tlet periods = this.parseAllPeriods(self.state.scheduleData.schedule);\n\t\tlet options = courses.map(x => {\n\t\t\treturn { id: x.id, name: x.course_title };\n\t\t}).concat({ id: \"None\", name: \"None\" });\n\t\tlet nameOverrides = self.state.scheduleData.nameOverrides;\n\t\tconsole.log(periods);\n\t\tconst handleChange = (event, data) => {\n\t\t\tlet obj = self.state.periodChoices || {};\n\t\t\tobj[data] = event.target;\n\t\t\tself.setState({ periodChoices: obj });\n\t\t}\n\t\treturn periods.map(x => {\n\n\t\t\treturn (\n\t\t\t\t<FormControl\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"30%\",\n\t\t\t\t\t\tminWidth: \"30%\",\n\t\t\t\t\t\tmargin: \"1.5%\",\n\t\t\t\t\t}}\n\t\t\t\t\trequired>\n\t\t\t\t\t<InputLabel id={`inputLabel${x}`}>{nameOverrides[x] || x}</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId={`select${x}Label`}\n\t\t\t\t\t\tid={`select${x}`}\n\t\t\t\t\t\tvalue={self.state.periodChoices && self.state.periodChoices[`${x}`]}\n\t\t\t\t\t\tonChange={event => { handleChange(event, `${x}`) }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{React.Children.toArray(options.map(option => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MenuItem value={option.id}>{option.name}</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}))}\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t);\n\t\t});\n\n\t\t// self.state\n\t}\n\trender() {\n\t\tif (!this.state.scheduleData && !this.state.fetching) {\n\t\t\tconsole.log(\"GoFetch\");\n\t\t\tthis.setState({ fetching: true });\n\t\t\tthis.fetchScheduleData();\n\t\t\treturn (<br />);\n\t\t}\n\t\t//Infinite Loop setstate somewhere; Figure out what\n\t\tif (this.state.scheduleData) {\n\t\t\t// this.setState({ fetching: false })\n\t\t\treturn (\n\t\t\t\t<Container>\n\t\t\t\t\t<Card style={{\n\t\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\tmargin: \"5%\",\n\t\t\t\t\t\tpaddingBottom: \"1vh\",\n\t\t\t\t\t\tpaddingLeft: \"5%\",\n\t\t\t\t\t\tpaddingRight: \"5%\",\n\t\t\t\t\t\ttextAlign: \"left\",\n\t\t\t\t\t\tverticalAlign: \"middle\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{/* <Typography variant=\"h4\">Stats</Typography> */}\n\t\t\t\t\t\t<Typography variant=\"h4\" style={{\n\t\t\t\t\t\t\ttextAlign: \"center\"\n\t\t\t\t\t\t}}>{this.state.scheduleData.name}</Typography>\n\t\t\t\t\t\t<Container style={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\theight: \"10%\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{\n\t\t\t\t\t\t\t\t\ttextAlign: \"left\",\n\t\t\t\t\t\t\t\t\tmarginRight: \"1%\"\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tBy:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Avatar src={this.state.scheduleData.user.pfp} align=\"left\" style={{\n\t\t\t\t\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\t\t\t\tverticalAlign: \"middle\",\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{this.state.scheduleData.user.publicID}\n\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" style={{\n\t\t\t\t\t\t\t\t\tverticalAlign: \"middle\",\n\t\t\t\t\t\t\t\t\tmarginLeft: \"1%\",\n\t\t\t\t\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\t\t\t\t// fontSize: \"47px\",\n\t\t\t\t\t\t\t\t\t// height: \"40px\",\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{this.state.scheduleData.user.publicID}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tLast Updated: {moment(parseInt(this.state.scheduleData.lastUpdated)).fromNow()}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<ReactMarkdown>{this.state.scheduleData.description}</ReactMarkdown>\n\t\t\t\t\t\t<Container\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t{React.Children.toArray(this.handleDropdowns(this))}\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container style={{\n\t\t\t\t\t\t\tpaddingTop: \"1vh\",\n\t\t\t\t\t\t\tborderTop: \"2px solid rgba(160, 160, 160, 0.2)\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Button onClick={ev=>this.handleSet(this)}>Set Classes</Button>\n\t\t\t\t\t\t</Container>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Container>\n\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n}\nconst DisplayedScheduleDay = (props) => {\n\tconst classes = props.classes;\n\tconst data = props.data;\n\tconst day = props.day;\n\tlet overrides = data.nameOverrides;\n\tlet dayschedule = data.schedule[[\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"][day]].map(x => {\n\t\treturn Object.assign(x, {\n\t\t\tperiod: data.nameOverrides[x.period] || x.period,\n\t\t})\n\t});\n\tconsole.log(dayschedule);\n\tconst renderPeriods = () => {\n\t\tlet children = React.Children.toArray(dayschedule.map(x => {\n\t\t\treturn (\n\t\t\t\t<Container >\n\t\t\t\t\t<Typography variant=\"h4\">{x.period}</Typography>\n\t\t\t\t\t<Typography variant=\"h6\">{x.timeStart}</Typography>\n\t\t\t\t\t<Typography variant=\"h6\">{x.timeEnd}</Typography>\n\t\t\t\t</Container>\n\t\t\t)\n\t\t}));\n\t\tif (!children.length)\n\t\t\treturn (<Typography variant=\"h3\">No School Today!</Typography>);\n\t\treturn children;\n\t}\n\treturn (\n\t\t<Container style={{\n\t\t\tmarginBottom: \"5%\",\n\n\t\t}}>\n\t\t\t{renderPeriods()}\n\t\t</Container>\n\t)\n}\nexport default connect()(withRouter(SetSchedule));","class Notifications {\n\tconstructor() {\n\t\tif (Notification.permission !== \"granted\") {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}\n\tstatic pushNotification(icon, img, title, text) {\n\t\ttry {\n\t\t\tif (Notification.permission !== \"granted\") {\n\t\t\t\tNotification.requestPermission();\n\t\t\t}\n\t\t\treturn new Notification(title || \"HWBounty Notification\", {body: text || \"\", icon: icon, image: img});\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t\t\n\t}\n}\nexport default Notifications;","import axios from \"axios\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { hwbountyAPI } from \"../redux/types\";\n\nclass SchoologyOauthPage extends Component{\n\trender(){\n\t\tif (window.location.search.match(/\\?oauth_token\\=/)){\n\t\t\taxios.post(`${hwbountyAPI}/schoologyLogin`,{\n\t\t\t\toauth_token: window.location.search.match(/\\w+$/)[0]\n\t\t\t}).then(x=>{\n\t\t\t\twindow.location.href = window.location.origin;\n\t\t\t});\n\t\t}\n\t\treturn null;\n\t}\n}\nexport default connect()(SchoologyOauthPage);","// React\nimport React, { Component, useEffect, useState } from \"react\";\nimport \"../pages/home.css\";\n// MUI Stuff\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ArrowLeftRounded from \"@material-ui/icons/ArrowLeftRounded\";\nimport ArrowRightRounded from \"@material-ui/icons/ArrowRightRounded\";\nimport { MuiThemeProvider, withStyles } from \"@material-ui/core/styles\";\n\n// Components / Modules\nimport ForumSearch from \"../components/Home/ForumSearch\";\nimport KeybindEditor from \"../components/Home/KeybindEditor\";\nimport Calendar from \"../components/Calendar/Calendar\";\nimport ModuleViewer from \"../components/Modules/ModuleViewer\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Avatar, Container, makeStyles } from \"@material-ui/core\";\nimport { Calculator } from \"../components/Modules/Calculator/Calculator\";\nimport { getRandomBackground } from \"../util/randomBackground\";\nimport momenttz from \"moment-timezone\";\nimport moment from \"moment\";\nimport Notifications from \"../util/notifications\";\nimport Schedule from \"../components/Calendar/Schedule\";\n\nlet lastTimeBasedNotif = 0;\nconst CTime = (props) => {\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\n\n  useEffect(() => {\n    setTimeout(() => setFakeCurrentDate(new Date()), 33);\n  }, [fakeCurrentDate]);\n  return (\n    <Typography\n      variant=\"h5\"\n      style={{\n        fontSize: 64,\n      }}\n    >\n      {moment().format(\n        window.innerWidth <= 1000\n          ? \"M/D/YYYY h:mm:ss A\"\n          : \"dddd MMMM Do h:mm:ss A\"\n      )}\n    </Typography>\n  );\n};\nconst JHome = (props) => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setInterval(() => {\n        this.forceUpdate();\n      }, 1000);\n    }, 1000 - (Date.now() % 1000));\n\n    getGreeting();\n  }, []);\n\n  const getGreeting = () => {\n    if (user) {\n      if (!localStorage.getItem(\"user\"))\n        localStorage.setItem(\"user\", JSON.stringify(user));\n    } else {\n      axios\n        .get(\"https://api.hwbounty.help/@me\")\n        .then((res) => {\n          if (res.status == 200 && res.data && res.data.password) {\n            setUser(res.data);\n          }\n        })\n        .catch(console.trace);\n    }\n    if (localStorage.getItem(\"user\")) {\n      return `Welcome back ${\n        JSON.parse(localStorage.getItem(\"user\")).firstName\n      } 👋!`;\n    }\n  };\n  const getTimePhrase = () => {\n    if (!localStorage.getItem(\"cachedSchedule\")) return \"\";\n    let scheduleOBJ = JSON.parse(localStorage.getItem(\"cachedSchedule\"));\n    let schedule = JSON.parse(scheduleOBJ.schedule.schedule);\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    let allClasses = scheduleOBJ.classes;\n    let convertedMoment = moment().tz(schedule.timePeriod).utcOffset();\n    let currentMoment = moment().utcOffset();\n    let currentTime = moment();\n    let getPeriodName = (periodID) => {\n      return (\n        JSON.parse(scheduleOBJ.schedule.nameOverrides)[periodID] || \"Break\"\n      );\n    };\n    let dotw = [\n      \"monday\",\n      \"tuesday\",\n      \"wednesday\",\n      \"thursday\",\n      \"friday\",\n      \"saturday\",\n      \"sunday\",\n    ][moment().isoWeekday() - 1];\n    let formattedClasses =\n      schedule[dotw] &&\n      schedule[dotw].map((clas) => {\n        return {\n          period: clas.period,\n          timeStart:\n            moment(clas.timeStart, \"hh:mma\")\n              .add((convertedMoment - currentMoment) / 60, \"hours\")\n              .unix() * 1000,\n          timeEnd:\n            moment(clas.timeEnd, \"hh:mma\")\n              .add((convertedMoment - currentMoment) / 60, \"hours\")\n              .unix() * 1000,\n        };\n      });\n    //Check for current class first\n    let currentClass = formattedClasses.filter(\n      (x) => x.timeStart < Date.now() && Date.now() < x.timeEnd\n    )[0];\n\n    if (currentClass) {\n      let endingInString = `${\n        currentClass.timeEnd - Date.now() > 60000\n          ? currentClass.timeEnd - Date.now() > 3600000\n            ? `${Math.round(\n                moment.duration(currentClass.timeEnd - Date.now()).asHours()\n              )} hours`\n            : `${Math.round(\n                moment.duration(currentClass.timeEnd - Date.now()).asMinutes()\n              )} minutes`\n          : `${Math.round(\n              moment.duration(currentClass.timeEnd - Date.now()).asSeconds()\n            )} seconds`\n      }`;\n\n      //Try to push a notif if class is starting soon\n      if (\n        currentClass.timeEnd - Date.now() < 120 * 1000 &&\n        Date.now() - lastTimeBasedNotif > 240 * 1000\n      ) {\n        lastTimeBasedNotif = Date.now();\n\n        Notifications.pushNotification(\n          undefined,\n          undefined,\n          `${getPeriodName(currentClass.period)} is ending soon!`,\n          `Hey ${user.firstName}, ${getPeriodName(\n            currentClass.period\n          )} is about to end in ${endingInString}!`\n        );\n      }\n\n      return `${getPeriodName(currentClass.period)} ends in ${endingInString}`;\n    }\n    //Check for next upcoming class\n    let nextClass = formattedClasses.filter((x) => x.timeStart > Date.now())[0];\n\n    if (nextClass) {\n      let startingInString = `${\n        nextClass.timeStart - Date.now() > 60000\n          ? nextClass.timeStart - Date.now() > 3600000\n            ? `${Math.round(\n                moment.duration(nextClass.timeStart - Date.now()).asHours()\n              )} hours`\n            : `${Math.round(\n                moment.duration(nextClass.timeStart - Date.now()).asMinutes()\n              )} minutes`\n          : `${Math.round(\n              moment.duration(nextClass.timeStart - Date.now()).asSeconds()\n            )} seconds`\n      }`;\n      if (\n        nextClass.timeStart - Date.now() < 120 * 1000 &&\n        Date.now() - lastTimeBasedNotif > 240 * 1000\n      ) {\n        lastTimeBasedNotif = Date.now();\n\n        Notifications.pushNotification(\n          undefined,\n          undefined,\n          `${getPeriodName(nextClass.period)} is starting soon!`,\n          `Hey ${user.firstName}, ${getPeriodName(\n            nextClass.period\n          )} is about to start in ${startingInString}!`\n        );\n      }\n\n      return `${getPeriodName(nextClass.period)} starts in ${startingInString}`;\n    }\n\n    //Check for what was the previous class\n    let lastClass = formattedClasses\n      .filter((x) => Date.now() > x.timeEnd)\n      .pop();\n    if (lastClass) {\n      let lastEnded = `${\n        Date.now() - lastClass.timeEnd > 60000\n          ? Date.now() - lastClass.timeEnd > 60000\n            ? `${Math.round(\n                moment.duration(Date.now() - lastClass.timeEnd).asHours()\n              )} hours`\n            : `${Math.round(\n                moment.duration(Date.now() - lastClass.timeEnd).asMinutes()\n              )} minutes`\n          : `${Math.round(\n              moment.duration(Date.now() - lastClass.timeEnd).asSeconds()\n            )} seconds`\n      }`;\n      return `${getPeriodName(lastClass.period)} ended ${lastEnded} ago`;\n    }\n\n    //If no classes exist for the day\n    return `No classes today! Take a break, you deserve it :)`;\n  };\n  return (\n    <div id=\"baseHome\">\n      <Card id=\"calenderContainer\">\n        <Calendar id=\"calender\" />\n      </Card>\n    </div>\n  );\n};\n\nexport default connect()(JHome);\n","import { Card, Typography } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { Component, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Schedule from \"../components/Calendar/Schedule\";\nimport { getTheme } from \"../components/Home/Navbar\";\nimport Notifications from \"../util/notifications\";\nconst CTime = (props) => {\n\tconst [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()) // default value can be anything you want\n\treturn (<div style={\n\t\t{\n\t\t\tverticalAlign: \"middle\",\n\t\t\twidth: \"100%\",\n\t\t\tminWidth: \"100%\",\n\t\t}\n\t}>\n\t\t<Typography variant=\"h5\" style={\n\t\t\t{\n\t\t\t\tfontSize: \"5.5vw\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t}\n\t\t}>{/*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ss A\" : \"dddd MMMM Do h:mm:ss A\")*/moment().format(\"h:mm:ss A\")}</Typography>\n\t\t<Typography variant=\"h5\" style={\n\t\t\t{\n\t\t\t\tfontSize: \"2.5vw\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t}\n\t\t}>{/*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ss A\" : \"dddd MMMM Do h:mm:ss A\")*/moment().format(\"M/D/YYYY dddd\")}</Typography>\n\t</div>)\n}\nconst CTimeSmall = (props) => {\n\tconst [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()) // default value can be anything you want\n\treturn (<div style={\n\t\t{\n\t\t\tverticalAlign: \"middle\",\n\t\t\twidth: \"100%\",\n\t\t\tminWidth: \"100%\",\n\t\t}\n\t}>\n\t\t<Typography variant=\"h5\" style={\n\t\t\t{\n\t\t\t\tfontSize: \"10vw\",\n\t\t\t}\n\t\t}>{/*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ss A\" : \"dddd MMMM Do h:mm:ss A\")*/moment().format(\"h:mm:ss A\")}</Typography>\n\t\t<Typography variant=\"h5\" style={\n\t\t\t{\n\t\t\t\tfontSize: \"5.65vw\",\n\t\t\t}\n\t\t}>{/*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ss A\" : \"dddd MMMM Do h:mm:ss A\")*/moment().format(\"M/D/YYYY dddd\")}</Typography>\n\t</div>)\n}\nlet lastTimeBasedNotif = 0;\nclass ScheduleInfo extends Component {\n\tconstructor(p) {\n\t\tsuper(p);\n\t\tsetTimeout(() => setInterval(() => this.forceUpdate(), 1000), 1000 - (Date.now() % 1000));\n\t}\n\tgetTimePhrase() {\n\t\ttry {\n\t\t\tif (!localStorage.getItem(\"cachedSchedule\")) return \"\";\n\t\t\tlet scheduleOBJ = JSON.parse(localStorage.getItem(\"cachedSchedule\"));\n\t\t\tlet schedule = JSON.parse(scheduleOBJ.schedule.schedule);\n\t\t\tlet user = JSON.parse(localStorage.getItem(\"user\"));\n\t\t\tlet allClasses = scheduleOBJ.classes;\n\t\t\tlet convertedMoment = moment().tz(schedule.timePeriod).utcOffset();\n\t\t\tlet currentMoment = moment().utcOffset();\n\t\t\tlet currentTime = moment();\n\t\t\tlet getPeriodName = (periodID) => {\n\t\t\t\treturn JSON.parse(scheduleOBJ.schedule.nameOverrides)[periodID] || \"Break\";\n\t\t\t}\n\t\t\tlet dotw =\n\t\t\t\t[\n\t\t\t\t\t\"monday\",\n\t\t\t\t\t\"tuesday\",\n\t\t\t\t\t\"wednesday\",\n\t\t\t\t\t\"thursday\",\n\t\t\t\t\t\"friday\",\n\t\t\t\t\t\"saturday\",\n\t\t\t\t\t\"sunday\",\n\t\t\t\t][moment().isoWeekday() - 1];\n\t\t\tlet formattedClasses = schedule[dotw] && schedule[dotw].map(clas => {\n\t\t\t\treturn {\n\t\t\t\t\tperiod: clas.period,\n\t\t\t\t\ttimeStart: moment(clas.timeStart, \"hh:mma\").add((convertedMoment - currentMoment) / 60, \"hours\").unix() * 1000,\n\t\t\t\t\ttimeEnd: moment(clas.timeEnd, \"hh:mma\").add((convertedMoment - currentMoment) / 60, \"hours\").unix() * 1000,\n\t\t\t\t}\n\t\t\t})\n\t\t\t//Check for current class first\n\t\t\tlet currentClass = formattedClasses.filter(x => x.timeStart < Date.now() && Date.now() < x.timeEnd)[0];\n\n\t\t\tif (currentClass) {\n\n\t\t\t\tlet endingInString = `${currentClass.timeEnd - Date.now() > 60000 ?\n\t\t\t\t\tcurrentClass.timeEnd - Date.now() > 3600000 ?\n\t\t\t\t\t\t`${Math.round(moment.duration(currentClass.timeEnd - Date.now()).asHours())} hours` :\n\t\t\t\t\t\t`${Math.round(moment.duration(currentClass.timeEnd - Date.now()).asMinutes())} minutes` :\n\t\t\t\t\t`${Math.round(moment.duration(currentClass.timeEnd - Date.now()).asSeconds())} seconds`}`;\n\n\t\t\t\t//Try to push a notif if class is starting soon\n\t\t\t\tif (currentClass.timeEnd - Date.now() < 120 * 1000 && Date.now() - lastTimeBasedNotif > 240 * 1000) {\n\t\t\t\t\tlastTimeBasedNotif = Date.now();\n\n\t\t\t\t\tNotifications.pushNotification(undefined, undefined,\n\t\t\t\t\t\t`${getPeriodName(currentClass.period)} is ending soon!`,\n\t\t\t\t\t\t`Hey ${user.firstName}, ${getPeriodName(currentClass.period)} is about to end in ${endingInString}!`);\n\t\t\t\t}\n\n\n\t\t\t\treturn `${getPeriodName(currentClass.period)} ends in ${endingInString}`\n\t\t\t}\n\t\t\t//Check for next upcoming class\n\t\t\tlet nextClass = formattedClasses.filter(x => x.timeStart > Date.now())[0];\n\n\t\t\tif (nextClass) {\n\t\t\t\tlet startingInString = `${nextClass.timeStart - Date.now() > 60000 ?\n\t\t\t\t\tnextClass.timeStart - Date.now() > 3600000 ?\n\t\t\t\t\t\t`${Math.round(moment.duration(nextClass.timeStart - Date.now()).asHours())} hours` :\n\t\t\t\t\t\t`${Math.round(moment.duration(nextClass.timeStart - Date.now()).asMinutes())} minutes` :\n\t\t\t\t\t`${Math.round(moment.duration(nextClass.timeStart - Date.now()).asSeconds())} seconds`}`;\n\t\t\t\tif (nextClass.timeStart - Date.now() < 120 * 1000 && Date.now() - lastTimeBasedNotif > 240 * 1000) {\n\t\t\t\t\tlastTimeBasedNotif = Date.now();\n\n\t\t\t\t\tNotifications.pushNotification(undefined, undefined,\n\t\t\t\t\t\t`${getPeriodName(nextClass.period)} is starting soon!`,\n\t\t\t\t\t\t`Hey ${user.firstName}, ${getPeriodName(nextClass.period)} is about to start in ${startingInString}!`);\n\t\t\t\t}\n\n\t\t\t\treturn `${getPeriodName(nextClass.period)} starts in ${startingInString}`;\n\n\t\t\t}\n\n\t\t\t//Check for what was the previous class\n\t\t\tlet lastClass = formattedClasses.filter(x => Date.now() > x.timeEnd).pop();\n\t\t\tif (lastClass) {\n\t\t\t\tlet lastEnded = `${Date.now() - lastClass.timeEnd > 60000 ?\n\t\t\t\t\tDate.now() - lastClass.timeEnd > 60000 ?\n\t\t\t\t\t\t`${Math.round(moment.duration(Date.now() - lastClass.timeEnd).asHours())} hours` :\n\t\t\t\t\t\t`${Math.round(moment.duration(Date.now() - lastClass.timeEnd).asMinutes())} minutes` :\n\t\t\t\t\t`${Math.round(moment.duration(Date.now() - lastClass.timeEnd).asSeconds())} seconds`}`;\n\t\t\t\treturn `${getPeriodName(lastClass.period)} ended ${lastEnded} ago`;\n\t\t\t}\n\n\t\t\t//If no classes exist for the day\n\t\t\treturn `No classes today! Take a break, you deserve it :)`\n\t\t} catch (error) {\n\t\t\treturn \"\";\n\t\t}\n\n\t}\n\trender() {\n\t\tif (window.innerWidth <= 1000) {\n\t\t\treturn (\n\t\t\t\t<div style={{\n\t\t\t\t\tmarginTop: \"5%\"\n\t\t\t\t}}>\n\t\t\t\t\t<Card style={{\n\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\tverticalAlign: \"top\",\n\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\tmargin: \"5%\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<CTimeSmall />\n\t\t\t\t\t\t<Typography variant=\"h5\" style={{\n\t\t\t\t\t\t\tfontSize: 28\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.getTimePhrase()}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Card>\n\t\t\t\t\t<Card style={{\n\t\t\t\t\t\toverflowY: \"scroll\",\n\t\t\t\t\t\tpadding: \"2%\",\n\t\t\t\t\t\tpaddingBottom: \"0%\",\n\t\t\t\t\t\tmargin: \"5%\",\n\t\t\t\t\t\t/* max-height: 50vw!important; */\n\t\t\t\t\t\t/* height: 50vw; */\n\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\t\n\t\t\t\t\t\tborderRadius: 5,\n\t\t\t\t\t\tborderWidth: 0,\n\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Schedule />\n\t\t\t\t\t</Card>\n\n\t\t\t\t</div>\n\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{\n\t\t\t\tmarginTop: \"5%\"\n\t\t\t}}>\n\t\t\t\t<Card style={{\n\t\t\t\t\toverflowY: \"scroll\",\n\t\t\t\t\tpadding: \"2%\",\n\t\t\t\t\tpaddingBottom: \"0%\",\n\t\t\t\t\t/* max-height: 50vw!important; */\n\t\t\t\t\t/* height: 50vw; */\n\t\t\t\t\twidth: \"60%\",\n\t\t\t\t\tmaxWidth: \"60%\",\n\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\tbackground: \"rgba(0,0,0,0)\",\n\t\t\t\t\tborderRadius: 10,\n\t\t\t\t\tborderWidth: 0,\n\n\t\t\t\t}}>\n\t\t\t\t\t<Schedule />\n\t\t\t\t</Card>\n\t\t\t\t<Card style={{\n\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\tverticalAlign: \"top\",\n\t\t\t\t\twidth: \"30vw\",\n\t\t\t\t\theight: \"30vw\",\n\t\t\t\t\tmarginLeft: \"2vw\",\n\t\t\t\t\tpadding: \"2%\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tbackground: \"rgba(0,0,0,0)\",\n\t\t\t\t}} />\n\t\t\t\t<Card style={{\n\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\tverticalAlign: \"top\",\n\t\t\t\t\twidth: \"30vw\",\n\t\t\t\t\theight: \"30vw\",\n\t\t\t\t\tmarginLeft: \"2vw\",\n\t\t\t\t\tpadding: \"2%\",\n\t\t\t\t\tposition: \"fixed\",\n\t\t\t\t\tright:\"5%\",\n\t\t\t\t\ttop: \"19.5vh\",\n\t\t\t\t}} >\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\t\ttransform: \"translate(-50%,-50%)\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<CTime />\n\t\t\t\t\t\t<Typography variant=\"h5\" align=\"left\" style={{\n\t\t\t\t\t\t\tfontSize: \"2vw\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.getTimePhrase()}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\n\t\t\t\t</Card>\n\n\t\t\t</div >\n\n\t\t)\n\n\t}\n\n}\nexport default connect()(ScheduleInfo);","import { Button, Card, CircularProgress, Container, Snackbar, TextField, Typography } from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { getTheme } from \"../components/Home/Navbar\";\nimport { hwbountyAPI } from \"../redux/types\";\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\nclass SignUpPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfirstNameError: \"\",\n\t\t\tlastNameError: \"\",\n\t\t\tusernameError: \"\",\n\t\t\temailError: \"\",\n\t\t\tpasswordError: \"\",\n\t\t\tcPasswordError: \"\",\n\t\t\tloading: false,\n\t\t\temailVerif: false,\n\t\t}\n\t}\n\tcomponentDidMount() {\n\n\t}\n\tsignup(self) {\n\t\tself.setState({ loading: true });\n\t\tlet firstName = document.getElementById(\"firstName\").value;\n\t\tlet lastName = document.getElementById(\"lastName\").value;\n\t\tlet username = document.getElementById(\"username\").value;\n\t\tlet email = document.getElementById(\"email\").value;\n\t\tlet password = document.getElementById(\"password\").value;\n\t\tlet cpassword = document.getElementById(\"cpassword\").value;\n\t\tif (!firstName) self.setState({ firstNameError: \"This field is required!\" });\n\t\tif (!lastName) self.setState({ lastNameError: \"This field is required!\" });\n\t\tif (!username) self.setState({ usernameError: \"This field is required!\" });\n\t\tif (!email) self.setState({ emailError: \"This field is required!\" });\n\t\tif (!password) return self.setState({ passwordError: \"This field is required!\" });\n\t\tif (password !== cpassword) self.setState({ passwordError: \"Passwords do not match!\", cPasswordError: \"Passwords do not match!\" });\n\t\tif (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/).test(email)) self.setState({ emailError: \"Invalid Email!\" });\n\t\tif (username.length < 3) self.setState({ usernameError: \"Username must be 3 or more characters long!\" });\n\t\tif (!username.match(/^[a-zA-Z0-9_]*$/)) self.setState({ usernameError: \"Username must be alphanumeric\" });\n\t\t//Check if usernameTaken\n\t\t//-1 = Failed, 0 = pending, 1 = checks passed\n\t\tlet processReady = 0;\n\t\t(async () => {\n\t\t\tlet res = await axios.get(`${hwbountyAPI}/usernameTaken/${username}`);\n\t\t\tif (res.data) {\n\t\t\t\tself.setState({ usernameError: \"This username already exists!\" });\n\t\t\t\tprocessReady = -1;\n\t\t\t}else{\n\t\t\t\tprocessReady++;\n\t\t\t}\n\t\t})();\n\t\t(async () => {\n\t\t\tlet res = await axios.get(`${hwbountyAPI}/emailTaken/${email}`);\n\t\t\tif (res.data) {\n\t\t\t\tself.setState({ emailError: \"This is already in use!\" });\n\t\t\t\tprocessReady = -1;\n\t\t\t} else {\n\t\t\t\tprocessReady++;\n\t\t\t}\n\t\t})();\n\t\t(async () => {\n\t\t\twhile (processReady === 0 || processReady === 1) await sleep(10);\n\t\t\tif (processReady === -1) return self.setState({ loading: false });\n\t\t\t//Process signup;\n\t\t\tlet signupRes = await axios.post(`${hwbountyAPI}/signup`, {\n\t\t\t\temail: email,\n\t\t\t\tfirstName: firstName,\n\t\t\t\tlastName: lastName,\n\t\t\t\tusername: username,\n\t\t\t\tpassword: password,\n\t\t\t});\n\t\t\tif (signupRes.status === 200 && signupRes.data)\n\t\t\t\tself.setState({ emailVerif: true, loading: false })\n\n\t\t})();\n\n\t}\n\tonTextChange(self) {\n\t\tself.setState({\n\t\t\tfirstNameError: \"\",\n\t\t\tlastNameError: \"\",\n\t\t\tusernameError: \"\",\n\t\t\temailError: \"\",\n\t\t\tpasswordError: \"\",\n\t\t\tcPasswordError: \"\",\n\t\t});\n\t}\n\trender() {\n\t\tif (localStorage.getItem(\"DBIdToken\")) this.props.history.push(\"/\");\n\t\treturn (\n\n\t\t\t<Container style={{\n\t\t\t\tpaddingLeft: window.innerWidth <= 1300 ? \"0vw\" : \"20vw\",\n\t\t\t\tpaddingRight: window.innerWidth <= 1300 ? \"0vw\" : \"20vw\"\n\t\t\t}}>\n\t\t\t\t<Snackbar open={this.state.emailVerif} autoHideDuration={10000} >\n\t\t\t\t\t<Alert severity=\"success\">\n\t\t\t\t\t\tWe have successfully recieved your signup! Please check your email for the next steps!\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t\t<Card >\n\n\t\t\t\t\t<img src={getTheme() ? \"https://cdn.discordapp.com/attachments/836672960566919228/836863806905778186/logo_min_white.png\" : \"https://cdn.discordapp.com/attachments/806706215693975552/832762321214111765/logo_min.png\"} height=\"100\"></img>\n\t\t\t\t\t<Typography variant=\"h5\" style={{\n\t\t\t\t\t\tfontSize: \"3vw\"\n\t\t\t\t\t}}>Registration Form</Typography>\n\t\t\t\t\t<form autoComplete=\"off\">\n\t\t\t\t\t\t<div style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t\t<TextField required error={this.state.firstNameError} id=\"firstName\" label=\"First Name\" variant=\"outlined\" style={{\n\t\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}} helperText={this.state.firstNameError} onChange={x => this.onTextChange(this)} />\n\t\t\t\t\t\t\t<TextField required id=\"lastName\" error={this.state.lastNameError} label=\"Last Name\" variant=\"outlined\" style={{\n\t\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}} helperText={this.state.lastNameError} onChange={x => this.onTextChange(this)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ marginBottom: 5 }}><TextField required id=\"username\" error={this.state.usernameError} label=\"Username\" variant=\"outlined\" style={{\n\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\twidth: 410,\n\n\t\t\t\t\t\t}} helperText={this.state.usernameError} onChange={x => this.onTextChange(this)} /></div>\n\t\t\t\t\t\t<div style={{ marginBottom: 10 }}><TextField required id=\"email\" error={this.state.emailError} label=\"Email\" variant=\"outlined\" style={{\n\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\twidth: 410,\n\n\t\t\t\t\t\t}} helperText={this.state.emailError} onChange={x => this.onTextChange(this)} /></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField required id=\"password\" error={this.state.passwordError} label=\"Password\" variant=\"outlined\" type=\"password\" style={{\n\t\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}} helperText={this.state.passwordError} onChange={x => this.onTextChange(this)} />\n\t\t\t\t\t\t\t<TextField required id=\"cpassword\" error={this.state.cPasswordError} label=\"Confirm Password\" variant=\"outlined\" type=\"password\" style={{\n\t\t\t\t\t\t\t\tmargin: 5,\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}} helperText={this.state.cPasswordError} onChange={x => this.onTextChange(this)} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</form>\n\t\t\t\t\t<Button disabled={this.state.loading} style={{\n\t\t\t\t\t\tmargin: 40,\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}} variant=\"outlined\" onClick={x => this.signup(this)}> {this.state.loading ? <CircularProgress size=\"28px\" /> : \"Sign Up\"}</Button>\n\t\t\t\t</Card>\n\t\t\t</Container>\n\t\t);\n\t}\n}\nexport default connect()(withRouter(SignUpPage));","const badges = {\n\tstaff : {\n\t\tname: \"Verified Staff\",\n\t\tdescription: \"Given to the people who helped make or moderate the site!\",\n\t},\n}\nexport default badges;","import { Avatar, Card, Chip, makeStyles, withStyles } from \"@material-ui/core\";\nimport { useState } from \"react\"\nimport theme from \"../util/theme\";\nimport {\n\tButton,\n\tContainer,\n\tList,\n\tListItem,\n\tPaper,\n\tTextField,\n\tTypography,\n} from \"@material-ui/core\";\n\nimport Fuse from \"fuse.js\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { hwbountyAPI } from \"../redux/types\";\nimport badges from \"../util/badges\";\nimport React from \"react\";\nimport { getTheme } from \"../components/Home/Navbar\";\nimport moment from \"moment\";\n/*\nTODO: remove mui theme provider here, it should work without it!!!\n(maybe check pallete or something?, color is sent but dark mode is not)\n*/\nconst styles = (theme) => ({\n\t...theme.spreadIt,\n});\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t  display: 'flex',\n\t  '& > *': {\n\t\tmargin: theme.spacing(1),\n\t  },\n\t},\n\tsmall: {\n\t  width: theme.spacing(3),\n\t  height: theme.spacing(3),\n\t},\n\tlarge: {\n\t  width: theme.spacing(16),\n\t  height: theme.spacing(16),\n\t},\n  }));\nexport const Profile = (props) => {\n\tconst [userData, setUserData] = useState(null);\n\tconst [fetching, setFetching] = useState(false);\n\tconst [error, setError] = useState(false)\n\tconst history = useHistory();\n\tconst classes = useStyles();\n\tconst renderChips = (data) => {\n\t\tif (!data) return null;\n\t\treturn (<div style={{\n\t\t\twidth: \"30vw\",\n\t\t\tmargin: \"10px\",\n\t\t}}>{React.Children.toArray(data.split(\",\").map(x => {\n\t\t\treturn (\n\t\t\t\t<Chip label={badges[x]?.name || \"Unknown Badge!\"} color=\"primary\" />\n\t\t\t)\n\t\t}))} </div>)\n\t}\n\tif (error) {\n\t\t// history.push()\n\t\treturn null;\n\t}\n\tif (!userData && !fetching) {\n\t\tsetFetching(true);\n\t\t(async () => {\n\t\t\tlet fetchres = await axios.get(`${hwbountyAPI}/user/${history.location.pathname.split(\"/\").pop()}`).catch(er => {\n\t\t\t\tconsole.trace(er);\n\t\t\t\tsetError(true);\n\n\t\t\t});\n\t\t\tif (fetchres && fetchres.status === 200) {\n\t\t\t\tsetUserData(fetchres.data);\n\t\t\t\tsetFetching(false);\n\t\t\t}\n\t\t})();\n\t}\n\n\tif (userData) {\n\t\tconsole.log(userData);\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Card>\n\t\t\t\t\t<Typography variant=\"h5\" style={{\n\t\t\t\t\t\tfontFamily: \"Nunito\",\n\t\t\t\t\t\tfontSize: \"64px\",\n\t\t\t\t\t}}>{userData.firstName} {userData.lastName}</Typography>\n\t\t\t\t\t<Avatar src={userData.pfp || \"https://cdn1.iconfinder.com/data/icons/materia-human/24/013_003_account_profile_circle-512.png\"} className={classes.large} style={{\n\t\t\t\t\t\tdisplay: \"inline-block\"\n\t\t\t\t\t}}/>\n\t\t\t\t\t<Typography variant=\"h5\" style={{\n\t\t\t\t\t\tfontFamily: \"Nunito\",\n\t\t\t\t\t}}>@{userData.publicID}</Typography>\n\t\t\t\t\t<Paper style={{\n\t\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\tmargin: \"10\",\n\t\t\t\t\t\tboxShadow: \"none\",\n\t\t\t\t\t\tbackground: getTheme()? \"rgb(50,50,50)\":\"rgb(230,230,230)\"\n\t\t\t\t\t}}>{renderChips(userData.tags)}</Paper>\n\t\t\t\t\t<Container style={{\n\t\t\t\t\t\tdisplay: \"block\",\n\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"h1\">Stats</Typography>\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\ttextAlign: \"left\",\n\t\t\t\t\t\t\tmarginLeft: \"5vw\",\n\t\t\t\t\t\t\tmarginRight: \"5vw\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"h5\"><b>User ID</b> {userData.privateID}</Typography>\n\t\t\t\t\t\t<Typography variant=\"h5\"><b>Joined on</b> {moment(parseInt(userData.createdAt)).format(\"dddd MMMM Do h:mm:ss A\")} ( {moment(parseInt(userData.createdAt)).fromNow()} )</Typography>\n\t\t\t\t\t\t<Typography variant=\"h5\"><b>Balance</b> {typeof userData.bal !== \"undefined\"? `${userData.bal} Coins`:\"Hidden\"}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Container>\n\t\t\t\t</Card>\n\t\t\t</Container>\n\t\t)\n\t}\n\treturn null;\n\n}\n\n\nexport default withStyles(styles)(Profile);\n","// React\nimport React, { useEffect, useRef } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n\n// Styling\nimport \"./App.css\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles/\";\nimport themeFile from \"./util/theme\";\n\n// Keybinds\nimport { ShortcutProvider, ShortcutConsumer } from \"react-keybind\";\nimport KeybindManager from \"./util/keybinds/keybind\";\n\n// Pages\nimport Home from \"./pages/home\";\nimport Login from \"./pages/login\";\n// Components\nimport Navbar from \"./components/Home/Navbar\";\nimport AuthPopup from \"./components/User/Authentication/AuthPopup\";\n\n// Tools\nimport axios from \"axios\";\nimport queryString from \"query-string\";\nimport Signup from \"./pages/signup\";\nimport ScheduleCatalog from \"./pages/schedules\";\nimport viewSchedule from \"./pages/viewSchedule\";\nimport setSchedule from \"./pages/setSchedule\";\nimport MusicModule from \"./components/MusicModule/MusicModule\";\nimport johnsHome from \"./pages/johnsHome\";\nimport schoologyOauthRedirect from \"./pages/schoologyOauthRedirect\";\nimport { ModuleViewer } from \"./components/Modules/ModuleViewer\";\nimport ScheduleInfo from \"./pages/ScheduleInfo\";\nimport newSignup from \"./pages/newSignup\";\nimport { Profile } from \"./pages/profile\";\n\n//=================Check for oauth token====================//\nconst token = localStorage.DBIdToken;\nif (token) {\n  axios.defaults.headers.common[\"Authorization\"] = token;\n  store.dispatch({ type: SET_AUTHENTICATED });\n  store.dispatch(getUserData());\n}\n//==========================================================//\n\nconst App = (props) => {\n  const { theme } = props.UI;\n\n  const dynamicTheme = createMuiTheme({\n    ...themeFile,\n    palette: {\n      primary: {\n        ...themeFile.palette.primary,\n      },\n      secondary: {\n        ...themeFile.palette.secondary,\n      },\n      type: theme === 0 ? \"light\" : \"dark\",\n    },\n  });\n\n  return (\n    <ShortcutProvider ignoreTagNames={[\"input\", \"textarea\"]}>\n      <MuiThemeProvider theme={dynamicTheme}>\n        <CssBaseline />\n        <KeybindManager />\n        <div className=\"App\">\n          <Router>\n            <Navbar />\n            <AuthPopup />\n            <MusicModule />\n            <Switch>\n              <Route exact path=\"/\" component={ScheduleInfo} />\n              <Route\n                exact\n                path=\"/schoologyCallback\"\n                component={schoologyOauthRedirect}\n              />\n              {/* <Route path=\"/jHome\" component={Home}/> */}\n              <Route path=\"/test\" component={null} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/signup\" component={newSignup} />\n              <Route path=\"/schedules\" component={ScheduleCatalog} />\n              <Route exact path=\"/schedule\" component={ScheduleInfo} />\n              <Route path=\"/schedule/view\" component={viewSchedule} />\n              <Route path=\"/schedule/set\" component={setSchedule} />\n              <Route path=\"/module/\" component={ModuleViewer} />\n              <Route path=\"/user/\" component={Profile} />\n            </Switch>\n          </Router>\n        </div>\n      </MuiThemeProvider>\n    </ShortcutProvider>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n});\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.trace('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}