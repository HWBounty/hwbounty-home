(this["webpackJsonphwbounty-home"]=this["webpackJsonphwbounty-home"]||[]).push([[20],{663:function(o,n,e){"use strict";e.r(n),e.d(n,"SchoologyButton",(function(){return g}));var c=e(18),a=e.n(c),r=e(34),u=e(0),s=e(206),i=e(14),h=e(16),l=e.n(h),f=e(88),p=e(20),w=e(9),b=e(38),d=e(2),g=function(o){var n=function(){var t=Object(r.a)(a.a.mark((function t(){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("".concat(w.q,"/schoologyAuth"),{redirectURL:"".concat(window.location.href)});case 2:(o=(o=t.sent).data||o)&&o.nonce&&o.url&&(localStorage.setItem("SchoologyNonce",o.nonce),window.location.href=o.url);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e=Object(f.b)().enqueueSnackbar,c=Object(p.f)();return Object(u.useEffect)((function(){window.location.search&&window.location.search.match(/\?oauth_token=/)&&Object(r.a)(a.a.mark((function t(){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("".concat(w.q,"/schoologyAuth"),{redirectURL:"".concat(window.location.href),oauth_token:window.location.search.split("?oauth_token=").pop(),nonce:localStorage.getItem("SchoologyNonce")}).catch((function(t){e(t.response.data.error||t.response.data)}));case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return");case 5:Object(b.d)(o.data),setTimeout((function(){return c.push("/")}),500);case 7:case"end":return t.stop()}}),t)})))()}),[]),Object(d.jsx)(s.a,{onClick:n,children:t("schoologyButton.authWithSchoology")})};n.default=Object(i.b)()(Object(f.c)(g))}}]);
//# sourceMappingURL=20.85ecfa6c.chunk.js.map