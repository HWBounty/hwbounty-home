(this["webpackJsonphwbounty-home"]=this["webpackJsonphwbounty-home"]||[]).push([[2],{142:function(e,t,n){"use strict";var a=n(15),o=n(295),r=Object(o.a)({palette:{primary:{light:"#6fe3d7",main:"#4db6ac",dark:"#91a3a1",contrastText:"#fff"},secondary:{light:"#ffb2ff",main:"#ea80fc",dark:"#b64fc8",contrastText:"#fff"}},typography:{useNextVariants:!0,fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700,fontFamilySecondary:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},spreadIt:{rootPadding:{padding:25},paper:{width:"100%",borderRadius:10},inputBase:{borderColor:"rgba(0,0,0,0)",borderRadius:2}}}),i={color:r.palette.text.primary,fontWeight:r.typography.fontWeightMedium,fontFamily:r.typography.fontFamilySecondary},c=Object(a.a)(Object(a.a)({},r),{},{typography:Object(a.a)(Object(a.a)({},r.typography),{},{fontHeader:i,h1:Object(a.a)(Object(a.a)(Object(a.a)({},r.typography.h1),i),{},{letterSpacing:0,fontSize:60}),h2:Object(a.a)(Object(a.a)(Object(a.a)({},r.typography.h2),i),{},{fontSize:48}),h3:Object(a.a)(Object(a.a)(Object(a.a)({},r.typography.h3),i),{},{fontSize:42}),h4:Object(a.a)(Object(a.a)(Object(a.a)({},r.typography.h4),i),{},{fontSize:36}),h5:Object(a.a)(Object(a.a)({},r.typography.h5),{},{fontSize:20,fontFamily:"'Oswald'",fontWeight:r.typography.fontWeightLight}),h6:Object(a.a)(Object(a.a)(Object(a.a)({fontFamily:"'Nunito'"},r.typography.h6),i),{},{fontSize:18}),subtitle1:Object(a.a)(Object(a.a)({},r.typography.subtitle1),{},{fontSize:18}),body1:Object(a.a)(Object(a.a)({},r.typography.body2),{},{fontWeight:r.typography.fontWeightRegular,fontSize:16}),body2:Object(a.a)(Object(a.a)({},r.typography.body1),{},{fontSize:14})})});t.a=c},144:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f}));var a=n(45),o=n.n(a),r=n(67),i=n(37),c=n(59),s=n.n(c),u=function(e){return function(t){t({type:i.b}),s.a.post("".concat(i.k,"/login"),e).then((function(e){f(e.data.token),t(h()),t({type:i.a}),window.location.reload()})).catch((function(e){console.log(e)}))}},l=function(e){return function(t){s.a.post("".concat(i.k,"/signup"),e).then((function(e){t({type:i.a})})).catch((function(e){return console.log(e)}))}},d=function(){s.a.post("".concat(i.k,"/schoologyLogin"),{redirectURL:"".concat(window.origin,"/schoologyCallback")}).then((function(e){return 200===e.status&&(window.location.href=e.data)}))},h=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("https://api.hwbounty.help/@me").catch(console.trace);case 2:(n=e.sent)&&200===n.status&&n.data?localStorage.setItem("user",JSON.stringify(n.data)):localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t="Bearer ".concat(e);localStorage.setItem("DBIdToken",t),s.a.defaults.headers.common.Authorization=t}},145:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(37),o=function(e){return function(t){t({type:a.i,payload:e})}},r=function(e){return function(t){t({type:a.f,payload:parseInt(e)})}},i=function(e){return function(t){t({type:a.e,payload:e})}}},350:function(e,t,n){"use strict";var a=n(49),o=n(50),r=n(292),i=n.n(r),c=n(983),s=function(){function e(){Object(a.a)(this,e),this.calcHistory=[],e.self=this,console.log(i.a.ChangeTypes)}return Object(o.a)(e,[{key:"solveEquation",value:function(e,t){var n=new u(e,0);return this.calcHistory.push(n),n}}]),e}();s.self=null,s.parser=c.a();var u=function e(t,n){Object(a.a)(this,e),this.equation=t,this.steps=[i.a.solveEquation][n||0](t)};t.a=s},37:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return f}));var a="SET_THEME",o="SET_MODULE",r="SET_MODULE_FULLSCREEN",i="SET_AUTH_POPUP_OPEN",c="LOADING_UI",s="CLEAR_ERRORS",u="SET_ASSIGNMENTS",l="SET_AUTHENTICATED",d="SET_SCHOOLOGY_LINKED",h=1,f="https://api.hwbounty.help"},465:function(e,t,n){},488:function(e,t,n){},511:function(e,t){},540:function(e,t,n){},976:function(e,t){},977:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(32),c=n.n(i),s=(n(465),n(15)),u=n(177),l=n(48),d=n(192),h=n(53),f=n(149),p=n(430),b=n(37),j={loading:!1,authenticated:!1,schoologyLinked:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.d:return Object(s.a)(Object(s.a)({},e),{},{authenticated:!0});case b.h:return Object(s.a)(Object(s.a)({},e),{},{schoologyLinked:!0});default:return e}},O={loading:!1,assignments:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.c:return Object(s.a)(Object(s.a)({},e),{},{assignments:t.payload.sort((function(e,t){return new Date(e.due)-new Date(t.due)}))});default:return e}},y={theme:1,module:1,moduleFullscreen:!1,authPopupOpen:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.i:return Object(s.a)(Object(s.a)({},e),{},{theme:t.payload});case b.f:return Object(s.a)(Object(s.a)({},e),{},{module:t.payload});case b.e:return Object(s.a)(Object(s.a)({},e),{},{authPopupOpen:t.payload});default:return e}},S=[p.a],w=Object(f.c)({user:g,data:m,UI:v}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,k=Object(f.e)(w,{},x(f.a.apply(void 0,S))),I=n(144),N=(n(488),n(1302)),T=n(295),U=n(1279),C=n(142),E=n(233),L=n(145),P=Object(h.b)(null,{setModule:L.b})(Object(E.withShortcut)((function(e){var t=e.shortcut,n=e.setModule,a=function(e){n(e.key)};return Object(o.useEffect)((function(){return t.registerShortcut(a,["0","1","2","3","4","5","6","7","8","9"],"Change Module","Changes to specified module given the id. 0 will clear"),function(){t.unregisterShortcut(["0","1","2","3","4","5","6","7","8","9"])}}),[]),null}))),A=n(41),M=n(1283),R=n(1277),z=n(333),B=n.n(z),W=n(437),_=n(1276),D=n(1273),F=n(59),H=n.n(F),Q=n(7),q=Object(h.b)((function(e){return{user:e.user}}))((function(e){var t,n=r.a.useState(null),a=Object(A.a)(n,2),o=a[0],i=a[1],c=(e.user.authenticated,function(){i(null)});return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(D.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(Q.jsx)("img",{src:null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.pfp,style:{maxHeight:40,maxWidth:40,borderRadius:20},alt:""})}),Object(Q.jsxs)(W.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(Q.jsx)(_.a,{onClick:function(){H()({method:"post",url:"https://api.hwbounty.help/schoologyLogin",data:{redirectURL:"hwbounty.help"}}).then((function(e){var t=window.open(e.data,"_blank","noopener,noreferrer");t&&(t.opener=null)})).catch((function(e){return console.log(e)}))},children:"Profile"}),Object(Q.jsx)(_.a,{onClick:c,children:"My account"}),Object(Q.jsx)(_.a,{onClick:function(){localStorage.getItem("DBIdToken")?(localStorage.clear(),location.reload()):location.href=location.href.split("/").slice(0,-1).concat("login").join("/")},children:localStorage.getItem("DBIdToken")?"Logout":"Login"})]})]})})),J=n(11),G=n(982),V=n(197),X=n(1278),Y=n(1305),K=n(439),Z=n(1275),$=new(n(301).a)([{name:"Home",path:"/",description:"The main page with scheduling and more!"},{name:"Schedules",path:"/schedules",description:"Find the perfect schedule for you!"},{name:"Ideal Gas Calculator",path:"/module/gaslawscalc",description:"Gas Law Calculator PV=NRT (Chemistry)"},{name:"Schedule",path:"/schedule",description:"Your current schedule, with a clock, zoom links, and periods!"}],{includeScore:!0,keys:["name","description"]}),ee=(Object(h.b)((function(e){return{UI:e.UI}}))(Object(J.a)((function(e){return Object(s.a)({},e.spreadIt)}))((function(e){var t=Object(l.f)(),n=e.UI.theme,a=Object(o.useState)(""),i=Object(A.a)(a,2),c=i[0],u=i[1],d=r.a.Children.toArray($.search(c).filter((function(e,t){return t<3})).map((function(e){return Object(Q.jsx)(G.a,{align:"left",style:{minWidth:396,margin:0,padding:0,textAlign:"left"},children:Object(Q.jsxs)(R.a,{fullWidth:!0,onClick:function(n){return a=e.item.path,u(""),void t.push(a);var a},children:[Object(Q.jsx)(V.a,{variant:"h5",style:{fontSize:20,fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"',marginLeft:0,marginRight:40,top:0,left:10,fontWeight:700,lineHeight:1.235},align:"left",children:e.item.name}),Object(Q.jsx)(V.a,{variant:"h5",style:{fontSize:16,fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"',textAlign:"right",marginLeft:40,display:"block",position:"relative"},children:e.item.description.substring(0,25)})]})})})));return Object(Q.jsxs)(X.a,{maxWidth:"xs",style:{margin:0},children:[Object(Q.jsx)(U.a,{theme:n,children:Object(Q.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(Q.jsx)(Y.a,Object(s.a)(Object(s.a)({placeholder:"Go To Page",onChange:function(e){u(e.target.value)},value:c,fullWidth:!0},e),{},{style:{color:n?"white":"black"}}))})}),d.length?Object(Q.jsx)(K.a,{style:{minWidth:396,height:160,position:"absolute",top:50,borderTopLeftRadius:0,borderTopRightRadius:0},children:Object(Q.jsx)(Z.a,{style:{minWidth:396,height:440,overflowX:"hidden",overflowY:"scroll",scrollbarWidth:"none",position:"absolute",padding:0,margin:0},children:d})}):null]})}))),Object(s.a)(Object(s.a)({},C.a.spreadIt),{},{root:{height:50},iconButton:{marginLeft:"auto"}})),te=Object(h.b)((function(e){return{UI:e.UI,user:e.user}}),{setTheme:L.c,setAuthPopupOpen:L.a})(B()(ee)((function(e){var t=e.classes,n=(e.UI.theme,e.user.authenticated),a=e.setAuthPopupOpen,r=Object(o.useState)(null),i=Object(A.a)(r,2),c=i[0],s=i[1];Object(o.useEffect)((function(){c?localStorage.getItem("user")||localStorage.setItem("user",JSON.stringify(c)):H.a.get("https://api.hwbounty.help/@me").then((function(e){200===e.status&&e.data&&e.data.password&&s(e.data)})).catch(console.trace)}));var u=function(){return Object(Q.jsx)("div",{children:n?Object(Q.jsx)(q,{}):Object(Q.jsx)(R.a,{onClick:function(){return a(!0)},children:"LOGIN"})})};return Object(Q.jsx)("div",{className:t.root,style:{minHeight:75},children:Object(Q.jsx)(M.a,{style:{},children:Object(Q.jsx)(u,{})})})}))),ne=n(1287),ae=n(1286),oe=n(1285),re=n(1284),ie=n(299),ce=n.n(ie)()({inputField:{display:"block",width:"90%"}}),se=function(e){var t=e.loginUser,n=Object(o.useState)(""),a=Object(A.a)(n,2),r=a[0],i=a[1],c=Object(o.useState)(""),s=Object(A.a)(c,2),u=s[0],l=s[1],d=ce();return Object(Q.jsxs)(o.Fragment,{children:[Object(Q.jsx)(re.a,{children:"Login"}),Object(Q.jsxs)(oe.a,{children:[Object(Q.jsx)(Y.a,{autoFocus:!0,type:"email",label:"Email Address",onChange:function(e){i(e.target.value)},value:r,className:d.inputField}),Object(Q.jsx)(Y.a,{type:"password",label:"Password",onChange:function(e){l(e.target.value)},value:u,className:d.inputFields})]}),Object(Q.jsx)(ae.a,{children:Object(Q.jsx)(R.a,{onClick:function(){t({email:r,password:u})},children:"Submit"})})]})},ue=(n(511),{setAuthPopupOpen:L.a,loginUser:I.c,signupUser:I.e}),le=Object(h.b)((function(e){return{UI:e.UI}}),ue)((function(e){var t=e.setAuthPopupOpen,n=e.loginUser,a=(e.signupUser,e.UI.authPopupOpen);return Object(Q.jsx)(ne.a,{maxWidth:"xs",fullWidth:!0,open:a,onClose:function(){t(!1)},children:Object(Q.jsx)(se,{loginUser:n})})})),de=n(10),he=n(1272),fe=n(62),pe=n(1288),be=n(1289),je=n(431),ge=n.n(je),Oe=n(432),me=n.n(Oe),ye=n(433),ve=n.n(ye),Se=n(1290),we=n(1295),xe=n(1291),ke=n(1292),Ie=n(1293),Ne=n(1294),Te=n(434),Ue=n.n(Te),Ce=(n(1308),240),Ee={Home:"/",Schedule:"/schedule",Profile:"/user/".concat(null===(a=JSON.parse(localStorage.getItem("user")))||void 0===a?void 0:a.publicID),"Sign Out":function(){localStorage.clear(),window.location.reload()},Settings:"/settings"};setInterval((function(){var e;Ee={Home:"/",Schedule:"/schedule",Profile:"/user/".concat(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.publicID),"Sign Out":function(){localStorage.clear(),window.location.reload()},Settings:"/settings"}}),1e3);var Le=Object(he.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Ce,"px)"),marginLeft:Ce,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},drawer:{width:Ce,flexShrink:0},drawerPaper:{width:Ce},drawerHeader:Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},anchoredAvatar:{position:"fixed",top:"1.05%",left:"1%"}}})),Pe=Object(J.a)((function(e){return Object(s.a)({},e.spreadIt)}))((function(e){var t=Le(),n=Object(fe.a)(),a=r.a.useState(!1),o=Object(A.a)(a,2),i=o[0],c=o[1],s=Object(l.f)(),u=function(){c(!1)};return Object(Q.jsxs)("div",{style:{zIndex:1e9},children:[Object(Q.jsx)(D.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},style:{position:"fixed",top:"1%",left:"1%",zIndex:1e4,display:i&&"none"},className:Object(de.a)(t.menuButton,i&&t.hide),children:Object(Q.jsx)(ge.a,{})}),Object(Q.jsxs)(pe.a,{className:t.drawer,anchor:"left",open:i,onClose:u,classes:{paper:t.drawerPaper},children:[Object(Q.jsxs)("div",{className:t.drawerHeader,children:[Object(Q.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log(e,document.getElementById("goPage").value)},children:Object(Q.jsx)(Y.a,{placeholder:"Go To Page...",id:"goPage"})}),Object(Q.jsx)(D.a,{onClick:u,children:"ltr"===n.direction?Object(Q.jsx)(me.a,{}):Object(Q.jsx)(ve.a,{})})]}),Object(Q.jsx)(be.a,{}),Object(Q.jsx)(Z.a,{children:["Home","Schedule","Profile","Settings","Sign Out"].map((function(e,t){return Object(Q.jsxs)(G.a,{button:!0,onClick:function(t){return"string"===typeof Ee[n=e]?s.push(Ee[n]):Ee[n](),void u();var n},children:[Object(Q.jsx)(Se.a,{children:[Object(Q.jsx)(xe.a,{}),Object(Q.jsx)(ke.a,{}),Object(Q.jsx)(Ie.a,{}),Object(Q.jsx)(Ne.a,{}),Object(Q.jsx)(Ue.a,{})][t]}),Object(Q.jsx)(we.a,{primary:e})]},e)}))})]})]})})),Ae=n(45),Me=n.n(Ae),Re=n(67),ze=n(49),Be=n(50),We=n(88),_e=n(87),De=(n(1303),n(1301),n(1298),n(1309),n(1296),n(1297),n(1299),n(1300),n(435)),Fe=n.n(De),He=function(e){var t=null;return e.forEach((function(e){t||(t=e),e.height*e.width>t.height*t.width&&(t=e)})),t.url},Qe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},qe=function(){function e(t){var n=this;Object(ze.a)(this,e),this.updateMe=t,e.self=e.self||this,this.songInfoMap=new Map,window.URL=window.URL||window.webkitURL,window.MediaSource=window.MediaSource||window.WebKitMediaSource,this.socket=Fe()("https://api.hwbounty.help/"),this.video=document.getElementById("streamingVideoForMusic"),this.stopPlaying=!1,this.mediaSource=null,this.sourceBuffer=null,this.queue=[],this.songQueue=[];try{e.self.songQueue=JSON.parse(localStorage.getItem("queue"))||[]}catch(a){e.self.songQueue=[]}this.played=[],this.songCount=0,this.currentSong={},this.currentSongLink="",this.loop=!1,this.video.onended=this.processQueue,this.socket.on("getTrackInfo",this.handleSongInfo),this.socket.on("addSongsToQueue",this.addToQueue),this.tryingToPlay=!1,setInterval((function(){n.updateMe.setState(Object.assign(n.updateMe.state,{updateMe:!n.updateMe.state.updateMe})),n.processQueue()}),100),setInterval((function(){localStorage.setItem("queue",JSON.stringify(n.songQueue))}),250),this.searchResults=null,this.socket.on("querySongs",(function(e){n.searchResults=e}))}return Object(Be.a)(e,[{key:"sendTrack",value:function(e){this.socket.emit("track",e)}},{key:"playSong",value:function(e){var t=this;this.tryingToPlay=!0,Object(Re.a)(Me.a.mark((function n(){var a,o,r,i;return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.mediaSource=new window.MediaSource,t.video.src=window.URL.createObjectURL(t.mediaSource),t.video.pause(),t.socket.emit("track",e),t.currentSongLink=e;case 5:if("open"===t.mediaSource.readyState){n.next=10;break}return n.next=8,Qe(1);case 8:n.next=5;break;case 10:t.video.volume=.5,t.sourceBuffer=t.mediaSource.addSourceBuffer('video/webm; codecs="opus"'),t.sourceBuffer.mode="sequence",!1,a=!0,t.sourceBuffer.onupdateend=function(){a=!1},o=0,r=0,setInterval((function(){r>=0&&(r-=2)}),100),i=setInterval((function(){if(t.stopPlaying&&clearInterval(i),!a&&!(r>20)&&t.queue.length&&"open"===t.mediaSource.readyState&&t.sourceBuffer){var e=t.queue.shift();try{t.sourceBuffer.appendBuffer(e)}catch(n){r++,t.queue.unshift(e)}}}),10),t.socket.on("video-data-stream",(function(n){if(n.link===e){var a=new Uint8Array(n.chunk);0===o?(t.sourceBuffer.appendBuffer(a),o++,t.tryingToPlay=!1,t.video.play()):t.queue.push(a)}})),t.socket.on("video-info",(function(n){if(n.link===e){var a,o={songName:(a=n.data.videoDetails).title,songAuthor:a.ownerChannelName,bestThumbnail:He(a.thumbnails),url:a.video_url};t.currentSong=o}})),t.socket.on("video-data-done",(function(){}));case 23:case"end":return n.stop()}}),n)})))()}},{key:"addToQueue",value:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.self.songQueue=e.self.songQueue.concat(n)}},{key:"handleSongInfo",value:function(t,n){var a;n?e.self.songInfoMap.set(t,{songName:(a=n).items[0].snippet.title,songAuthor:a.items[0].snippet.channelTitle,bestThumbnail:a.items[0].snippet.thumbnails.maxres||a.items[0].snippet.thumbnails.high||a.items[0].snippet.thumbnails.standard||a.items[0].snippet.thumbnails.medium||a.items[0].snippet.thumbnails.default,url:"https://youtu.be/".concat(a.items[0].id)}):e.self.songInfoMap.delete(t)}},{key:"processQueue",value:function(){var t;if((e.self.songQueue.forEach((function(t){e.self.songInfoMap.has(t)||(e.self.socket.emit("getTrackInfo",t),e.self.songInfoMap.set(t,"LoadingInData"))})),!e.self.tryingToPlay)&&(t=e.self.video,(Number.isNaN(t.duration)||Math.abs(t.duration-t.currentTime)<1&&!Number.isNaN(t.currentTime/t.duration)&&t.currentTime/t.duration>.995)&&(e.self.loop&&e.self.songQueue.push(e.self.currentSongLink),e.self.songQueue.length))){var n=e.self.songQueue.shift();n&&e.self.playSong(n)}}},{key:"search",value:function(t){e.self.socket.emit("querySongs",t)}}]),e}(),Je=(n(445),n(540),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Ge=function(e){Object(We.a)(n,e);var t=Object(_e.a)(n);function n(e){var a;return Object(ze.a)(this,n),(a=t.call(this,e)).state={audionState:{startedAt:null,loadingProcess:0},volumeLevel:2e3,progress:0,playState:0,loading:!1,socket:null,duration:0,currentSong:null,tab:0,songInfoMap:new Map,updateMe:!1},a}return Object(Be.a)(n,[{key:"componentDidMount",value:function(e){var t=this;if(!localStorage.getItem("DBIdToken"))return null;var n=new qe(this);Object(Re.a)(Me.a.mark((function e(){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(a=n.currentSong)||void 0===a?void 0:a.bestThumbnail){e.next=5;break}return e.next=3,Je(1);case 3:e.next=0;break;case 5:t.setState({});case 6:case"end":return e.stop()}}),e)})))()}},{key:"handleTabChange",value:function(e,t,n){n.setState(Object.assign(n.state,{tab:t}))}},{key:"render",value:function(){return null}}]),n}(o.Component),Ve=Object(h.b)()(Ge),Xe=(n(541),function(e){Object(We.a)(n,e);var t=Object(_e.a)(n);function n(e){return Object(ze.a)(this,n),t.call(this,e)}return Object(Be.a)(n,[{key:"updateUser",value:function(){var e=Object(Re.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("https://api.hwbounty.help/@me").catch(console.trace);case 2:(t=e.sent)&&200===t.status&&t.data?localStorage.setItem("user",JSON.stringify(t.data)):localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSchedule",value:function(){var e=Object(Re.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.a.get("https://api.hwbounty.help/schedule/@me").then((function(e){e&&200===e.status&&localStorage.setItem("cachedSchedule",JSON.stringify(e.data))})).catch(console.trace),H.a.get("https://api.hwbounty.help/sgy/getZoomLinks").then((function(e){e&&200===e.status&&localStorage.setItem("cachedCourseInfo",JSON.stringify(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t="";setInterval((function(){t!==e.props.location.pathname&&(t=e.props.location.pathname,e.updateCache())}),1e3)}},{key:"updateCache",value:function(){var e=Object(Re.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateUser(),this.updateSchedule();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}]),n}(o.Component)),Ye=Object(h.b)()(Object(l.g)(Xe)),Ke=function(e){var t=function(){var e=Object(Re.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(b.k,"/schoologyAuth"),{redirectURL:"".concat(window.location.href)});case 2:(t=(t=e.sent).data||t)&&t.nonce&&t.url&&(localStorage.setItem("SchoologyNonce",t.nonce),window.location.href=t.url);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=Object(d.b)().enqueueSnackbar,a=Object(l.f)();return Object(o.useEffect)((function(){window.location.search&&window.location.search.match(/\?oauth_token=/)&&Object(Re.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(b.k,"/schoologyAuth"),{redirectURL:"".concat(window.location.href),oauth_token:window.location.search.split("?oauth_token=").pop(),nonce:localStorage.getItem("SchoologyNonce")}).catch((function(e){console.log(e),n(e.response.data.error||e.response.data)}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:Object(I.d)(t.data),setTimeout((function(){return a.push("/")}),500);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(Q.jsx)(R.a,{onClick:t,children:"Authenticate With Schoology"})},Ze=(Object(h.b)()(Object(d.c)(Ke)),n(350)),$e=Object(o.lazy)((function(){return Promise.all([n.e(5),n.e(12)]).then(n.bind(null,1503))})),et=Object(o.lazy)((function(){return Promise.all([n.e(7),n.e(13)]).then(n.bind(null,1492))})),tt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,1500))})),nt=Object(o.lazy)((function(){return n.e(18).then(n.bind(null,1493))})),at=Object(o.lazy)((function(){return n.e(17).then(n.bind(null,1502))})),ot=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,1499))})),rt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(9)]).then(n.bind(null,1505))})),it=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(6)]).then(n.bind(null,1494))})),ct=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,1495))})),st=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,1496))})),ut=Object(o.lazy)((function(){return n.e(15).then(n.bind(null,1497))})),lt=Object(o.lazy)((function(){return n.e(11).then(n.bind(null,1498))})),dt=localStorage.DBIdToken;dt&&(H.a.defaults.headers.common.Authorization=dt,k.dispatch({type:b.d}),k.dispatch(Object(I.a)()));var ht=null!==localStorage.theme?parseInt(localStorage.theme):localStorage.theme=1;ht&&k.dispatch({type:b.i,payload:ht});var ft=Object(h.b)((function(e){return{UI:e.UI,user:e.user}}))((function(e){var t=e.UI.theme,n=e.user.authenticated;Object(o.useEffect)((function(){new Ze.a}));var a=Object(T.a)(Object(s.a)(Object(s.a)({},C.a),{},{palette:{primary:Object(s.a)({},C.a.palette.primary),secondary:Object(s.a)({},C.a.palette.secondary),type:0===t?"light":"dark"}}));return Object(Q.jsx)(d.a,{maxSnack:5,children:Object(Q.jsx)(E.ShortcutProvider,{ignoreTagNames:["input","textarea"],children:Object(Q.jsxs)(U.a,{theme:a,children:[Object(Q.jsx)(N.a,{}),Object(Q.jsx)(P,{}),Object(Q.jsx)("div",{className:"App",children:Object(Q.jsx)(u.a,{children:Object(Q.jsxs)(o.Suspense,{fallback:Object(Q.jsx)("div",{children:"Loading..."}),children:[n?Object(Q.jsx)(Pe,{}):Object(Q.jsx)(te,{}),Object(Q.jsx)(le,{}),Object(Q.jsx)(Ve,{}),Object(Q.jsx)(Ye,{}),Object(Q.jsxs)(l.c,{children:[Object(Q.jsx)(l.a,{exact:!0,path:"/",component:ot}),Object(Q.jsx)(l.a,{exact:!0,path:"/schoologyCallback",component:ut}),Object(Q.jsx)(l.a,{path:"/signupcallback",component:nt}),Object(Q.jsx)(l.a,{path:"/signup",component:et}),Object(Q.jsx)(l.a,{path:"/schedules",component:it}),Object(Q.jsx)(l.a,{exact:!0,path:"/schedule",component:rt}),Object(Q.jsx)(l.a,{path:"/schedule/view",component:ct}),Object(Q.jsx)(l.a,{path:"/schedule/set",component:st}),Object(Q.jsx)(l.a,{path:"/modules/",component:$e}),Object(Q.jsx)(l.a,{path:"/user/",component:tt}),Object(Q.jsx)(l.a,{path:"/settings/",component:at}),Object(Q.jsx)(l.a,{exact:!0,path:"/login/schoology",component:Ke}),Object(Q.jsx)(l.a,{path:"*",component:lt})]})]})})})]})})})})),pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.trace("Error during service worker registration:",e)}))}c.a.render(Object(Q.jsx)(r.a.StrictMode,{children:Object(Q.jsx)(h.a,{store:k,children:Object(Q.jsx)(ft,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):bt(t,e)}))}}()}},[[977,3,4]]]);
//# sourceMappingURL=main.fff01037.chunk.js.map