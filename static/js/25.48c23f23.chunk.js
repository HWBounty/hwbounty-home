(this["webpackJsonphwbounty-home"]=this["webpackJsonphwbounty-home"]||[]).push([[25],{1229:function(t,e,a){"use strict";a.r(e);var s=a(25),i=a.n(s),n=a(43),c=a(35),l=a(37),r=a(67),h=a(66),d=a(994),o=a(405),u=a(1021),b=a(1018),j=a(992),p=a(1062),O=a(154),y=a(1026),x=a(954),g=a(0),v=a.n(g),m=a(47),f=a.n(m),D=a(45),S=a(1031),k=a.n(S),w=a(1066),A=a.n(w),C=a(46),T=a(6),J=function(t){Object(r.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={scheduleData:null,fetching:!1,tab:0},s}return Object(l.a)(a,[{key:"fetchScheduleData",value:function(){var t=Object(n.a)(i.a.mark((function t(){var e,a,s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.scheduleData){t.next=2;break}return t.abrupt("return");case 2:return a=this.props.location,s=a.pathname.split("/").pop()||(null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.query)||a.search.split("?id=").pop(),t.next=6,f.a.get("https://api.hwbounty.help/schedules/view/".concat(s)).catch(console.trace);case 6:(n=t.sent).data&&(n.data.nameOverrides=JSON.parse(n.data.nameOverrides.replace(/\\"/g,'"')),n.data.schedule=JSON.parse(n.data.schedule),this.setState({scheduleData:n.data}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(t){this.props=t}},{key:"handleTabChange",value:function(t,e,a){a.setState({tab:e})}},{key:"render",value:function(){var t,e,a=this;return this.state.scheduleData||this.state.fetching?this.state.scheduleData?Object(T.jsxs)(d.a,{children:[Object(T.jsxs)(o.a,{style:{width:"40%",maxWidth:"40%",margin:"5%",display:"inline-block",verticalAlign:"middle"},align:"left",children:[Object(T.jsxs)(u.a,{value:this.state.tab,indicatorColor:"primary",textColor:"primary",onChange:function(t,e){a.handleTabChange(t,e,a)},variant:"scrollable",scrollButtons:"auto",children:[Object(T.jsx)(b.a,{label:"Mon"}),Object(T.jsx)(b.a,{label:"Tue"}),Object(T.jsx)(b.a,{label:"Wed"}),Object(T.jsx)(b.a,{label:"Thu"}),Object(T.jsx)(b.a,{label:"Fri"}),Object(T.jsx)(b.a,{label:"Sat"}),Object(T.jsx)(b.a,{label:"Sun"})]}),Object(T.jsxs)(j.a,{children:[0===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),1===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),2===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),3===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),4===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),5===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),6===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData})]})]}),Object(T.jsxs)(p.a,{style:{display:"inline-block",width:"40%",margin:"5%",paddingBottom:"1vh",paddingLeft:"5%",paddingRight:"5%",textAlign:"left",verticalAlign:"middle"},children:[Object(T.jsx)(O.a,{variant:"h4",style:{textAlign:"center"},children:this.state.scheduleData.name}),Object(T.jsx)(d.a,{style:{width:"100%",height:"10%"},children:Object(T.jsxs)("span",{children:[Object(T.jsx)(O.a,{variant:"caption",style:{textAlign:"left",marginRight:"3%"},children:"By:"}),Object(T.jsx)(y.a,{src:this.state.scheduleData.user.pfp,align:"left",style:{display:"inline-block",verticalAlign:"middle"},children:this.state.scheduleData.user.publicID}),Object(T.jsx)(O.a,{variant:"h5",style:{verticalAlign:"middle",marginLeft:"3%",display:"inline-block"},children:this.state.scheduleData.user.publicID})]})}),Object(T.jsxs)(O.a,{children:["Last Updated:"," ",k()(parseInt(this.state.scheduleData.lastUpdated)).fromNow()]}),Object(T.jsx)(A.a,{children:this.state.scheduleData.description}),Object(T.jsx)(d.a,{style:{paddingTop:"1vh",borderTop:"2px solid rgba(160, 160, 160, 0.2)",textAlign:"center"},children:Object(T.jsx)(x.a,{onClick:function(){return a.props.history.push("/schedule/set/".concat(a.props.location.pathname.split("/").pop()))},disabled:!(null===(t=JSON.parse(localStorage.getItem("user")||"[]"))||void 0===t?void 0:t.schoologyKey),children:(null===(e=JSON.parse(localStorage.getItem("user")||"[]"))||void 0===e?void 0:e.schoologyKey)?"Use this Schedule":"Link School Account First"})})]})]}):null:(this.setState({fetching:!0}),this.fetchScheduleData(),Object(T.jsx)("br",{}))}}]),a}(g.Component),N=function(t){t.classes;var e=t.data,a=t.day,s=(e.nameOverrides,e.schedule[["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][a]].map((function(t){return Object.assign(t,{period:e.nameOverrides[t.period]||t.period})})));return Object(T.jsx)(d.a,{style:{marginBottom:"5%"},children:function(){var t=v.a.Children.toArray(s.map((function(t){return Object(T.jsxs)(d.a,{children:[Object(T.jsx)(O.a,{variant:"h4",children:t.period}),Object(T.jsx)(O.a,{variant:"h6",children:t.timeStart}),Object(T.jsx)(O.a,{variant:"h6",children:t.timeEnd})]})})));return t.length?t:Object(T.jsx)(O.a,{variant:"h3",children:"No School Today!"})}()})};e.default=Object(D.b)()(Object(C.g)(J))}}]);
//# sourceMappingURL=25.48c23f23.chunk.js.map