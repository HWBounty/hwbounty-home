{"version":3,"sources":["util/badges.js","pages/profile.js"],"names":["badges","staff","name","description","color","backendDev","designer","fetchUser","id","axios","get","hwbountyAPI","catch","er","console","trace","then","res","data","chipStyles","makeStyles","theme","root","fontSize","props","size","height","borderRadius","backgroundColor","margin","avatar","width","deleteIcon","CustomChip","restProps","classes","className","useStyles","large","profileDiv","position","top","left","transform","marginTop","boxShadow","hoverBlur","profileBuffer","profileHoverText","opacity","window","innerWidth","zIndex","fontFamily","verticalAlign","profileHoverTextText","card","background","mainInfoCard","maxWidth","maxHeight","minWidth","minHeight","display","marginLeft","nameandPasswordCard","right","mainInfoEverything","alignItems","bio","innerHeight","text","DMtext","infoLabel","textAlign","infoText","chip","balanceCard","padding","balanceText","Profile","UI","history","useHistory","useAsyncResource","location","pathname","split","pop","userDat","getUserData","useEffect","listen","fallback","LoadingPage","ProfileInfo","userData","log","useState","error","editingBio","setEditingBio","setBio","pfp","setPfp","enqueueSnackbar","useSnackbar","postBio","a","post","type","onChange","event","nv","FR","FileReader","onloadend","e","includes","target","result","substring","indexOf","variant","base64","value","readAsDataURL","document","getElementById","files","style","src","JSON","parse","localStorage","getItem","privateID","onClick","click","firstName","lastName","label","onBlur","val","length","border","outline","publicID","parseInt","premiumEndsAt","Date","now","push","moment","fromNow","React","Children","toArray","map","x","renderChips","tags","bal","connect","state","withStyles","spreadIt"],"mappings":"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","file":"static/js/15.f3b98d58.chunk.js","sourcesContent":["const badges = {\r\n\tstaff : {\r\n\t\tname: \"Verified Staff\",\r\n\t\tdescription: \"Given to the people who helped make or moderate the site!\",\r\n\t\tcolor: \"rgb(105,180,172)\"\r\n\t},\r\n\tbackendDev: {\r\n\t\tname: \"Backend Developer\",\r\n\t\tdescription: \"Does backend for the site ( Handle auth, like all the raw data)\",\r\n\t\tcolor: \"rgb(170,128,255)\"\r\n\t},\r\n\tdesigner: {\r\n\t\tname: \"Designer\",\r\n\t\tdescription: \"Makes the website look actually not bad.\",\r\n\t\tcolor: \"rgb(0,179,89)\"\r\n\t},\r\n}\r\nexport default badges;","import {\r\n\tAvatar,\r\n\tCard,\r\n\tChip,\r\n\tFade,\r\n\tmakeStyles,\r\n\tModal,\r\n\twithStyles,\r\n} from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n\tButton,\r\n\tContainer,\r\n\tList,\r\n\tListItem,\r\n\tPaper,\r\n\tTextField,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\n\r\nimport Fuse from \"fuse.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\nimport badges from \"../util/badges\";\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { connect } from \"react-redux\";\r\nimport { useAsyncResource } from 'use-async-resource';\r\nimport { Suspense } from \"react\";\r\nimport LoadingPage from \"./loadingPage\";\r\nconst fetchUser = (id) => \r\n\taxios\r\n\t\t.get(\r\n\t\t\t`${hwbountyAPI}/user/${id}`\r\n\t\t)\r\n\t\t.catch((er) => {\r\n\t\t\tconsole.trace(er);\r\n\t\t}).then(res => res.data);\r\n/*\r\nTODO: remove mui theme provider here, it should work without it!!!\r\n(maybe check pallete or something?, color is sent but dark mode is not)\r\n*/\r\n\r\nconst chipStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tfontSize: (props) => `${props.size * 0.8125}rem`,\r\n\t\theight: (props) => `${props.size * 32}px`,\r\n\t\tborderRadius: \"9999px\",\r\n\t\tbackgroundColor: (props) => `${props.color}!important`,\r\n\t\tmargin: \"10px\",\r\n\t},\r\n\tavatar: {\r\n\t\t\"&&\": {\r\n\t\t\theight: (props) => `${props.size * 24}px`,\r\n\t\t\twidth: (props) => `${props.size * 24}px`,\r\n\t\t\tfontSize: (props) => `${props.size * 0.75}rem`\r\n\t\t}\r\n\t},\r\n\tdeleteIcon: {\r\n\t\theight: (props) => `${props.size * 22}px`,\r\n\t\twidth: (props) => `${props.size * 22}px`,\r\n\t\tcolor: \"green\"\r\n\t}\r\n}));\r\nconst CustomChip = (props) => {\r\n\tconst { size = 1, color = \"rgb(0,0,0)\", ...restProps } = props;\r\n\tconst classes = chipStyles({ size, color });\r\n\r\n\treturn (\r\n\t\t<Chip\r\n\t\t\tclassName={classes.root}\r\n\t\t\tclasses={{ avatar: classes.avatar, deleteIcon: classes.deleteIcon }}\r\n\t\t\t{...restProps}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n\t...theme.spreadIt,\r\n});\r\nconst useStyles = makeStyles({\r\n\tlarge: {\r\n\t\twidth: \"100px\",\r\n\t\theight: \"100px\",\r\n\r\n\t},\r\n\tprofileDiv: {\r\n\t\tposition: \"relative\",\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\ttransform: \"translate(25%,0%)\",\r\n\t\tmarginTop: \"1vh\",\r\n\t\tborderRadius: 1000,\r\n\t\twidth: \"20vw\",\r\n\t\theight: \"20vw\",\r\n\t\tboxShadow: \"0px 2px 5px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\",\r\n\r\n\r\n\t},\r\n\thoverBlur: {\r\n\t\t\"&:hover\": {\r\n\t\t\tboxShadow: \"14px 20px 20px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\",\r\n\t\t\t\"-webkit-filter\": \"blur(5px)\",\r\n\t\t\t\"-moz-filter\": \"blur(5px)\",\r\n\t\t\t\"-o-filter\": \"blur(5px)\",\r\n\t\t\t\"-ms-filter\": \"blur(5px)\",\r\n\t\t\t\"filter\": \"blur(5px)\",\r\n\t\t},\r\n\t},\r\n\tprofileBuffer: {\r\n\t\twidth: \"10vw\",\r\n\t\theight: \"24vw\",\r\n\t},\r\n\tprofileHoverText: {\r\n\t\t\"&:hover\": {\r\n\r\n\t\t\topacity: 0.5,\r\n\t\t},\r\n\t\t// verticalAlign: \"middle!important\",\r\n\t\tfontSize: window.innerWidth / 50,\r\n\t\tcolor: \"rgb(239,239,239)\",\r\n\t\topacity: 0,\r\n\t\tbackgroundColor: \"rgba(0,0,0,1)\",\r\n\t\tzIndex: 100000,\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n\tprofileHoverTextText: {\r\n\t\t// verticalAlign: \"middle!important\",\r\n\t\tfontSize: window.innerWidth / 50,\r\n\t\tzIndex: 100000,\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tposition: \"absolute\",\r\n\t\ttransform: \"translate(50%,50%)\",\r\n\t\tcolor: \"rgb(239,239,239)\",\r\n\t},\r\n\tcard: {\r\n\t\tborderRadius: \"1vw!important\",\r\n\t\tbackground: theme => theme ? \"rgb(67,67,67)\" : \"rgb(239,239,239)\",\r\n\t\tboxShadow: \"0px 2px 5px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\"\r\n\t},\r\n\tmainInfoCard: {\r\n\t\tposition: \"relative\",\r\n\t\tmaxWidth: \"30%\",\r\n\t\tmaxHeight: \"80%\",\r\n\t\tminWidth: \"30%\",\r\n\t\tminHeight: \"80%\",\r\n\t\theight: \"90vh!important\",\r\n\t\tdisplay: \"block\",\r\n\t\tmarginTop: \"5%\",\r\n\t\tmarginLeft: \"5%\",\r\n\t},\r\n\tnameandPasswordCard: {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"10%\",\r\n\t\tright: \"10%\",\r\n\t\tmargin: 0,\r\n\t\tmaxHeight: \"25%\",\r\n\t\tminWidth: \"50%\",\r\n\t\tminHeight: \"25%\",\r\n\t},\r\n\tmainInfoEverything: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tname: {\r\n\t\tmarginTop: \"3vh\",\r\n\t\tfontSize: 48,\r\n\t},\r\n\tbio: {\r\n\t\tmarginTop: \"3vh\",\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tfontSize: window.innerHeight / 50,\r\n\t\tmaxWidth: \"15vw\",\r\n\t\tdisplay: \"inline-block\",\r\n\t},\r\n\ttext: {\r\n\t\tcolor: theme => theme ? \"rgb(252,252,252)\" : \"rgb(0,0,0)\",\r\n\t},\r\n\tDMtext: {\r\n\t\tcolor: theme => theme ? \"rgb(252,252,252)\" : \"rgb(0,0,0)\",\r\n\t},\r\n\tinfoLabel: {\r\n\t\tfontFamily: \"Poppins\",\r\n\t\tfontSize: window.innerHeight / 50,\r\n\t\tmarginLeft: \"5%\",\r\n\t\ttextAlign: \"left\",\r\n\t},\r\n\tinfoText: {\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tfontSize: window.innerHeight / 30,\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tchip: {\r\n\t\tsize: \"large\",\r\n\t\t// height: window.innerHeight / \r\n\t},\r\n\tbalanceCard: {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"40%\",\r\n\t\tright: \"30%\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tmaxHeight: \"10%\",\r\n\t\tminWidth: \"30%\",\r\n\t\tminHeight: \"10%\",\r\n\t},\r\n\tbalanceText: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"10%\",\r\n\t\ttransform: \"translate(0%,-50%)\"\r\n\t}\r\n});\r\nexport const Profile = (props) => {\r\n\tconst {\r\n\t\tUI: { theme },\r\n\t} = props;\r\n\tconst history = useHistory();\r\n\tlet [userDat,getUserData] = useAsyncResource(fetchUser,`${history.location.pathname.split(\"/\").pop()}`);\r\n\tuseEffect(()=>\r\n\t\thistory.listen(location =>{\r\n\t\t\tgetUserData(`${location.pathname.split(\"/\").pop()}`);\r\n\t\t\t\r\n\t\t})\r\n\t);\r\n\t\r\n\treturn (<Suspense fallback={LoadingPage}><ProfileInfo userDat={userDat} theme={theme}/></Suspense>)\r\n\t\r\n};\r\nexport const ProfileInfo = ({theme, userDat})=>{\r\n\tconst userData = userDat();\r\n\tconsole.log(userData);\r\n\tconst [error, setError] = useState(false);\r\n\tconst [editingBio, setEditingBio] = useState(false);\r\n\tconst classes = useStyles(theme);\r\n\tconst [bio, setBio] = useState(\"\");\r\n\tconst [pfp, setPfp] = useState(\"\");\r\n\tuseEffect(()=>{\r\n\t\tsetBio(userData.bio);\r\n\t\tsetPfp(userData.pfp);\r\n\t},[userData])\r\n\r\n\tconst [ShowPfpChangeMSG, setShowPfpChangeMSG] = useState(false);\r\n\tconst onClickPfp = () => {\r\n\t\tdocument.getElementById(\"pfpFileInput\").click();\r\n\t}\r\n\tconst { enqueueSnackbar } = useSnackbar();\r\n\tconst renderChips = (data) => {\r\n\t\tif (!data) return null;\r\n\t\tdata = data.split(\",\");\r\n\t\tif (parseInt(userData?.premiumEndsAt) && Date.now() < parseInt(userData.premiumEndsAt)) data.push({\r\n\t\t\t// premiumEndsAt\r\n\t\t\tname: \"Premium Member\",\r\n\t\t\tcolor: \"rgb(118,137,211)\",\r\n\t\t\tdescription: `A Premium member of HWBounty! Ends in ${moment(parseInt(JSON.parse(localStorage.getItem(\"user\"))?.premiumEndsAt)).fromNow()}`\r\n\t\t})\r\n\t\treturn React.Children.toArray(\r\n\t\t\tdata.map((x) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CustomChip\r\n\t\t\t\t\t\tlabel={x.name || badges[x]?.name || \"Unknown Badge!\"}\r\n\t\t\t\t\t\tcolor={x.color || badges[x]?.color}\r\n\t\t\t\t\t\tonClick={() => enqueueSnackbar(`${x.description || badges[x].description}`)}\r\n\t\t\t\t\t\tsize={(window.innerHeight * window.innerWidth) ** 0.025}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t};\r\n\tif (error) {\r\n\t\t// history.push()\r\n\t\treturn null;\r\n\t}\r\n\tconst handleEditBio = () => {\r\n\t\tif (\r\n\t\t\tuserData &&\r\n\t\t\tlocalStorage.getItem(\"user\") &&\r\n\t\t\tJSON.parse(localStorage.getItem(\"user\"))?.privateID === userData.privateID\r\n\t\t) {\r\n\t\t\tsetEditingBio(true);\r\n\t\t}\r\n\t};\r\n\tconst postBio = async () => {\r\n\t\tenqueueSnackbar(\"Updating bio...\");\r\n\t\tlet updateSelf = await axios.post(`${hwbountyAPI}/updateSelf`, {\r\n\t\t\tbio: bio,\r\n\t\t});\r\n\t\tenqueueSnackbar(\"Bio updated!\");\r\n\t};\r\n\tconst stopEditingBio = () => {\r\n\t\tif (!bio) setBio(userData.bio);\r\n\t\tpostBio();\r\n\t\tsetEditingBio(false);\r\n\t};\r\n\tconst updateBio = (event, nv) => {\r\n\t\tlet val = (nv || event.target.value);\r\n\t\tif (val.length > 256) {\r\n\t\t\tenqueueSnackbar(`Your Bio is at the 250 char. limit!`);\r\n\t\t\tval = val.substring(0, 256);\r\n\t\t}\r\n\t\tsetBio(val);\r\n\t};\r\n\tconst updatePfp = (event, nv) => {\r\n\t\tconst FR = new FileReader();\r\n\t\tFR.onloadend = async (e) => {\r\n\t\t\tenqueueSnackbar(`Setting New Profile Picture...`);\r\n\t\t\tlet allTypes=[\"data:image/gif;base64,\",\"data:image/png;base64,\",\"data:image/jpeg;base64,\"]\r\n\t\t\tif (!allTypes.includes(e.target.result.substring(0,e.target.result.indexOf(\",\") + 1))) return enqueueSnackbar(\"Could not set profile picture! GIFs(Premium), JP(E)Gs and PNGs only please!\",{\r\n\t\t\t\tvariant: \"error\",\r\n\t\t\t})\r\n\t\t\tconsole.log(\r\n\t\t\t\te.target.result.substring(0, 25),\r\n\t\t\t\te.target.result.substring(e.target.result.indexOf(\",\") + 1)\r\n\t\t\t);\r\n\t\t\tawait axios.post(`${hwbountyAPI}/changePfp`, {\r\n\t\t\t\tbase64: e.target.result.substring(e.target.result.indexOf(\",\") + 1),\r\n\t\t\t});\r\n\t\t\tsetPfp(e.target.result || event.target.value);\r\n\t\t\tenqueueSnackbar(`Set new profile picture!`);\r\n\t\t};\r\n\t\tFR.readAsDataURL(document.getElementById(\"pfpFileInput\").files[0]);\r\n\t};\r\n\tif (userData) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<input type=\"file\" onChange={updatePfp} id=\"pfpFileInput\" style={{\r\n\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t}} />\r\n\t\t\t\t<Card className={`${classes.card} ${classes.mainInfoCard}`}>\r\n\t\t\t\t\t<div className={classes.mainInfoEverything}>\r\n\r\n\r\n\t\t\t\t\t\t<img src={pfp || \"https://github.com/HWBounty/hwbounty-home/blob/gh-pages/logo512.png?raw=true\"} className={`${classes.profileDiv} ${JSON.parse(localStorage.getItem(\"user\"))?.privateID ===\r\n\t\t\t\t\t\t\tuserData.privateID && classes.hoverBlur}`}\r\n\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\tJSON.parse(localStorage.getItem(\"user\"))?.privateID ===\r\n\t\t\t\t\t\t\t\tuserData.privateID && onClickPfp\r\n\t\t\t\t\t\t\t} ></img>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={classes.name}>{userData.firstName} {userData.lastName}</Typography>\r\n\t\t\t\t\t{!editingBio ? (<Typography variant=\"h5\" onClick={handleEditBio} className={classes.bio} style={{\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\tminWidth: \"80%\",\r\n\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\tbackground: \"rgba(0,0,0,0)\",\r\n\t\t\t\t\t\theight: \"30vh\",\r\n\t\t\t\t\t\tmaxHeight: \"30vh\",\r\n\t\t\t\t\t\tminHeight: \"30vh\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{!editingBio ? bio : \"\"}\r\n\t\t\t\t\t</Typography >)\r\n\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tid=\"bioTextField\"\r\n\t\t\t\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\t\t\t\tonBlur={stopEditingBio}\r\n\t\t\t\t\t\t\t\tonChange={updateBio}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\tminWidth: \"80%\",\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tbackground: \"rgba(0,0,0,0.25)\",\r\n\t\t\t\t\t\t\t\t\theight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tmaxHeight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tminHeight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tborderRadius: \"2vw\",\r\n\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\t\t\t\t\tpadding: \"2vh\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={`${classes.bio} ${classes.DMtext}`}\r\n\t\t\t\t\t\t\t\tvalue={bio}\r\n\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t</textarea>\r\n\t\t\t\t\t\t\t// <TextField\r\n\t\t\t\t\t\t\t// \tid=\"bioTextField\"\r\n\t\t\t\t\t\t\t// \tlabel=\"\"\r\n\t\t\t\t\t\t\t// \tmultiline\r\n\t\t\t\t\t\t\t// \trows={8}\r\n\t\t\t\t\t\t\t// \trowsMax={8}\r\n\t\t\t\t\t\t\t// \tvalue={bio}\r\n\t\t\t\t\t\t\t// \tonBlur={stopEditingBio}\r\n\t\t\t\t\t\t\t// \tonChange={updateBio}\r\n\t\t\t\t\t\t\t// \tstyle={{\r\n\t\t\t\t\t\t\t// \t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t// \t\ttextAlign:\"center\",\r\n\t\t\t\t\t\t\t// \t}}\r\n\t\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</Card><Card className={`${classes.card} ${classes.nameandPasswordCard}`}>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoLabel}`}>Username: </Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoText}`}>@{userData.publicID}</Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoLabel}`}>Tags: </Typography>\r\n\t\t\t\t\t<div className={`${classes.text} ${classes.infoText}`}> {renderChips(userData.tags)}</div>\r\n\t\t\t\t</Card><Card className={`${classes.card} ${classes.balanceCard}`}>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoText} ${classes.balanceText}`}>Balance: {userData.bal} <img src=\"https://i.ibb.co/Twp60L0/frog.png\" height={window.innerHeight / 25} width={window.innerHeight / 25} style={{ verticalAlign: \"middle\", marginTop: window.innerHeight / -100 }} /></Typography>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t// throw \"not ready!\";\r\n\treturn null;\r\n}\r\nexport default connect((state) => ({ UI: state.UI }))(\r\n\twithStyles(styles)(Profile)\r\n);\r\n"],"sourceRoot":""}