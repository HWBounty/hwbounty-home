{"version":3,"sources":["pages/viewSchedule.js"],"names":["Schedule","props","state","scheduleData","fetching","tab","a","this","location","id","pathname","split","pop","query","search","axios","get","catch","console","trace","res","data","nameOverrides","JSON","parse","replace","schedule","setState","event","newValue","self","style","width","maxWidth","margin","display","verticalAlign","align","value","indicatorColor","textColor","onChange","handleTabChange","variant","scrollButtons","label","DisplayedScheduleDay","day","paddingBottom","paddingLeft","paddingRight","textAlign","name","height","marginRight","src","user","pfp","publicID","marginLeft","moment","parseInt","lastUpdated","fromNow","description","paddingTop","borderTop","onClick","history","push","disabled","localStorage","getItem","schoologyKey","fetchScheduleData","Component","classes","dayschedule","map","x","Object","assign","period","marginBottom","children","React","Children","toArray","timeStart","timeEnd","length","renderPeriods","connect","withRouter"],"mappings":"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","file":"static/js/18.afdf1324.chunk.js","sourcesContent":["import {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Grid,\r\n  InputBase,\r\n  List,\r\n  MuiThemeProvider,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Schedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scheduleData: null,\r\n      fetching: false,\r\n      tab: 0,\r\n    };\r\n  }\r\n  async fetchScheduleData() {\r\n    if (this.state.scheduleData) return;\r\n\tconst location = this.props.location;\r\n\tlet id = location.pathname.split(\"/\").pop() || location?.state?.query ||  location.search.split(\"?id=\").pop();\r\n    let res = await axios.get(\r\n      `https://api.hwbounty.help/schedules/view/${id}`\r\n    ).catch(console.trace);\r\n    if (res.data) {\r\n      res.data.nameOverrides = JSON.parse(\r\n        res.data.nameOverrides.replace(/\\\\\"/g, '\"')\r\n      );\r\n      res.data.schedule = JSON.parse(res.data.schedule);\r\n      this.setState({ scheduleData: res.data });\r\n    }\r\n  }\r\n  componentDidMount(props) {\r\n    this.props = props;\r\n  }\r\n  handleTabChange(event, newValue, self) {\r\n    self.setState({ tab: newValue });\r\n  }\r\n  render() {\r\n    if (!this.state.scheduleData && !this.state.fetching) {\r\n      this.setState({ fetching: true });\r\n      this.fetchScheduleData();\r\n      return <br />;\r\n    }\r\n    if (this.state.scheduleData) {\r\n      return (\r\n        <Container>\r\n          <Paper\r\n            style={{\r\n              width: \"40%\",\r\n              maxWidth: \"40%\",\r\n              margin: \"5%\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n            align=\"left\"\r\n          >\r\n            <Tabs\r\n              value={this.state.tab}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              onChange={(event, value) => {\r\n                this.handleTabChange(event, value, this);\r\n              }}\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n            >\r\n              <Tab label=\"Mon\" />\r\n              <Tab label=\"Tue\" />\r\n              <Tab label=\"Wed\" />\r\n              <Tab label=\"Thu\" />\r\n              <Tab label=\"Fri\" />\r\n              <Tab label=\"Sat\" />\r\n              <Tab label=\"Sun\" />\r\n            </Tabs>\r\n            <List>\r\n              {this.state.tab === 0 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 1 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 2 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 3 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 4 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 5 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 6 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n            </List>\r\n          </Paper>\r\n          <Card\r\n            style={{\r\n              display: \"inline-block\",\r\n              width: \"40%\",\r\n              margin: \"5%\",\r\n              paddingBottom: \"1vh\",\r\n              paddingLeft: \"5%\",\r\n              paddingRight: \"5%\",\r\n              textAlign: \"left\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"h4\"\r\n              style={{\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {this.state.scheduleData.name}\r\n            </Typography>\r\n            <Container\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"10%\",\r\n              }}\r\n            >\r\n              <span>\r\n                <Typography\r\n                  variant=\"caption\"\r\n                  style={{\r\n                    textAlign: \"left\",\r\n                    marginRight: \"3%\",\r\n                  }}\r\n                >\r\n                  By:\r\n                </Typography>\r\n                <Avatar\r\n                  src={this.state.scheduleData.user.pfp}\r\n                  align=\"left\"\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"middle\",\r\n                  }}\r\n                >\r\n                  {this.state.scheduleData.user.publicID}\r\n                </Avatar>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  style={{\r\n                    verticalAlign: \"middle\",\r\n                    marginLeft: \"3%\",\r\n                    display: \"inline-block\",\r\n                  }}\r\n                >\r\n                  {this.state.scheduleData.user.publicID}\r\n                </Typography>\r\n              </span>\r\n            </Container>\r\n            <Typography>\r\n              Last Updated:{\" \"}\r\n              {moment(parseInt(this.state.scheduleData.lastUpdated)).fromNow()}\r\n            </Typography>\r\n            <ReactMarkdown>{this.state.scheduleData.description}</ReactMarkdown>\r\n\r\n            <Container\r\n              style={{\r\n                paddingTop: \"1vh\",\r\n                borderTop: \"2px solid rgba(160, 160, 160, 0.2)\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              <Button onClick={\r\n\t\t\t\t  ()=> this.props.history.push(`/schedule/set/${this.props.location.pathname.split(\"/\").pop()}`)\r\n\t\t\t  } disabled={!JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey}>{JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey ?\"Use this Schedule\": \"Link School Account First\"}</Button>\r\n            </Container>\r\n          </Card>\r\n        </Container>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n}\r\nconst DisplayedScheduleDay = (props) => {\r\n  const classes = props.classes;\r\n  const data = props.data;\r\n  const day = props.day;\r\n  let overrides = data.nameOverrides;\r\n  let dayschedule = data.schedule[\r\n    [\r\n      \"monday\",\r\n      \"tuesday\",\r\n      \"wednesday\",\r\n      \"thursday\",\r\n      \"friday\",\r\n      \"saturday\",\r\n      \"sunday\",\r\n    ][day]\r\n  ].map((x) => {\r\n    return Object.assign(x, {\r\n      period: data.nameOverrides[x.period] || x.period,\r\n    });\r\n  });\r\n  const renderPeriods = () => {\r\n    let children = React.Children.toArray(\r\n      dayschedule.map((x) => {\r\n        return (\r\n          <Container>\r\n            <Typography variant=\"h4\">{x.period}</Typography>\r\n            <Typography variant=\"h6\">{x.timeStart}</Typography>\r\n            <Typography variant=\"h6\">{x.timeEnd}</Typography>\r\n          </Container>\r\n        );\r\n      })\r\n    );\r\n    if (!children.length)\r\n      return <Typography variant=\"h3\">No School Today!</Typography>;\r\n    return children;\r\n  };\r\n  return (\r\n    <Container\r\n      style={{\r\n        marginBottom: \"5%\",\r\n      }}\r\n    >\r\n      {renderPeriods()}\r\n    </Container>\r\n  );\r\n};\r\nexport default connect()(withRouter(Schedule));\r\n"],"sourceRoot":""}