{"version":3,"sources":["redux/actions/moduleActions.js","components/Modules/Calculator/History.js","util/latex/preprocessMathQuill.js","components/Modules/Calculator/CalcTools.js","components/Modules/Calculator/Calculator.js","components/Modules/Calculator/VariableField.js","components/Modules/Calculator/CalcVariables.js","components/Modules/Calculator/CalculatorModule.js","components/Modules/Calculator/MathScope.js","components/Modules/EssayEditor/EssayEditor.js","components/Modules/GasLaws.js","pages/modules.js"],"names":["calc_setInput","latex","dispatch","type","CALC_SET_INPUT","payload","calc_addVariable","variable","CALC_ADD_VARIABLE","calc_removeVariable","CALC_REMOVE_VARIABLE","useStyles","makeStyles","theme","root","flex","overflow","connect","state","module","props","history","calculator","classes","HistoryButton","ans","ListItem","button","onClick","style","cursor","Typography","className","length","List","React","Children","toArray","map","x","Divider","mathquillToMathJS","fromMQ","noBraceSub","convertSubscript","fracToDivision","tex","mathjs","reduce","acc","r","str","find","replaceWith","replace","RegExp","escapeRegExp","expr","subStart","indexOf","numStart","closingBrace","slice","frac","fracStart","divIdx","startIdx","braces","openingBrace","undefined","Error","stack","j","findClosingBrace","numPadRoot","symbolPadRoot","SymbolButton","symbol","Button","variant","NumPad","UI","NumRow","arr","Grid","container","item","spacing","wrap","num","disabled","direction","SymbolPad","obj","addStyles","spreadIt","paper","height","rootPadding","flexDirection","display","symbolPadGrid","paddingTop","LatexInput","onChange","onSubmit","mathquillDidMount","fontSize","config","autoCommands","autoOperatorNames","handlers","enter","calc_addHistory","CALC_PUSH_HISTORY","input","scope","useState","answer","setAnswer","error","setError","mathField","useRef","Paper","InputBase","inputComponent","inputProps","val","math","compile","evaluate","precision","current","err","console","log","value","fullWidth","xs","write","focus","cmd","color","startName","startVal","updateList","dragHandleProps","nameDisabled","setNameDisabled","name","setName","nameInputRef","valueDisabled","setValueDisabled","setValue","valueInputRef","useEffect","select","handleSubmitName","event","preventDefault","handleSubmitValue","parsedValue","parseInt","set","alignItems","paddingLeft","TextField","size","inputRef","target","onBlur","textAlign","paddingRight","placeholder","delete","withStyles","variableWrapper","deleteButton","width","addButton","useless","badCode","forceUpdate","onDragEnd","result","destination","source","index","reinsert","droppableId","provided","snapshot","ref","innerRef","droppableProps","localScope","Array","from","entries","key","draggableId","draggableProps","Toolbar","disableGutters","Tooltip","title","placement","letters","split","tmp","filter","c","has","varName","deleteAll","this","Map","get","probUseless","toJSON","keys","i","k","prev","clear","localStorage","removeItem","start","end","splice","removed","getItem","JSON","parse","setItem","stringify","fromJSON","calc_setParser","parser","CALC_SET_PARSER","margin","Box","justifyContent","alignContent","p","setP","v","setV","n","setN","t","setT","expanded","solveFor","setSolveFor","handleTextChange","nv","Card","Container","id","label","defaultValue","ev","handle","FormControl","InputLabel","Select","labelId","newValue","MenuItem","Collapse","in","marginLeft","marginRight","marginTop","minHeight","useParams"],"mappings":"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","file":"static/js/20.1b7ec959.chunk.js","sourcesContent":["import {\n  CALC_PUSH_HISTORY,\n  CALC_SET_INPUT,\n  CALC_ADD_VARIABLE,\n  CALC_REMOVE_VARIABLE,\n  CALC_SET_PARSER,\n} from \"../types\";\n\nexport const calc_setParser = (parser) => (dispatch) => {\n  dispatch({ type: CALC_SET_PARSER, payload: parser });\n};\n\nexport const calc_addHistory = (latex) => (dispatch) => {\n  dispatch({ type: CALC_PUSH_HISTORY, payload: latex });\n  //dispatch({ type: CALC_POP_HISTORY });\n};\n\nexport const calc_setInput = (latex) => (dispatch) => {\n  dispatch({ type: CALC_SET_INPUT, payload: latex });\n};\nexport const calc_addVariable = (variable) => (dispatch) => {\n  dispatch({ type: CALC_ADD_VARIABLE, payload: variable });\n};\nexport const calc_removeVariable = (variable) => (dispatch) => {\n  dispatch({ type: CALC_REMOVE_VARIABLE, payload: variable });\n};\n","// React\nimport React, { useState } from \"react\";\n\n// MUI\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { calc_setInput } from \"../../../redux/actions/moduleActions\";\n\n// Math\nimport { StaticMathField } from \"react-mathquill\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n}));\n\nexport const History = (props) => {\n  const {\n    module: {\n      calculator: { history },\n    },\n    calc_setInput,\n  } = props;\n\n  const classes = useStyles();\n\n  const HistoryButton = (props) => {\n    const { latex, ans } = props;\n    return (\n      <ListItem button onClick={() => calc_setInput(latex)}>\n        <StaticMathField style={{ flex: 1, cursor: \"pointer\" }}>\n          {latex}\n        </StaticMathField>\n        <Typography>= {ans}</Typography>\n      </ListItem>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      {history.length !== 0 ? (\n        <List>\n          {React.Children.toArray(\n            history.map((x) => (\n              <>\n                <Divider />\n                <HistoryButton latex={x.latex} ans={x.ans} />\n              </>\n            ))\n          )}\n        </List>\n      ) : (\n        <h1>\n          Type an equation to show history...\n          <br /> [insert cool image/space filler here]\n        </h1>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  module: state.module,\n});\n\nexport default connect(mapStateToProps, { calc_setInput })(History);\n","/**\n * Thank you ChristopherChudzicki for this code! (copy-paste)\n *\n * Makes a series of replacements on MathQuill-generated LaTeX strings so that\n * they can be parsed by MathJS.\n *\n * Notes:\n *  1. This is pretty heuristic. Might discover updates needed.\n *  2. Much of this could be used to preprocess LaTeX generated by other means\n * (i.e., not MathQuill.) The main bit that is MathQuill-specific is probably\n * the operatorname replacements.\n *\n * @param  {string} fromMQ a MathQuill-generated LaTeX expression\n * @return {string} the input expression with LaTeX commands converted to mathjs\n */\nexport default function mathquillToMathJS(fromMQ) {\n  const replacements = [\n    { tex: \"\\\\operatorname{diff}\", mathjs: \"diff\" },\n    { tex: \"\\\\operatorname{pdiff}\", mathjs: \"pdiff\" },\n    { tex: \"\\\\operatorname{curl}\", mathjs: \"curl\" },\n    { tex: \"\\\\operatorname{div}\", mathjs: \"div\" },\n    { tex: \"\\\\operatorname{norm}\", mathjs: \"norm\" },\n    { tex: \"\\\\operatorname{mod}\", mathjs: \"mod\" },\n    { tex: \"\\\\operatorname{abs}\", mathjs: \"abs\" },\n    { tex: \"\\\\operatorname{unitT}\", mathjs: \"unitT\" },\n    { tex: \"\\\\operatorname{unitN}\", mathjs: \"unitN\" },\n    { tex: \"\\\\operatorname{unitB}\", mathjs: \"unitB\" },\n    { tex: \"\\\\operatorname{arccosh}\", mathjs: \"arccosh\" },\n    { tex: \"\\\\operatorname{arcsinh}\", mathjs: \"arcsinh\" },\n    { tex: \"\\\\operatorname{arctanh}\", mathjs: \"arctanh\" },\n    { tex: \"\\\\cdot\", mathjs: \" * \" },\n    { tex: \"\\\\left\", mathjs: \"\" },\n    { tex: \"\\\\right\", mathjs: \"\" },\n    { tex: \"{\", mathjs: \"(\" },\n    { tex: \"}\", mathjs: \")\" },\n    { tex: \"~\", mathjs: \" \" },\n    { tex: \"\\\\\", mathjs: \" \" },\n  ];\n\n  // remove fractions, then apply replacements\n  const noFrac = fracToDivision(fromMQ);\n  const noBraceSub = convertSubscript(noFrac);\n  return replacements.reduce(\n    (acc, r) => replaceAll(acc, r[\"tex\"], r[\"mathjs\"]),\n    noBraceSub\n  );\n}\n\n/**\n * Recursively removes braces from LaTeX subscripts\n *   - example: x_{12foo_{bar123_{evenlower}}} --> x_12foo_bar123_evenlower\n */\nexport function convertSubscript(expr) {\n  const sub = \"_{\";\n  const subStart = expr.indexOf(sub);\n\n  if (subStart < 0) {\n    return expr;\n  }\n\n  const numStart = subStart + sub.length;\n  const closingBrace = expr.indexOf(\"}\", numStart);\n  const newExpr =\n    expr.slice(0, subStart) +\n    \"_\" +\n    expr.slice(numStart, closingBrace) +\n    expr.slice(closingBrace + 1);\n\n  return convertSubscript(newExpr);\n}\n\n/**\n * Recursively replaces LaTeX fractions with normal divison\n *   - example: \\frac{a}{1 + \\frac{b}{c}} --> {a}/{1 + {b}/{c}}\n */\nexport function fracToDivision(expr) {\n  const frac = \"\\\\frac\";\n  const fracStart = expr.indexOf(frac);\n  const numStart = fracStart + frac.length;\n\n  if (fracStart < 0) {\n    return expr;\n  }\n\n  const divIdx = findClosingBrace(expr, numStart);\n  // Remove frac, and add \"/\"\n  const newExpr =\n    expr.slice(0, fracStart) +\n    expr.slice(numStart, divIdx + 1) +\n    \"/\" +\n    expr.slice(divIdx + 1);\n\n  return fracToDivision(newExpr);\n}\n\nexport function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function escapeRegExp(str) {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\n  // $& means the whole matched string\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nexport function replaceAll(str, find, replaceWith) {\n  // from https://stackoverflow.com/a/1144788/2747370\n  return str.replace(new RegExp(escapeRegExp(find), \"g\"), replaceWith);\n}\n\nexport function findClosingBrace(str, startIdx) {\n  const braces = {\n    \"[\": \"]\",\n    \"<\": \">\",\n    \"(\": \")\",\n    \"{\": \"}\",\n  };\n\n  const openingBrace = str[startIdx];\n\n  const closingBrace = braces[openingBrace];\n\n  if (closingBrace === undefined) {\n    throw Error(\n      `${str} does not contain an opening brace at position ${startIdx}.`\n    );\n  }\n\n  let stack = 1;\n\n  // eslint-disable-next-line no-plusplus\n  for (let j = startIdx + 1; j < str.length; j++) {\n    if (str[j] === openingBrace) {\n      stack += +1;\n    } else if (str[j] === closingBrace) {\n      stack += -1;\n    }\n    if (stack === 0) {\n      return j;\n    }\n  }\n\n  // stack !== 0\n  throw Error(\n    `${str} has a brace that opens at position ${startIdx} but does not close.`\n  );\n}\n","// React\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { connect } from \"react-redux\";\n\nconst useStyles = makeStyles({\n  numPadRoot: {},\n  symbolPadRoot: {},\n  button: {\n    //backgroundColor: (props) =>\n    //props.UI.theme === 1 ? \"rgb(63,63,63)\" : \"rgb(243,243,243)\",\n    //flex: 1,\n  },\n});\n\nconst SymbolButton = (props) => {\n  const { onClick, latex, symbol } = props;\n  const classes = useStyles(props);\n  return (\n    <Button\n      className={classes.button}\n      variant=\"contained\"\n      onClick={() => onClick(latex)}\n    >\n      {symbol}\n    </Button>\n  );\n};\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n});\nexport const NumPad = connect(mapStateToProps)((props) => {\n  const classes = useStyles(props);\n  const {\n    onClick,\n    UI: { theme },\n  } = props;\n\n  const NumRow = ({ arr }) => {\n    return (\n      <Grid container item spacing={1} wrap=\"nowrap\">\n        {React.Children.toArray(\n          arr.map((num) => (\n            <Grid item>\n              {num !== null ? (\n                <SymbolButton onClick={onClick} latex={num} symbol={num} />\n              ) : (\n                <Button\n                  className={classes.button}\n                  variant=\"contained\"\n                  disabled\n                />\n              )}\n            </Grid>\n          ))\n        )}\n      </Grid>\n    );\n  };\n  return (\n    <Grid container spacing={1} wrap=\"nowrap\" direction=\"column\">\n      <NumRow arr={[1, 2, 3]} />\n      <NumRow arr={[4, 5, 6]} />\n      <NumRow arr={[7, 8, 9]} />\n      <NumRow arr={[null, 0, \".\"]} />\n    </Grid>\n  );\n});\n\nexport const SymbolPad = (props) => {\n  const { onClick } = props;\n  const symbols = [\n    { symbol: \"+\", latex: \"+\" },\n    { symbol: \"-\", latex: \"-\" },\n    { symbol: \"*\", latex: \"cdot\" },\n    { symbol: \"/\", latex: \"frac\" },\n    { symbol: \"√\", latex: \"sqrt\" },\n    { symbol: \"^\", latex: \"^\" },\n  ];\n\n  return (\n    <div>\n      <Grid container spacing={1}>\n        <Grid container item spacing={1}>\n          {React.Children.toArray(\n            symbols.map((obj) => {\n              return (\n                <Grid item>\n                  <SymbolButton\n                    onClick={onClick}\n                    latex={obj.latex}\n                    symbol={obj.symbol}\n                  />\n                </Grid>\n              );\n            })\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nNumPad.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nSymbolPad.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport {\n  calc_addHistory,\n  calc_setInput,\n} from \"../../../redux/actions/moduleActions\";\n\n// Components\nimport History from \"./History\";\n\n// Math related\nimport mathquillToMathJS from \"../../../util/latex/preprocessMathQuill\";\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\nimport { NumPad, SymbolPad } from \"./CalcTools\";\nimport * as math from \"mathjs\";\n\n// required for latex to format correctly\naddStyles();\n\nconst useStyles = makeStyles((theme) => ({\n  ...theme.spreadIt,\n  paper: {\n    ...theme.spreadIt.paper,\n    height: \"80vh\",\n  },\n  rootPadding: {\n    ...theme.spreadIt.rootPadding,\n    flexDirection: \"column\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n  symbolPadGrid: {\n    paddingTop: 15,\n  },\n}));\n\nconst LatexInput = (props) => {\n  const { onChange, onSubmit, mathquillDidMount } = props;\n\n  return (\n    <EditableMathField\n      latex=\"\"\n      style={{ height: \"auto\", fontSize: 50, flex: 1 }}\n      config={{\n        autoCommands: \"pi theta sqrt sum\",\n        autoOperatorNames:\n          \"sin cos tan feet ft inches in miles cm sech arcsec arsinh to rad deg radians degrees\",\n        handlers: {\n          enter: onSubmit,\n        },\n      }}\n      onChange={onChange}\n      mathquillDidMount={mathquillDidMount}\n    />\n  );\n};\n\nexport const Calculator = (props) => {\n  const {\n    module: {\n      calculator: { input },\n    },\n    calc_addHistory,\n    calc_setInput,\n    scope,\n  } = props;\n\n  const classes = useStyles();\n\n  const [answer, setAnswer] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const mathField = useRef(null);\n\n  const handleSubmit = (val) => {\n    try {\n      const node = math.parse(mathquillToMathJS(val.latex()));\n      const compiled = node.compile();\n      let ans = compiled.evaluate(scope);\n      ans = math.format(ans, { precision: 14 });\n\n      setAnswer(`${ans}`);\n      setError(false);\n      calc_addHistory({ latex: val.latex(), ans: `${ans}` });\n      mathField.current.latex(\"\");\n    } catch (err) {\n      console.log(err);\n      setAnswer(\"ERROR!!!!\");\n      setError(true);\n    }\n  };\n\n  const handleMathquillMount = (val) => {\n    mathField.current = val;\n  };\n\n  const handleNumberPressed = (num) => {\n    mathField.current.write(num);\n    mathField.current.focus();\n  };\n\n  const handleSymbolPressed = (symbol) => {\n    mathField.current.cmd(symbol);\n    mathField.current.focus();\n  };\n\n  return (\n    <Paper className={classes.paper}>\n      <div className={classes.rootPadding}>\n        <History />\n        <InputBase\n          inputComponent={LatexInput}\n          inputProps={{\n            onSubmit: handleSubmit,\n            //onChange: handleChange,\n            mathquillDidMount: handleMathquillMount,\n          }}\n          /*className={classes.input}*/\n          value=\"\"\n          fullWidth\n        />\n        <Grid container spacing={2} className={classes.symbolPadGrid}>\n          <Grid item xs>\n            <NumPad onClick={handleNumberPressed} />\n          </Grid>\n          <Grid item xs>\n            <SymbolPad onClick={handleSymbolPressed} />\n          </Grid>\n        </Grid>\n        <Typography color={error ? \"error\" : \"initial\"}>{answer}</Typography>\n      </div>\n    </Paper>\n  );\n};\n\nCalculator.propTypes = {\n  scope: PropTypes.any.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  module: state.module,\n});\n\nexport default connect(mapStateToProps, { calc_addHistory, calc_setInput })(\n  Calculator\n);\n","// React\nimport { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport DragIcon from \"@material-ui/icons/DragIndicator\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport {\n  calc_addVariable,\n  calc_removeVariable,\n} from \"../../../redux/actions/moduleActions\";\n\nconst VariableField = (props) => {\n  const { startName, startVal, scope, updateList, dragHandleProps } = props;\n\n  const [nameDisabled, setNameDisabled] = useState(true);\n  const [name, setName] = useState(startName);\n  const nameInputRef = useRef(null);\n\n  const [valueDisabled, setValueDisabled] = useState(true);\n  const [value, setValue] = useState(startVal);\n  const valueInputRef = useRef(null);\n\n  useEffect(() => {\n    if (nameDisabled) return;\n    nameInputRef.current.focus();\n    nameInputRef.current.select();\n  }, [nameDisabled]);\n\n  useEffect(() => {\n    if (valueDisabled) return;\n    valueInputRef.current.focus();\n    valueInputRef.current.select();\n  }, [valueDisabled]);\n\n  useEffect(() => {\n    setName(startName);\n  }, [startName]);\n\n  const handleNameClicked = () => {\n    setNameDisabled(false);\n  };\n\n  const handleValueClicked = () => {\n    setValueDisabled(false);\n  };\n\n  const handleVariableChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleNameChange = (event) => {\n    setName(event.target.value);\n  };\n\n  const handleSubmitName = (event) => {\n    event.preventDefault();\n    setValueDisabled(true);\n    setNameDisabled(true);\n    try {\n      scope.replace(startName, name);\n      updateList();\n    } catch (err) {\n      console.log(err);\n      setName(startName);\n    }\n  };\n\n  const handleSubmitValue = (event) => {\n    event.preventDefault();\n    setValueDisabled(true);\n    setNameDisabled(true);\n\n    try {\n      const parsedValue = parseInt(value);\n      scope.set(name, parsedValue);\n      updateList();\n    } catch (err) {\n      console.log(err);\n      setValue(startVal);\n    }\n  };\n\n  const handleRemoveVariable = () => {\n    scope.delete(startName);\n    updateList();\n  };\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      <div\n        {...dragHandleProps}\n        style={{ display: \"flex\", alignItems: \"center\", paddingLeft: 10 }}\n      >\n        <DragIcon />\n      </div>\n      <Button onClick={handleNameClicked}>\n        <form onSubmit={handleSubmitName}>\n          <TextField\n            variant=\"outlined\"\n            size=\"small\"\n            style={{ paddingLeft: 10 }}\n            inputProps={{\n              style: { cursor: nameDisabled ? \"pointer\" : \"auto\" },\n            }}\n            disabled={nameDisabled}\n            value={name}\n            inputRef={nameInputRef}\n            onChange={handleNameChange}\n            onBlur={handleSubmitName}\n          />\n        </form>\n      </Button>\n      <Button\n        onClick={handleValueClicked}\n        fullWidth\n        style={{ display: \"flex\" }}\n      >\n        <Typography\n          variant=\"body1\"\n          style={{ flex: 1, textAlign: \"left\", paddingRight: 10 }}\n        >\n          =\n        </Typography>\n        <form onSubmit={handleSubmitValue}>\n          <TextField\n            variant=\"outlined\"\n            size=\"small\"\n            style={{ paddingRight: 10 }}\n            inputProps={{\n              style: { cursor: valueDisabled ? \"pointer\" : \"auto\" },\n            }}\n            disabled={valueDisabled}\n            placeholder={`${value}`}\n            value={value}\n            inputRef={valueInputRef}\n            onChange={handleVariableChange}\n            onBlur={handleSubmitValue}\n          />\n        </form>\n      </Button>\n      <Button onClick={handleRemoveVariable}>\n        <DeleteIcon />\n      </Button>\n    </div>\n  );\n};\n\nVariableField.propTypes = {\n  scope: PropTypes.any.isRequired,\n  updateList: PropTypes.func.isRequired,\n  startName: PropTypes.string.isRequired,\n  startVal: PropTypes.number.isRequired,\n  dragHandleProps: PropTypes.any.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  module: state.module,\n});\n\nexport default connect(mapStateToProps, {\n  calc_addVariable,\n  calc_removeVariable,\n})(VariableField);\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Drag-n-Drop\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport {\n  calc_addVariable,\n  calc_removeVariable,\n} from \"../../../redux/actions/moduleActions\";\n\n// Calculator\nimport VariableField from \"./VariableField\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n  paper: {\n    ...theme.spreadIt.paper,\n    height: \"80vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  variableWrapper: {\n    flex: 1,\n    overflow: \"auto\",\n    paddingTop: 25,\n  },\n  deleteButton: {\n    //margin: \"auto\",\n    height: \"100%\",\n    width: \"100%\",\n  },\n  addButton: {\n    //margin: \"auto\",\n    height: \"100%\",\n    width: \"100%\",\n  },\n});\n\nexport const CalcVariables = (props) => {\n  const { classes, scope } = props;\n\n  const [useless, badCode] = useState(0);\n\n  const addVariable = () => {\n    // map over \"common name variables\" (abc...)\n    // remove from array based on the variables we already have\n    // we can make this over again cuz i'm lazy...\n    // also not competitive programming soooo....\n    // although O(n) space vs O(n) time so idk...\n    let letters = \"abcdefghijklmnopqrstuvwxyz\".split(\"\");\n    let x = 1; // increase every loop, we append this to end of each letter until it works...\n    let tmp = letters.filter((c) => {\n      return !scope.has(c);\n    });\n\n    while (tmp.length === 0) {\n      //eslint-disable-next-line\n      tmp = letters.map((c) => c + `${x}`);\n      tmp = tmp.filter((c) => {\n        return !scope.has(c);\n      });\n\n      x++;\n    }\n\n    const varName = tmp[0];\n    scope.set(varName, 1);\n    forceUpdate();\n  };\n\n  const clearVariables = () => {\n    scope.deleteAll();\n    forceUpdate();\n  };\n\n  const onDragEnd = (result) => {\n    if (!result.destination) return;\n\n    console.log(result.source.index, result.destination.index);\n    scope.reinsert(result.source.index, result.destination.index);\n    ///forceUpdate();\n  };\n\n  const forceUpdate = () => {\n    badCode(useless + 1);\n  };\n\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Paper className={classes.paper}>\n        <Droppable droppableId={\"calc-droppable\"}>\n          {(provided, snapshot) => (\n            <div\n              className={classes.variableWrapper}\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n            >\n              {scope.localScope.size !== 0 ? (\n                Array.from(scope.localScope.entries()).map(([key, val]) => (\n                  <Draggable\n                    index={scope.indexOf(key)}\n                    draggableId={key}\n                    key={key}\n                  >\n                    {(provided, snapshot) => (\n                      <div ref={provided.innerRef} {...provided.draggableProps}>\n                        <VariableField\n                          scope={scope}\n                          startName={key}\n                          startVal={val}\n                          updateList={forceUpdate}\n                          dragHandleProps={provided.dragHandleProps}\n                        />\n                      </div>\n                    )}\n                  </Draggable>\n                ))\n              ) : (\n                <h1>\n                  Type variables in text box (e.g. x=5) or press the button\n                  below\n                </h1>\n              )}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n        <Toolbar disableGutters>\n          <Tooltip title=\"Add Variable\" placement=\"top\">\n            <Button className={classes.addButton} onClick={addVariable}>\n              <AddIcon />\n            </Button>\n          </Tooltip>\n          <Tooltip title=\"Clear All\" placement=\"top\">\n            <Button className={classes.deleteButton} onClick={clearVariables}>\n              <DeleteIcon color=\"error\" />\n            </Button>\n          </Tooltip>\n        </Toolbar>\n      </Paper>\n    </DragDropContext>\n  );\n};\n\nCalcVariables.propTypes = {\n  scope: PropTypes.any.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  module: state.module,\n});\n\nexport default connect(mapStateToProps, {\n  calc_addVariable,\n  calc_removeVariable,\n})(withStyles(styles)(CalcVariables));\n","// React\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// MUI\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { calc_setParser } from \"../../../redux/actions/moduleActions\";\n\n// Components\nimport Calculator from \"./Calculator\";\nimport CalcVariables from \"./CalcVariables\";\n\n// Math\nimport MathScope from \"./MathScope\";\n\nconst scope = new MathScope();\nscope.fromJSON();\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n  root: {\n    margin: \"auto\",\n  },\n});\n\nexport const CalculatorModule = (props) => {\n  const { classes, calc_setParser } = props;\n\n  return (\n    <Grid container spacing={2} className={classes.root}>\n      <Grid item xs={8}>\n        <Paper className={classes.paper}>\n          <Calculator scope={scope} />\n        </Paper>\n      </Grid>\n      <Grid item xs={4}>\n        <CalcVariables scope={scope} />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default connect(null, { calc_setParser })(\n  withStyles(styles)(CalculatorModule)\n);\n","// This is a minimal set of functions to look like a Map.\nclass MathScope {\n  constructor() {\n    this.localScope = new Map();\n  }\n\n  get(key) {\n    return this.localScope.get(key);\n  }\n\n  set(key, value) {\n    const probUseless = this.localScope.set(key, value);\n    this.toJSON();\n    return probUseless;\n  }\n\n  has(key) {\n    return this.localScope.has(key);\n  }\n\n  keys() {\n    return this.localScope.keys();\n  }\n\n  indexOf(key) {\n    let i = 0;\n    for (const [k, v] of this.localScope) {\n      if (k === key) break;\n      i++;\n    }\n    return i;\n  }\n\n  delete(key) {\n    const probUseless = this.localScope.delete(key);\n    this.toJSON();\n    console.log(this.localScope);\n    return probUseless;\n  }\n\n  replace(prev, name) {\n    let index = 0,\n      val;\n    for (const [key, value] of this.localScope) {\n      if (key === prev) break;\n      index++;\n      console.log(key, value);\n    }\n\n    val = this.get(prev);\n    this.delete(prev);\n    this.set(name, val);\n    this.reinsert(this.localScope.size - 1, index);\n  }\n\n  deleteAll() {\n    this.localScope.clear();\n    localStorage.removeItem(\"calc_variables\");\n  }\n\n  // takes element at [start] and moves it to [end]\n  reinsert(start, end) {\n    let result = Array.from(this.localScope, ([name, value]) => ({\n      name,\n      value,\n    }));\n\n    const [removed] = result.splice(start, 1);\n    result.splice(end, 0, removed);\n\n    this.localScope.clear();\n\n    for (let i = 0; i < result.length; i++) {\n      this.localScope.set(result[i].name, result[i].value);\n    }\n\n    this.toJSON();\n  }\n\n  fromJSON() {\n    if (!localStorage.getItem(\"calc_variables\")) return;\n    this.localScope = new Map(\n      JSON.parse(localStorage.getItem(\"calc_variables\"))\n    );\n  }\n\n  toJSON() {\n    localStorage.setItem(\n      \"calc_variables\",\n      JSON.stringify(Array.from(this.localScope.entries()))\n    );\n  }\n}\n\nexport default MathScope;\n","// React\nimport React from \"react\";\n\n// MUI\nimport Paper from \"@material-ui/core/Paper\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n});\n\nexport const EssayEditor = (props) => {\n  const { classes } = props;\n\n  // Do some redux thingy to set module to EssayEditor. This will tell hwbounty which module to go to on fullscreen (f)\n  return (\n    <Paper className={classes.paper}>\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignContent=\"center\"\n        style={{ height: \"100%\" }}\n      >\n        <Typography variant=\"h5\">\n          Please enable fullscreen mode (f) to use\n        </Typography>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(EssayEditor);\n","import { Button, Card, Collapse, Container, FormControl, InputLabel, MenuItem, Select, TextField, Typography, withStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst GasLaws = (props) => {\n\tconst [p, setP] = useState(1);\n\tconst [v, setV] = useState(22.4);\n\tconst [n, setN] = useState(1);\n\tconst [t, setT] = useState(273.15);\n\tconst [expanded, setExpanded] = useState(false);\n\tconst [solveFor, setSolveFor] = useState(0);\n\tconst handleSelect = (event, newValue) => {\n\t\tsetSolveFor(event.target.value)\n\t}\n\tconst calculate = ()=>{\n\t\t\n\t}\n\tconst handleTextChange = (event,nv,set)=>{\n\t\tset(event.target.value);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Typography>Hi!</Typography>\n\t\t\t<Container>\n\t\t\t\t<TextField id=\"pressure\" label=\"Pressure (ATM)\" defaultValue={p} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setP)} handle />\n\t\t\t\t<TextField id=\"volume\" label=\"Volume (L)\" defaultValue={v} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setV)}/>\n\t\t\t\t<TextField id=\"moles\" label=\"# of Moles (n)\" defaultValue={n} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setN)}/>\n\t\t\t\t<TextField disabled id=\"constant\" label=\"Gas Constant (R)\" defaultValue={0.0821} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} />\n\t\t\t\t<TextField id=\"temperature\" label=\"Temperature (K)\" defaultValue={t} style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setT)}/>\n\t\t\t\t<FormControl style={{\n\t\t\t\t\tmargin: 5\n\t\t\t\t}\n\t\t\t\t} >\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Solve For</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\t\t\tvalue={solveFor}\n\t\t\t\t\t\tonChange={handleSelect}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value={0}>Pressure</MenuItem>\n\t\t\t\t\t\t<MenuItem value={1}>Volume</MenuItem>\n\t\t\t\t\t\t<MenuItem value={2}>Molarity</MenuItem>\n\t\t\t\t\t\t<MenuItem value={3}>Temperature</MenuItem>\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t</Container>\n\t\t\t<span>\n\n\t\t\t</span>\n\n\n\t\t\t<Collapse in={expanded}>\n\n\t\t\t</Collapse>\n\t\t</Card>\n\t);\n\n}\n\nconst styles = {\n\troot: {\n\t\theight: \"100%\",\n\t\tflex: 1,\n\t},\n};\nconst mapStateToProps = (state) => ({\n\tUI: state.UI,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(GasLaws));","// React\nimport { useParams } from \"react-router\";\n\n// MUI Stuff\nimport { Paper } from \"@material-ui/core\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n// Modules\nimport Calculator from \"../components/Modules/Calculator/CalculatorModule\";\nimport EssayEditor from \"../components/Modules/EssayEditor/EssayEditor\";\nimport GasLaws from \"../components/Modules/GasLaws\";\n\nconst styles = (theme) => ({\n  ...theme.spreadIt,\n  root: {\n    marginLeft: 100, // temporary until john fixes his stuff\n    marginRight: 30,\n    marginTop: 50,\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingTop: 30,\n    minHeight: \"90%\",\n  },\n});\n\nconst Modules = (props) => {\n  const { classes } = props;\n  const { module } = useParams();\n\n  return (\n    <div className={classes.root}>\n      {module === \"calculator\" && <Calculator />}\n      {module === \"essayeditor\" && <EssayEditor />}\n      {module === \"gaslaws\" && <GasLaws />}\n    </div>\n  );\n};\n\nexport default withStyles(styles)(Modules);\n"],"sourceRoot":""}