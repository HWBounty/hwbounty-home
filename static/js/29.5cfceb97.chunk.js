(this["webpackJsonphwbounty-home"]=this["webpackJsonphwbounty-home"]||[]).push([[29],{658:function(t,e,a){"use strict";a.r(e);var s=a(16),i=a.n(s),n=a(31),c=a(23),l=a(24),r=a(44),h=a(43),d=a(0),o=a.n(d),u=a(357),b=a(206),j=a(668),p=a(657),O=a(353),x=a(402),y=a(78),v=a(377),g=a(207),m=a(18),f=a.n(m),D=a(14),S=a(389),w=a.n(S),k=a(438),A=a.n(k),C=a(21),J=a(25),T=a(2),I=function(t){Object(r.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={scheduleData:null,fetching:!1,tab:0},s}return Object(l.a)(a,[{key:"fetchScheduleData",value:function(){var t=Object(n.a)(i.a.mark((function t(){var e,a,s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.scheduleData){t.next=2;break}return t.abrupt("return");case 2:return a=this.props.location,s=a.pathname.split("/").pop()||(null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.query)||a.search.split("?id=").pop(),t.next=6,f.a.get("https://api.hwbounty.help/schedules/view/".concat(s)).catch(console.trace);case 6:(n=t.sent).data&&(n.data.nameOverrides=JSON.parse(n.data.nameOverrides.replace(/\\"/g,'"')),n.data.schedule=JSON.parse(n.data.schedule),this.setState({scheduleData:n.data}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(t){this.props=t}},{key:"handleTabChange",value:function(t,e,a){a.setState({tab:e})}},{key:"render",value:function(){var t,e,a=this;return this.state.scheduleData||this.state.fetching?this.state.scheduleData?Object(T.jsxs)(u.a,{children:[Object(T.jsxs)(b.a,{style:{width:"40%",maxWidth:"40%",margin:"5%",display:"inline-block",verticalAlign:"middle"},align:"left",children:[Object(T.jsxs)(j.a,{value:this.state.tab,indicatorColor:"primary",textColor:"primary",onChange:function(t,e){a.handleTabChange(t,e,a)},variant:"scrollable",scrollButtons:"auto",children:[Object(T.jsx)(p.a,{label:"Mon"}),Object(T.jsx)(p.a,{label:"Tue"}),Object(T.jsx)(p.a,{label:"Wed"}),Object(T.jsx)(p.a,{label:"Thu"}),Object(T.jsx)(p.a,{label:"Fri"}),Object(T.jsx)(p.a,{label:"Sat"}),Object(T.jsx)(p.a,{label:"Sun"})]}),Object(T.jsxs)(O.a,{children:[0===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),1===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),2===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),3===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),4===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),5===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData}),6===this.state.tab&&Object(T.jsx)(N,{day:this.state.tab,data:this.state.scheduleData})]})]}),Object(T.jsxs)(x.a,{style:{display:"inline-block",width:"40%",margin:"5%",paddingBottom:"1vh",paddingLeft:"5%",paddingRight:"5%",textAlign:"left",verticalAlign:"middle"},children:[Object(T.jsx)(y.a,{variant:"h4",style:{textAlign:"center"},children:this.state.scheduleData.name}),Object(T.jsx)(u.a,{style:{width:"100%",height:"10%"},children:Object(T.jsxs)("span",{children:[Object(T.jsx)(y.a,{variant:"caption",style:{textAlign:"left",marginRight:"3%"},children:Object(J.a)("viewSchedule.by")}),Object(T.jsx)(v.a,{src:this.state.scheduleData.user.pfp,align:"left",style:{display:"inline-block",verticalAlign:"middle"},children:this.state.scheduleData.user.publicID}),Object(T.jsx)(y.a,{variant:"h5",style:{verticalAlign:"middle",marginLeft:"3%",display:"inline-block"},children:this.state.scheduleData.user.publicID})]})}),Object(T.jsxs)(y.a,{children:[Object(J.a)("viewSchedule.lastUpdated")," ",w()(parseInt(this.state.scheduleData.lastUpdated)).fromNow()]}),Object(T.jsx)(A.a,{children:this.state.scheduleData.description}),Object(T.jsx)(u.a,{style:{paddingTop:"1vh",borderTop:"2px solid rgba(160, 160, 160, 0.2)",textAlign:"center"},children:Object(T.jsx)(g.a,{onClick:function(){return a.props.history.push("/schedule/set/".concat(a.props.location.pathname.split("/").pop()))},disabled:!(null===(t=JSON.parse(localStorage.getItem("user")||"[]"))||void 0===t?void 0:t.schoologyKey),children:(null===(e=JSON.parse(localStorage.getItem("user")||"[]"))||void 0===e?void 0:e.schoologyKey)?"Use this Schedule":"Link School Account First"})})]})]}):null:(this.setState({fetching:!0}),this.fetchScheduleData(),Object(T.jsx)("br",{}))}}]),a}(d.Component),N=function(t){t.classes;var e=t.data,a=t.day,s=(e.nameOverrides,e.schedule[["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][a]].map((function(t){return Object.assign(t,{period:e.nameOverrides[t.period]||t.period})})));return Object(T.jsx)(u.a,{style:{marginBottom:"5%"},children:function(){var t=o.a.Children.toArray(s.map((function(t){return Object(T.jsxs)(u.a,{children:[Object(T.jsx)(y.a,{variant:"h4",children:t.period}),Object(T.jsx)(y.a,{variant:"h6",children:t.timeStart}),Object(T.jsx)(y.a,{variant:"h6",children:t.timeEnd})]})})));return t.length?t:Object(T.jsx)(y.a,{variant:"h3",children:Object(J.a)("viewSchedule.noSchool")})}()})};e.default=Object(D.b)()(Object(C.h)(I))}}]);
//# sourceMappingURL=29.5cfceb97.chunk.js.map