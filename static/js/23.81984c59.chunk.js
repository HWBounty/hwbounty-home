(this["webpackJsonphwbounty-home"]=this["webpackJsonphwbounty-home"]||[]).push([[23],{676:function(e,t,a){"use strict";a.r(t),a.d(t,"Profile",(function(){return W})),a.d(t,"ProfileInfo",(function(){return E}));var n=a(18),r=a.n(n),i=a(34),o=a(21),c=a(5),s=a(625),l=a(0),d=a.n(l),u=a(357),p=a(626),m=a(207),b=a(401),f=a(316),h=a(407),g=a(350),x=a(78),j=a(206),v=a(16),O=a.n(v),w=a(388),y=a.n(w),I=a(88),D=a(14),N=a(20),C=a(614),S=a(9),k={staff:{name:"Verified Staff",description:"Given to the people who helped make or moderate the site!",color:"rgb(105,180,172)"},backendDev:{name:"Backend Developer",description:"Does backend for the site ( Handle auth, like all the raw data)",color:"rgb(170,128,255)"},designer:{name:"Designer",description:"Makes the website look actually not bad.",color:"rgb(0,179,89)"}},P=(a(175),a(25)),z=a(2),T=function(e){return O.a.get("".concat(S.q,"/user/").concat(e)).catch((function(e){console.trace(e)})).then((function(e){return e.data}))},B=Object(u.a)((function(e){return{root:{fontSize:function(e){return"".concat(.8125*e.size,"rem")},height:function(e){return"".concat(32*e.size,"px")},borderRadius:"9999px",backgroundColor:function(e){return"".concat(e.color,"!important")},margin:"16px",padding:"8px",display:"flex",justifyContent:"middle",alignItems:"flex-start"},avatar:{"&&":{height:function(e){return"".concat(24*e.size+8,"px")},width:function(e){return"".concat(24*e.size,"px")},fontSize:function(e){return"".concat(.75*e.size,"rem")}}},deleteIcon:{height:function(e){return"".concat(22*e.size,"px")},width:function(e){return"".concat(22*e.size,"px")},color:"green"}}})),A=function(e){var t=e.size,a=void 0===t?1:t,n=e.color,r=void 0===n?"rgb(0,0,0)":n,i=Object(s.a)(e,["size","color"]),o=B({size:a,color:r});return Object(z.jsx)(p.a,Object(c.a)({className:o.root,classes:{avatar:o.avatar,deleteIcon:o.deleteIcon}},i))},F=Object(u.a)({mainCard:{width:"90vw",minHeight:"90vh",marginLeft:"5vw",marginTop:"5vh",display:"flex"},profileCard:{minWidth:"25rem",width:"25vw",alignSelf:"left",display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",flexDirection:"column"},name:{fontSize:"4rem",textAlign:"center",width:"100%",fontFamily:"Oswald"},handle:{fontFamily:"Poppins",fontSize:"2rem",fontWeight:"300"},materialCard:{boxShadow:"5px 5px 18px 0px rgba(0,0,0,0.5)!important",borderRadius:"2vw"},profileDiv:{marginTop:"5vh",borderRadius:1e3,width:"15rem",height:"15rem",boxShadow:"0px 2px 5px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important"},hoverBlur:{"&:hover":{boxShadow:"14px 20px 20px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important","-webkit-filter":"blur(5px)","-moz-filter":"blur(5px)","-o-filter":"blur(5px)","-ms-filter":"blur(5px)",filter:"blur(5px)"}},textColor:{color:function(e){return 1===e?"rgb(255,255,255)":"rgb(10,10,10)"}},bio:{marginTop:"1rem",paddingTop:"0.5rem",fontFamily:"Nunito",fontSize:"1.33rem",lineHeight:"1.25",maxWidth:"90%"},bioText:{width:"100%",minWidth:"80%",textAlign:"center",background:"rgba(0,0,0,0)",height:"30vh",maxHeight:"30vh",minHeight:"30vh"},bioTextField:{width:"100%",minWidth:"80%",textAlign:"center",background:"rgba(0,0,0,0.25)",flexGrow:"1",border:"none",outline:"none",margin:"5%",borderRadius:"10px"},dataDiv:{padding:"2rem",minHeight:"90vh",display:"flex",flexDirection:"column"},tagsInfo:{fontFamily:"Poppins",fontSize:"1.5rem",textAlign:"left",margin:"1.5rem"},tagsDiv:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",margin:"1.5rem"},propertyCard:{minWidth:"15rem",width:"25vw",minHeight:"15rem",height:"17.5vh",display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem",marginTop:"8rem",marginBottom:"5rem"},propertyCardImage:{width:"6rem",height:"6rem"},propertyCardImageDiv:{width:"8rem",height:"8rem",background:function(e){return 1===e?"#3a393cff":"#f2f3f5ff"},padding:"1rem",position:"absolute",transform:"translate(0%,-50%)",borderRadius:"1000vw"},dummySpace:{minWidth:"8rem",width:"8vw",background:"rgba(0,0,0,0)"},propertiesDiv:{flexGrow:"1",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},darkerCard:{background:function(e){return 1===e?"#3a393cff":"#f2f3f5ff"}},balanceLabel:{fontFamily:"Poppins",fontSize:"1.5rem",fontWeight:"200",marginTop:"4.5vw"},balanceText:{fontFamily:"Oswald",fontSize:"3rem"},balInfoButton:{fontFamily:"Poppins",fontWeight:"300",textTransform:"none",marginBottom:"1rem"},footerTextDiv:{flexGrow:"1",display:"flex",background:"rgb(200,200,200)"},footerText:{fontFamily:"Nunito",color:"#999999",fontSize:"1rem"}}),W=function(e){var t=e.UI.theme,a=Object(N.f)(),n=Object(C.useAsyncResource)(T,"".concat(a.location.pathname.split("/").pop())),r=Object(o.a)(n,2),i=r[0],c=r[1];return Object(l.useEffect)((function(){return a.listen((function(e){c("".concat(e.pathname.split("/").pop()))}))})),Object(z.jsx)(l.Suspense,{fallback:Object(z.jsx)("div",{}),children:Object(z.jsx)(E,{userDat:i,theme:t})})},E=function(e){var t=e.theme,a=e.userDat,n=F(t),c=a();console.log(c);var s=Object(l.useState)(!1),u=Object(o.a)(s,2),p=u[0],v=(u[1],Object(l.useState)(!1)),w=Object(o.a)(v,2),D=w[0],N=w[1],C=Object(l.useState)(""),T=Object(o.a)(C,2),B=T[0],W=T[1],E=Object(l.useState)(""),H=Object(o.a)(E,2),G=H[0],M=H[1];Object(l.useEffect)((function(){W(c.bio),M(c.pfp)}),[c]);var R=Object(l.useState)(!1),J=Object(o.a)(R,2),U=(J[0],J[1],Object(I.b)().enqueueSnackbar);if(p)return null;var L,Y,q=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U("Updating bio..."),e.next=3,O.a.post("".concat(S.q,"/updateSelf"),{bio:B});case 3:e.sent,U("Bio updated!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?Object(z.jsxs)("div",{children:[Object(z.jsx)("input",{type:"file",onChange:function(e,t){var a=new FileReader;a.onloadend=function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U("Setting New Profile Picture..."),["data:image/gif;base64,","data:image/png;base64,","data:image/jpeg;base64,"].includes(a.target.result.substring(0,a.target.result.indexOf(",")+1))){t.next=4;break}return t.abrupt("return",U("Could not set profile picture! GIFs(Premium), JP(E)Gs and PNGs only please!",{variant:"error"}));case 4:return console.log(a.target.result.substring(0,25),a.target.result.substring(a.target.result.indexOf(",")+1)),t.next=7,O.a.post("".concat(S.q,"/changePfp"),{base64:a.target.result.substring(a.target.result.indexOf(",")+1)});case 7:M(a.target.result||e.target.value),U("Set new profile picture!");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.readAsDataURL(document.getElementById("pfpFileInput").files[0])},id:"pfpFileInput",style:{display:"none"}}),Object(z.jsxs)(b.a,{className:"".concat(n.mainCard," ").concat(n.materialCard),children:[Object(z.jsx)(f.a,{in:!0,style:{transformOrigin:"50 0 0",transitionDelay:"300ms"},timeout:500,direction:"up",children:Object(z.jsxs)(b.a,{className:"".concat(n.profileCard," ").concat(n.materialCard," ").concat(n.darkerCard),children:[Object(z.jsxs)("div",{children:[Object(z.jsx)(h.a,{in:!0,style:{transitionDelay:500},timeout:1e3,children:Object(z.jsx)("img",{src:G||"https://github.com/HWBounty/hwbounty-home/blob/gh-pages/logo512.png?raw=true",className:"".concat(n.profileDiv," ").concat((null===(L=JSON.parse(localStorage.getItem("user")))||void 0===L?void 0:L.privateID)===c.privateID&&n.hoverBlur),onClick:(null===(Y=JSON.parse(localStorage.getItem("user")))||void 0===Y?void 0:Y.privateID)===c.privateID&&function(){document.getElementById("pfpFileInput").click()},alt:"Profile pic"})}),Object(z.jsx)(g.a,{timeout:1e3,in:!0,style:{transitionDelay:200},children:Object(z.jsxs)(x.a,{className:n.name,children:[c.firstName," ",c.lastName]})}),Object(z.jsx)(x.a,{className:n.handle,children:Object(P.a)("newProfile.handle",{publicID:c.publicID})})]}),D?Object(z.jsx)("textarea",{id:"bioTextField",label:"",onBlur:function(){B||W(c.bio),q(),N(!1)},onChange:function(e,t){var a=t||e.target.value;a.length>256&&(U("Your Bio is at the 250 char. limit!"),a=a.substring(0,256)),W(a)},className:"".concat(n.bio," ").concat(n.textColor," ").concat(n.bioTextField),value:B}):Object(z.jsx)(x.a,{onClick:function(){var e;c&&localStorage.getItem("user")&&(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.privateID)===c.privateID&&N(!0)},className:"".concat(n.bio," ").concat(n.bioText),children:D?"":B})]})}),Object(z.jsxs)("div",{className:"".concat(n.dataDiv),children:[Object(z.jsx)(x.a,{className:"".concat(n.tagsInfo),children:Object(P.a)("newProfile.tags")}),Object(z.jsx)("div",{className:"".concat(n.tagsDiv),children:function(e){if(!e&&!(parseInt(null===c||void 0===c?void 0:c.premiumEndsAt)&&Date.now()<parseInt(c.premiumEndsAt)))return null;try{e=e.split(",")}catch(p){}return(e=e||[]).length=5,parseInt(null===c||void 0===c?void 0:c.premiumEndsAt)&&Date.now()<parseInt(c.premiumEndsAt)&&e.push({name:"Premium Member",color:"rgb(118,137,211)",description:"A Premium member of HWBounty! Ends ".concat(y()(parseInt(null===c||void 0===c?void 0:c.premiumEndsAt)).fromNow())}),e=e.filter((function(e){return e})),d.a.Children.toArray(e.map((function(e,t){var a,n;return Object(z.jsx)(m.a,{in:!0,timeout:250,style:{transitionDelay:"".concat(250*t,"ms")},children:Object(z.jsx)(A,{label:e.name||(null===(a=k[e])||void 0===a?void 0:a.name)||"Unknown Badge!",color:e.color||(null===(n=k[e])||void 0===n?void 0:n.color),onClick:function(){return U("".concat(e.description||k[e].description))},size:Math.pow(window.innerHeight*window.innerWidth,.02)})})})))}(c.tags)}),Object(z.jsxs)("div",{className:"".concat(n.propertiesDiv),children:[Object(z.jsx)(m.a,{timeout:500,in:!0,style:{transitionDelay:"700ms",zIndex:"0"},children:Object(z.jsxs)(b.a,{className:"".concat(n.propertyCard," ").concat(n.materialCard," ").concat(n.darkerCard),children:[Object(z.jsx)("div",{className:n.propertyCardImageDiv,children:Object(z.jsx)("img",{src:"https://i.ibb.co/kKrm0M8/coin.png",className:"".concat(n.propertyCardImage)})}),Object(z.jsx)("div",{className:n.dummySpace}),Object(z.jsx)(x.a,{className:n.balanceLabel,children:Object(P.a)("newProfile.balance")}),Object(z.jsx)(x.a,{className:n.balanceText,children:c.bal}),Object(z.jsx)(j.a,{className:n.balInfoButton,children:Object(P.a)("newProfile.learnAboutCoins")})]})}),Object(z.jsx)(m.a,{in:!0,style:{transitionDelay:"1200ms"},timeout:500,children:Object(z.jsxs)(b.a,{className:"".concat(n.propertyCard," ").concat(n.materialCard," ").concat(n.darkerCard),children:[Object(z.jsx)("div",{className:n.propertyCardImageDiv,children:Object(z.jsx)("img",{src:"https://github.com/HWBounty/hwbounty-home/blob/gh-pages/logo512.png?raw=true",className:"".concat(n.propertyCardImage)})}),Object(z.jsx)("div",{className:n.dummySpace}),Object(z.jsx)(x.a,{className:n.balanceLabel,children:Object(P.a)("newProfile.school")}),Object(z.jsx)(x.a,{className:n.balanceText,children:Object(P.a)("newProfile.NA")}),Object(z.jsx)(j.a,{className:n.balInfoButton,children:Object(P.a)("newProfile.whatIsThis")})]})})]}),Object(z.jsxs)("div",{className:n.footerText,children:[Object(z.jsxs)(x.a,{className:n.footerText,children:[Object(P.a)("newProfile.userId"),c.privateID]}),Object(z.jsxs)(x.a,{className:n.footerText,children:[Object(P.a)("newProfile.joinedOn")," ",y()(parseInt(c.createdAt)).format("dddd MMMM Do, YYYY")]})]})]})]})]}):void 0};t.default=Object(D.b)((function(e){return{UI:e.UI}}))(W)}}]);
//# sourceMappingURL=23.81984c59.chunk.js.map