{"version":3,"sources":["pages/schoologyOauthRedirect.js"],"names":["SchoologyOauthPage","props","enqueueSnackbar","useSnackbar","history","useHistory","window","location","search","match","axios","post","hwbountyAPI","redirectURL","href","oauth_token","nonce","localStorage","getItem","then","thing","setAuthorizationHeader","data","setTimeout","push","connect","withSnackbar"],"mappings":"uHAAA,sHAWaA,EAAqB,SAACC,GAAW,IACpCC,EAAoBC,cAApBD,gBACFE,EAAUC,cAehB,OAdIC,OAAOC,SAASC,OAAOC,MAAM,oBAC/BC,IACGC,KADH,UACWC,IADX,kBACwC,CACpCC,YAAY,GAAD,OAAKP,OAAOC,SAASO,MAChCC,YAAaT,OAAOC,SAASC,OAAOC,MAAM,QAAQ,GAClDO,MAAOC,aAAaC,QAAQ,oBAE7BC,MAAK,SAACC,GACAA,IACLC,YAAuBD,EAAME,MAC7BpB,EAAgB,cAChBqB,YAAW,kBAAMnB,EAAQoB,KAAK,OAAM,SAGnC,MAEMC,wBAAUC,YAAa1B","file":"static/js/25.04ec1e8d.chunk.js","sourcesContent":["import axios from 'axios';\n\nimport { useSnackbar, withSnackbar } from 'notistack';\n\nimport { connect } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { setAuthorizationHeader } from '../redux/actions/userActions';\nimport { hwbountyAPI } from '../redux/types';\n\nexport const SchoologyOauthPage = (props) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  if (window.location.search.match(/\\?oauth_token\\=/)) {\n    axios\n      .post(`${hwbountyAPI}/schoologyAuth`, {\n        redirectURL: `${window.location.href}`,\n        oauth_token: window.location.search.match(/\\w+$/)[0],\n        nonce: localStorage.getItem('SchoologyNonce'),\n      })\n      .then((thing) => {\n        if (!thing) return;\n        setAuthorizationHeader(thing.data);\n        enqueueSnackbar('Signed in!');\n        setTimeout(() => history.push('/'), 500);\n      });\n  }\n  return null;\n};\nexport default connect()(withSnackbar(SchoologyOauthPage));\n"],"sourceRoot":""}