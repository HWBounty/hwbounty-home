{"version":3,"sources":["pages/schoologyOauthRedirect.js"],"names":["SchoologyOauthPage","props","enqueueSnackbar","useSnackbar","history","useHistory","window","location","search","match","axios","post","hwbountyAPI","redirectURL","href","oauth_token","nonce","localStorage","getItem","then","thing","setAuthorizationHeader","data","setTimeout","push","connect","withSnackbar"],"mappings":"wHAAA,+HAQaA,EAAqB,SAACC,GAAW,IACrCC,EAAoBC,cAApBD,gBACFE,EAAUC,cAahB,OAZIC,OAAOC,SAASC,OAAOC,MAAM,oBAChCC,IAAMC,KAAN,UAAcC,IAAd,kBAA2C,CAC1CC,YAAY,GAAD,OAAKP,OAAOC,SAASO,MAChCC,YAAaT,OAAOC,SAASC,OAAOC,MAAM,QAAQ,GAClDO,MAAOC,aAAaC,QAAQ,oBAC1BC,MAAK,SAAAC,GACFA,IACLC,YAAuBD,EAAME,MAC7BpB,EAAgB,cAChBqB,YAAW,kBAAMnB,EAAQoB,KAAK,OAAM,SAG/B,MAEOC,wBAAUC,YAAa1B","file":"static/js/20.2766957a.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useSnackbar, withSnackbar } from \"notistack\";\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setAuthorizationHeader } from \"../redux/actions/userActions\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\n\r\nexport const SchoologyOauthPage = (props) => {\r\n\tconst { enqueueSnackbar } = useSnackbar();\r\n\tconst history = useHistory()\r\n\tif (window.location.search.match(/\\?oauth_token\\=/)) {\r\n\t\taxios.post(`${hwbountyAPI}/schoologyAuth`, {\r\n\t\t\tredirectURL: `${window.location.href}`,\r\n\t\t\toauth_token: window.location.search.match(/\\w+$/)[0],\r\n\t\t\tnonce: localStorage.getItem(\"SchoologyNonce\"),\r\n\t\t}).then(thing => {\r\n\t\t\tif (!thing) return;\r\n\t\t\tsetAuthorizationHeader(thing.data);\r\n\t\t\tenqueueSnackbar(\"Signed in!\")\r\n\t\t\tsetTimeout(() => history.push(\"/\"), 500);\r\n\t\t});\r\n\t}\r\n\treturn null;\r\n}\r\nexport default connect()(withSnackbar(SchoologyOauthPage));\r\n"],"sourceRoot":""}