{"version":3,"sources":["redux/types.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userActions.js","util/theme.js","redux/actions/uiActions.js","util/keybinds/keybind.js","components/Calendar/Schedule.js","components/Calendar/SchoologyAssignment.js","components/Calendar/AssignmentsGroup.js","components/Calendar/Assignments.js","redux/actions/dataActions.js","components/Calendar/ZoomLinks.js","components/Calendar/Calendar.js","util/latex/preprocessMathQuill.js","components/Modules/Calculator/CalcTools.js","components/Modules/Calculator/Calculator.js","components/Modules/EssayEditor/EssayEditor.js","components/Modules/GasLaws.js","components/Modules/ModuleViewer.js","components/MusicModule/Player.js","components/MusicModule/MusicModule.js","util/notifications.js","util/pageDictionary.js","components/ModuleCard.js","pages/home.js","pages/modules.js","pages/newSignup.js","util/badges.js","pages/profile.js","pages/signupCallback.js","pages/settings.js","pages/ScheduleInfo.js","pages/johnsHome.js","pages/schedules.js","pages/viewSchedule.js","pages/setSchedule.js","pages/schoologyOauthRedirect.js","pages/404.js","components/User/AccountIconButton.js","components/Home/PageSearch.js","components/Home/Navbar.js","components/User/Authentication/Login.js","components/User/Authentication/AuthPopup.js","components/Sidebar.js","LoadIntoCache.js","components/SchoologyButton.js","App.js","serviceWorker.js","index.js"],"names":["SET_THEME","SET_MODULE","SET_AUTH_POPUP_OPEN","CLEAR_ERRORS","SET_ASSIGNMENTS","SET_AUTHENTICATED","SET_SCHOOLOGY_LINKED","hwbountyAPI","initialState","loading","authenticated","schoologyLinked","userReducer","state","action","type","assignments","dataReducer","payload","sort","a","b","Date","due","theme","module","moduleFullscreen","authPopupOpen","uiReducer","middleware","thunk","reducers","combineReducers","user","data","UI","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","getUserData","dispatch","axios","get","catch","console","trace","status","localStorage","setItem","JSON","stringify","clear","setAuthorizationHeader","token","DBIdToken","defaults","headers","common","rawTheme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontFamilySecondary","spreadIt","rootPadding","padding","paper","width","borderRadius","inputBase","borderColor","fontHeader","color","text","fontWeight","h1","letterSpacing","h2","h3","h4","h5","h6","subtitle1","body1","body2","setTheme","themeNum","setAuthPopupOpen","open","connect","setModule","moduleId","parseInt","withShortcut","props","shortcut","handleNumberPressed","e","key","useEffect","registerShortcut","unregisterShortcut","decodeHTML","string","map","gt","replace","$0","$1","String","fromCharCode","toLowerCase","substr","hasOwnProperty","useButtonStyles","makeStyles","root","border","marginTop","paddingBottom","display","cursor","position","boxShadow","PeriodButton","classes","period","name","zoom","timeStart","timeEnd","tSS","tES","duration","enqueueSnackbar","useSnackbar","timePassed","now","React","useState","expanded","setExpanded","notDoneCol","filter","x","style","marginBottom","Card","className","onClick","length","background","Typography","variant","align","marginLeft","innerWidth","margin","bottom","left","Math","round","Collapse","in","Children","toArray","z","Button","event","link","stopPropagation","newWindow","opener","handleZoomLinkClicked","title","fetchAndSet","setCourseInfo","setScheduleData","setCannotFetch","getItem","Error","parse","Promise","all","schedule","courses","forceUpdate","set","s","useForceUpdate","setTimeout","setInterval","courseInfo","scheduleData","fetching","setFetching","cannotFetch","post","redirectURL","origin","then","res","location","href","CircularProgress","periods","zoomLinkInfo","dotw","moment","isoWeekday","allClasses","Map","nameOverrides","convertedMoment","tz","timePeriod","utcOffset","currentMoment","forEach","course","id","today","colors","stops","retarr","index","push","generatePeriodColors","i","has","value","course_title","links","linkGroup","flat","add","unix","parsePeriods","Container","p","withStyles","textTransform","assignmentTitle","flex","textAlign","assignmentDue","marginRight","url","fullWidth","dayjs","format","dateButton","dateText","date","endIcon","timeout","unmountOnExit","dateToDay","Assignments","this","getAssignments","datesArray","Array","from","Set","assignmentByDay","Component","card","ZoomLinksCollection","button","allLinks","content","paddingTop","tab","setTab","Paper","Tabs","indicatorColor","textColor","onChange","newValue","Tab","label","mathquillToMathJS","fromMQ","noBraceSub","convertSubscript","fracToDivision","tex","mathjs","reduce","acc","r","str","find","replaceWith","RegExp","escapeRegExp","expr","subStart","indexOf","numStart","closingBrace","slice","frac","fracStart","divIdx","startIdx","braces","openingBrace","undefined","stack","j","findClosingBrace","useStyles","numPadRoot","symbolPadRoot","SymbolButton","latex","symbol","NumPad","NumRow","arr","Grid","container","item","spacing","wrap","num","disabled","direction","SymbolPad","obj","addStyles","parser","math","LatexInput","onSubmit","mathquillDidMount","height","config","autoCommands","autoOperatorNames","handlers","enter","symbolPadGrid","expression","setExpression","answer","setAnswer","error","setError","mathField","useRef","InputBase","inputComponent","inputProps","val","ans","evaluate","toString","current","input","xs","write","focus","cmd","Box","flexDirection","justifyContent","alignContent","setP","v","setV","n","setN","t","setT","solveFor","setSolveFor","handleTextChange","nv","target","TextField","defaultValue","ev","handle","FormControl","InputLabel","Select","labelId","MenuItem","modName","useLocation","pathname","split","pop","Module","getHighestThumbnail","thumbnails","best","sleep","delay","resolve","Player","updateMe","self","songInfoMap","URL","webkitURL","MediaSource","WebKitMediaSource","socket","socketClient","video","document","getElementById","stopPlaying","mediaSource","sourceBuffer","queue","songQueue","played","songCount","currentSong","currentSongLink","loop","onended","processQueue","on","handleSongInfo","addToQueue","tryingToPlay","setState","Object","assign","searchResults","songURL","emit","src","createObjectURL","pause","readyState","volume","addSourceBuffer","mode","wait","onupdateend","chunkcount","trials","inter","clearInterval","shift","appendBuffer","unshift","uIntArray","Uint8Array","chunk","play","info","cleanedInfo","songName","videoDetails","songAuthor","ownerChannelName","bestThumbnail","video_url","songLinks","concat","items","snippet","channelTitle","maxres","high","standard","medium","default","delete","vidElement","Number","isNaN","abs","currentTime","newSong","playSong","query","MusicModule","audionState","startedAt","loadingProcess","volumeLevel","progress","playState","player","Notifications","Notification","permission","requestPermission","icon","img","body","image","lmBG","dmBG","Pages","Home","desc","tags","defaultColorLightMode","defaultColorDarkMode","path","Schedule","ScheduleCatalog","Settings","zIndex","actionArea","media","ModuleCard","history","useHistory","CardActionArea","redirect","CardMedia","CardContent","gutterBottom","component","CTime","verticalAlign","minWidth","CTimeSmall","lastTimeBasedNotif","small","large","formLabel","formGroup","timeUntilText","innerHeight","timeUntilTextMobile","redirectToSchedule","getTimePhrase","scheduleOBJ","getPeriodName","periodID","formattedClasses","clas","currentClass","endingInString","asHours","asMinutes","asSeconds","pushNotification","firstName","nextClass","startingInString","lastClass","lastEnded","renderSearchPages","pageArray","values","fuse","Fuse","includeScore","keys","search","result","time","maxHeight","top","paddingLeft","placeholder","searchBox","minHeight","overflowX","Modules","SignUpPage","firstNameError","lastNameError","usernameError","emailError","passwordError","cPasswordError","emailVerif","lastName","username","email","password","cpassword","test","match","processReady","signupRes","paddingRight","Snackbar","autoHideDuration","Alert","severity","autoComplete","required","helperText","onTextChange","signup","size","withRouter","badges","staff","description","backendDev","designer","chipStyles","backgroundColor","avatar","deleteIcon","CustomChip","restProps","Chip","profileDiv","transform","hoverBlur","profileBuffer","profileHoverText","opacity","profileHoverTextText","mainInfoCard","maxWidth","nameandPasswordCard","right","mainInfoEverything","alignItems","bio","DMtext","infoLabel","infoText","chip","balanceCard","balanceText","userData","setUserData","editingBio","setEditingBio","setBio","pfp","setPfp","er","fetchres","postBio","FR","FileReader","onloadend","log","substring","base64","readAsDataURL","files","privateID","click","onBlur","outline","publicID","premiumEndsAt","fromNow","renderChips","bal","SignupCallback","FormGroup","row","FormControlLabel","control","Switch","checked","newVal","ScheduleInfo","overflowY","borderWidth","withSnackbar","setUser","getGreeting","SchedulesSearch","setQuery","roundInput","useRoundInputBaseStyles","preventDefault","laceholder","SchedulePreview","hist","sid","searchTerm","schedules","handleTabChange","scrollButtons","List","day","Avatar","lastUpdated","borderTop","schoologyKey","fetchScheduleData","DisplayedScheduleDay","dayschedule","children","renderPeriods","SetSchedule","selfData","section","y","setting","periodChoices","sch","scheduleID","parseAllPeriods","options","handleChange","option","handleDropdowns","handleSet","SchoologyOauthPage","oauth_token","PageNotFound","anchorEl","setAnchorEl","handleClose","IconButton","aria-controls","aria-haspopup","currentTarget","alt","Menu","keepMounted","Boolean","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","method","reload","join","styles","pageOptions","ListItem","lineHeight","borderTopLeftRadius","borderTopRightRadius","scrollbarWidth","themeFile","iconButton","UserButton","Toolbar","inputField","Login","loginUser","setEmail","setPassword","DialogTitle","DialogContent","autoFocus","inputFields","DialogActions","mapActionsToProps","err","signupUser","Dialog","drawerWidth","locations","Profile","appBar","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","flexGrow","anchoredAvatar","useTheme","setOpen","handleDrawerClose","aria-label","clsx","menuButton","Drawer","anchor","Divider","ListItemIcon","Today","AccountCircle","ListItemText","LoadIntoCache","oldPageUrl","updateCache","updateUser","updateSchedule","SchoologyButton","thing","nonce","response","themeCache","dynamicTheme","maxSnack","ignoreTagNames","CssBaseline","exact","home","schoologyOauthRedirect","signupCallback","newSignup","viewSchedule","setSchedule","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","process","addEventListener","fetch","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.91ac0fc5.chunk.js","sourcesContent":["// UI reducer types\r\nexport const SET_THEME = \"SET_THEME\";\r\nexport const SET_MODULE = \"SET_MODULE\";\r\nexport const SET_MODULE_FULLSCREEN = \"SET_MODULE_FULLSCREEN\";\r\nexport const SET_AUTH_POPUP_OPEN = \"SET_AUTH_POPUP_OPEN\";\r\nexport const LOADING_UI = \"LOADING_UI\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\n\r\n// Data reducer types\r\nexport const SET_ASSIGNMENTS = \"SET_ASSIGNMENTS\";\r\n\r\n// User reducer types\r\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\r\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const LOADING_USER = \"LOADING_USER\";\r\nexport const MARK_NOTIFICATIONS_READ = \"MARK_NOTIFICATIONS_READ\";\r\nexport const CONFIRM_SIGNUP = \"CONFIRM_SIGNUP\";\r\nexport const SET_SCHOOLOGY_LINKED = \"SET_SCHOOLOGY_LINKED\";\r\n\r\n// Const vars\r\nexport const _maxThemeVal = 1;\r\n\r\n// API Base URL\r\nexport const hwbountyAPI = \"https://api.hwbounty.help\";\r\nexport const schoologyAPI = \"https://api.schoology.com/v1\"; // may not work\r\n","import { SET_AUTHENTICATED, SET_SCHOOLOGY_LINKED } from \"../types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  authenticated: false,\r\n  schoologyLinked: false,\r\n};\r\n\r\nexport const userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n      };\r\n    case SET_SCHOOLOGY_LINKED:\r\n      return {\r\n        ...state,\r\n        schoologyLinked: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { SET_ASSIGNMENTS } from \"../types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  assignments: [],\r\n};\r\n\r\nexport const dataReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ASSIGNMENTS:\r\n      return {\r\n        ...state,\r\n        assignments: action.payload.sort(\r\n          (a, b) => new Date(a.due) - new Date(b.due)\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dataReducer;\r\n","import { SET_AUTH_POPUP_OPEN, SET_MODULE, SET_THEME } from \"../types\";\r\n\r\nconst initialState = {\r\n  theme: 1, // [light, dark, titan]\r\n  module: 1,\r\n  moduleFullscreen: false,\r\n  authPopupOpen: false,\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_THEME:\r\n      return {\r\n        ...state,\r\n        theme: action.payload,\r\n      };\r\n    case SET_MODULE:\r\n      return {\r\n        ...state,\r\n        module: action.payload,\r\n      };\r\n    case SET_AUTH_POPUP_OPEN:\r\n      return {\r\n        ...state,\r\n        authPopupOpen: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default uiReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport dataReducer from \"./reducers/dataReducer\";\r\nimport uiReducer from \"./reducers/uiReducer\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  data: dataReducer,\r\n  UI: uiReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  composeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  SET_AUTHENTICATED,\r\n  LOADING_UI,\r\n  CLEAR_ERRORS,\r\n  hwbountyAPI,\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\n\r\nexport const loginUser = (userData) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(`${hwbountyAPI}/login`, userData)\r\n    .then((res) => {\r\n      setAuthorizationHeader(res.data.token);\r\n      dispatch(getUserData());\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signupUser = (userData) => (dispatch) => {\r\n  axios\r\n    .post(`${hwbountyAPI}/signup`, userData)\r\n    .then((res) => {\r\n      dispatch({ type: CLEAR_ERRORS });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const linkUserSchoology = () => {\r\naxios.post(`${hwbountyAPI}/schoologyLogin`,{\r\n  redirectURL: `${window.origin}/schoologyCallback`\r\n}).then(res=>res.status === 200 && (window.location.href = res.data))\r\n}\r\nexport const logoutUser = () => (dispatch) => {\r\n};\r\nexport const getUserData = () => async (dispatch) => {\r\n  let data = await axios.get(\"https://api.hwbounty.help/@me\").catch(console.trace);\r\n\t\tif (data && data.status === 200 && data.data){\r\n\t\t\tlocalStorage.setItem(\"user\",JSON.stringify(data.data));\r\n\t\t}else{\r\n\t\t\tlocalStorage.clear();\r\n\t\t}\r\n};\r\n\r\nexport const setAuthorizationHeader = (token) => {\r\n  const DBIdToken = `Bearer ${token}`;\r\n  localStorage.setItem(\"DBIdToken\", DBIdToken);\r\n  axios.defaults.headers.common[\"Authorization\"] = DBIdToken;\r\n};\r\n\r\n// btw  api.hwbounty.help/schoologyLogin\r\n/*\r\nreq: {\r\n  redirectURL:  \"hwbounty.help\"\r\n}\r\n*/\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst rawTheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: \"#6fe3d7\",\r\n      main: \"#4db6ac\",\r\n      dark: \"#91a3a1\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    secondary: {\r\n      light: \"#ffb2ff\",\r\n      main: \"#ea80fc\",\r\n      dark: \"#b64fc8\",\r\n      contrastText: \"#fff\",\r\n    },\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\r\n    fontSize: 14,\r\n    fontWeightLight: 300, // Work Sans\r\n    fontWeightRegular: 400, // Work Sans\r\n    fontWeightMedium: 700, // Roboto Condensed\r\n    fontFamilySecondary: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\r\n  },\r\n\r\n  spreadIt: {\r\n    rootPadding: {\r\n      padding: 25,\r\n    },\r\n    paper: {\r\n      width: \"100%\",\r\n      borderRadius: 10,\r\n    },\r\n    inputBase: {\r\n      borderColor: \"rgba(0,0,0,0)\",\r\n      borderRadius: 2,\r\n    }\r\n  },\r\n});\r\n\r\nconst fontHeader = {\r\n  color: rawTheme.palette.text.primary,\r\n  fontWeight: rawTheme.typography.fontWeightMedium,\r\n  fontFamily: rawTheme.typography.fontFamilySecondary,\r\n};\r\n\r\nconst theme = {\r\n  ...rawTheme,\r\n  typography: {\r\n    ...rawTheme.typography,\r\n    fontHeader,\r\n    h1: {\r\n      ...rawTheme.typography.h1,\r\n      ...fontHeader,\r\n      letterSpacing: 0,\r\n      fontSize: 60,\r\n    },\r\n    h2: {\r\n      ...rawTheme.typography.h2,\r\n      ...fontHeader,\r\n      fontSize: 48,\r\n    },\r\n    h3: {\r\n      ...rawTheme.typography.h3,\r\n      ...fontHeader,\r\n      fontSize: 42,\r\n    },\r\n    h4: {\r\n      ...rawTheme.typography.h4,\r\n      ...fontHeader,\r\n      fontSize: 36,\r\n    },\r\n    h5: {\r\n      ...rawTheme.typography.h5,\r\n      fontSize: 20,\r\n      fontFamily: \"'Oswald'\",\r\n      fontWeight: rawTheme.typography.fontWeightLight,\r\n    },\r\n    h6: {\r\n      fontFamily: \"'Nunito'\",\r\n      ...rawTheme.typography.h6,\r\n      ...fontHeader,\r\n      fontSize: 18,\r\n    },\r\n    subtitle1: {\r\n      ...rawTheme.typography.subtitle1,\r\n      fontSize: 18,\r\n    },\r\n    body1: {\r\n      ...rawTheme.typography.body2,\r\n      fontWeight: rawTheme.typography.fontWeightRegular,\r\n      fontSize: 16,\r\n    },\r\n    body2: {\r\n      ...rawTheme.typography.body1,\r\n      fontSize: 14,\r\n    },\r\n  },\r\n};\r\n\r\nexport default theme;\r\n","import {\r\n  SET_THEME,\r\n  SET_MODULE,\r\n  SET_AUTH_POPUP_OPEN,\r\n  SET_MODULE_FULLSCREEN,\r\n} from \"../types\";\r\n\r\nexport const setTheme = (themeNum) => (dispatch) => {\r\n  dispatch({ type: SET_THEME, payload: themeNum });\r\n};\r\n\r\nexport const setModule = (moduleId) => (dispatch) => {\r\n  dispatch({ type: SET_MODULE, payload: parseInt(moduleId) });\r\n};\r\n\r\nexport const setFullscreenModule = (name) => (dispatch) => {\r\n  // basically, we check the url params of /modules/:moduleName\r\n  // and convert that to id, set the fullscreen param to true, which enabled the modal\r\n\r\n  const tmp_map = {\r\n    calculator: 1,\r\n    essayEditor: 2,\r\n  };\r\n  if (name !== \"\") {\r\n    dispatch({ type: SET_MODULE, payload: tmp_map[name] });\r\n  }\r\n  dispatch({ type: SET_MODULE_FULLSCREEN, payload: true });\r\n};\r\n\r\nexport const setAuthPopupOpen = (open) => (dispatch) => {\r\n  dispatch({ type: SET_AUTH_POPUP_OPEN, payload: open });\r\n};\r\n","// React\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { setModule } from \"../../redux/actions/uiActions\";\r\n\r\n// Keybind\r\nimport { withShortcut } from \"react-keybind\";\r\n\r\nexport const KeybindManager = (props) => {\r\n  const { shortcut, setModule } = props;\r\n\r\n  const handleNumberPressed = (e) => {\r\n    setModule(e.key);\r\n  };\r\n\r\n  useEffect(() => {\r\n    shortcut.registerShortcut(\r\n      handleNumberPressed,\r\n      [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\r\n      \"Change Module\",\r\n      \"Changes to specified module given the id. 0 will clear\"\r\n    );\r\n\r\n    /*\r\n    Later make it so that we map through all active keybinds with command\r\n    keybind arr will look something like this:\r\n    arr = [\r\n      {key=\"c\", action=\"SET_CALC\"},\r\n      {key=\"space\" action=\"CLEAR_ALL_MODULES\"}\r\n    ]\r\n    */\r\n\r\n    return () => {\r\n      // Returning from useEffect is equivilant to componentDidUnmount or whatever its called\r\n      shortcut.unregisterShortcut([\r\n        \"0\",\r\n        \"1\",\r\n        \"2\",\r\n        \"3\",\r\n        \"4\",\r\n        \"5\",\r\n        \"6\",\r\n        \"7\",\r\n        \"8\",\r\n        \"9\",\r\n      ]);\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default connect(null, { setModule })(withShortcut(KeybindManager));\r\n\r\n/*\r\nShortcut object that we get from withShortcut. This is retrieved from props\r\n\r\nshortcut: {\r\n  registerShortcut?: (\r\n    method: (e?: React.KeyboardEvent<any>) => any,\r\n    keys: string[],\r\n    title: string,\r\n    description: string,\r\n    holdDuration?: number,\r\n  ) => void\r\n  registerSequenceShortcut?: (\r\n    method: () => any,\r\n    keys: string[],\r\n    title: string,\r\n    description: string,\r\n  ) => void\r\n  shortcuts: Shortcut[]\r\n  triggerShortcut?: (key: string) => any\r\n  unregisterShortcut?: (keys: string[]) => void\r\n}\r\n*/\r\n","// React\r\nimport React, { Component, useEffect } from \"react\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport moment from \"moment\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { CircularProgress, Container } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { linkUserSchoology } from \"../../redux/actions/userActions\";\r\n\r\nconst decodeHTML = (string) => {\r\n  const map = { gt: \">\" /* ,  */ };\r\n  return string.replace(/&(#(?:x[0-9a-f]+|\\d+)|[a-z]+);?/gi, ($0, $1) => {\r\n    if ($1[0] === \"#\") {\r\n      return String.fromCharCode(\r\n        $1[1].toLowerCase() === \"x\"\r\n          ? parseInt($1.substr(2), 16)\r\n          : parseInt($1.substr(1), 10)\r\n      );\r\n    } else {\r\n      return map.hasOwnProperty($1) ? map[$1] : $0;\r\n    }\r\n  });\r\n};\r\nconst useButtonStyles = makeStyles({\r\n  root: {\r\n    border: 0,\r\n    borderRadius: \"1.25vw!important\",\r\n    marginTop: \"2vw\",\r\n    paddingBottom: 10,\r\n    display: \"block\",\r\n    cursor: \"pointer\",\r\n    position:\"relative\",\r\n    boxShadow: \"5px 5px 10px 1px rgba(0,0,0,0.6)!important\",\r\n  },\r\n});\r\n\r\nconst generatePeriodColors = (stops, theme) => {\r\n  let retarr = [];\r\n  for (let index = 0; index < stops; index++)\r\n    //50 => 25, 70 => 30 for Dark mode\r\n\r\n    retarr.push([0 + (index / stops) * 360, 0, theme ? 30 : 70]);\r\n  return retarr;\r\n};\r\n\r\nconst PeriodButton = (props) => {\r\n  const classes = useButtonStyles();\r\n  const {\r\n    theme,\r\n    period,\r\n    name,\r\n    zoom,\r\n    color,\r\n    timeStart,\r\n    timeEnd,\r\n    tSS,\r\n    tES,\r\n    duration,\r\n  } = props;\r\n  //% from 0 to 100\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  let timePassed = 0;\r\n  //If we are past the end time, set time passed to 100%\r\n  if (Date.now() - timeEnd > 0) timePassed = 100;\r\n  //If we are in class, set time passed to (current-start)/(End-start) * 100\r\n  else if (Date.now() - timeStart > 0 && timeEnd - Date.now() > 0)\r\n    timePassed = ((Date.now() - timeStart) * 100) / (timeEnd - timeStart);\r\n  //If the class is upcoming, set time passed to 0\r\n  else timePassed = 0;\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const handleButtonClicked = () => {\r\n    if (zoom.length) setExpanded(!expanded);\r\n    else enqueueSnackbar(\"No Zoom Links found for this class!\");\r\n  };\r\n  \r\n\r\n  const handleZoomLinkClicked = (event, link) => {\r\n    event.stopPropagation();\r\n    const newWindow = window.open(link, \"_blank\", \"noopener,noreferrer\");\r\n    if (newWindow) newWindow.opener = null;\r\n  };\r\n  let notDoneCol = color.filter((x) => true);\r\n  //Set to 40 for Darkmode  \r\n  notDoneCol[2] = theme ? 30 : 90;\r\n  color[2] = theme ? 20 : 75;\r\n  return (\r\n    <div\r\n      style={{\r\n        marginBottom: \"2vh\",\r\n      }}\r\n    >\r\n      <Card\r\n        className={classes.root}\r\n        onClick={handleButtonClicked}\r\n        style={{\r\n          background: `linear-gradient(90deg, hsl(${color[0]},${color[1]}%,${\r\n            color[2]\r\n          }%) 0%, hsl(${color[0]},${color[1]}%,${\r\n            color[2]\r\n          }%) ${timePassed}%, hsl(${notDoneCol[0]},${notDoneCol[1]}%,${\r\n            notDoneCol[2]\r\n          }%) ${timePassed + 0.000001}%, hsl(${notDoneCol[0]},${\r\n            notDoneCol[1]\r\n          }%,${notDoneCol[2]}%) 100%)`,\r\n          borderRadius: 20,\r\n          padding: \"10px\",\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h5\"\r\n          align=\"left\"\r\n          style={{\r\n            marginLeft: \"4%\",\r\n            fontSize: window.innerWidth ** 0.4 + 32,\r\n            marginBottom: window.innerWidth <= 1250\r\n            ?\"12%\":\"6%\",\r\n            position: \"relative\",\r\n            marginTop: window.innerWidth <= 1250\r\n            ?\"4%\":\"2%\",\r\n            // left: \"5%\"\r\n          }}\r\n        >\r\n          {name}\r\n        </Typography>\r\n        {expanded ? null : (\r\n          <Typography\r\n            align=\"left\"\r\n            variant=\"h5\"\r\n            style={{\r\n              fontSize:\r\n                window.innerWidth <= 1250\r\n                  ? window.innerWidth ** 0.3 + 10\r\n                  : window.innerWidth ** 0.4 + 10,\r\n              margin: 10,\r\n              marginBottom: 10,\r\n              marginTop: 0,\r\n              bottom: window.innerWidth <= 1250 ? \"70%\" : \"1%\",\r\n              left: \"4%\",\r\n              bottom: \"10%\",\r\n              position: \"absolute\",\r\n              fontFamily: \"'Nunito'\",\r\n            }}\r\n          >\r\n            {period}&nbsp;&nbsp;&nbsp;{tSS}-{tES} ({Math.round(duration / 60000)} mins)\r\n          </Typography>\r\n        )}\r\n\r\n        <Collapse in={expanded}>\r\n          {React.Children.toArray(\r\n            zoom.map((z) => {\r\n              return (\r\n                <Button onClick={(e) => handleZoomLinkClicked(e, z.link)}>\r\n                  {z.title}\r\n                </Button>\r\n              );\r\n            })\r\n          )}\r\n        </Collapse>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst parsePeriods = (scheduleData, zoomLinkInfo, theme) => {\r\n  let scheduleDay = moment(Date.now());\r\n  let dotw = [\r\n    \"monday\",\r\n    \"tuesday\",\r\n    \"wednesday\",\r\n    \"thursday\",\r\n    \"friday\",\r\n    \"saturday\",\r\n    \"sunday\",\r\n  ][scheduleDay.isoWeekday() - 1];\r\n\r\n  let allClasses = scheduleData.classes;\r\n  let classes = new Map();\r\n  let nameOverrides = JSON.parse(scheduleData.schedule.nameOverrides);\r\n  let convertedMoment = moment()\r\n    .tz(JSON.parse(scheduleData.schedule.schedule).timePeriod)\r\n    .utcOffset();\r\n  let currentMoment = moment().utcOffset();\r\n  zoomLinkInfo.forEach((x) => {\r\n    classes.set(x.course.id, x);\r\n  });\r\n  let today = JSON.parse(scheduleData.schedule.schedule)[dotw];\r\n  let colors = generatePeriodColors(today.length, theme);\r\n  return today.map((x, i) => {\r\n    let courseInfo = classes.has(\r\n      allClasses[x.period] && allClasses[x.period].value\r\n    )\r\n      ? classes.get(allClasses[x.period] && allClasses[x.period].value)\r\n      : null;\r\n    return {\r\n      period: nameOverrides[x.period] || x.period,\r\n      color: colors[i],\r\n      name:\r\n        courseInfo && courseInfo.course\r\n          ? courseInfo.course.course_title\r\n          : \"No Class\",\r\n      zoom:\r\n        courseInfo && courseInfo.links\r\n          ? courseInfo.links\r\n              .map((linkGroup) => {\r\n                return linkGroup.links.map((link) => {\r\n                  return { link: link, title: decodeHTML(linkGroup.title) };\r\n                });\r\n              })\r\n              .flat(10000)\r\n          : [],\r\n      timeStart:\r\n        moment(x.timeStart, \"hh:mma\")\r\n          .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n          .unix() * 1000,\r\n      timeEnd:\r\n        moment(x.timeEnd, \"hh:mma\")\r\n          .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n          .unix() * 1000,\r\n      tSS: x.timeStart,\r\n      tES: x.timeEnd,\r\n      duration: x.timeEnd - x.timeStart,\r\n    };\r\n  });\r\n};\r\nlet done = false;\r\nconst fetchAndSet = async (setCourseInfo, setScheduleData, setCannotFetch) => {\r\n  try {\r\n    if (!localStorage.getItem(\"DBIdToken\"))\r\n      throw new Error(\"something bad happened?\");\r\n    if (localStorage.getItem(\"cachedSchedule\"))\r\n      setScheduleData(JSON.parse(localStorage.getItem(\"cachedSchedule\")));\r\n    if (localStorage.getItem(\"cachedCourseInfo\"))\r\n      setCourseInfo(JSON.parse(localStorage.getItem(\"cachedCourseInfo\")));\r\n    let [schedule, courses] = await Promise.all([\r\n      axios.get(\"https://api.hwbounty.help/schedule/@me\").catch(console.trace),\r\n      axios\r\n        .get(\"https://api.hwbounty.help/sgy/getZoomLinks\")\r\n        .catch(console.trace),\r\n    ]);\r\n    if (!schedule?.data || !courses?.data || schedule?.status === 500)\r\n      throw new Error(\"something bad happened?\");\r\n    localStorage.setItem(\"cachedCourseInfo\", JSON.stringify(courses.data));\r\n    localStorage.setItem(\"cachedSchedule\", JSON.stringify(schedule.data));\r\n    setScheduleData(schedule.data);\r\n    setCourseInfo(courses.data);\r\n  } catch (error) {\r\n    setCannotFetch(true);\r\n  }\r\n};\r\nconst useForceUpdate = () => {\r\n  const set = useState(0)[1];\r\n  return () => set((s) => s + 1);\r\n};\r\nexport const Schedule = (props) => {\r\n  const {\r\n    UI: { theme },\r\n  } = props;\r\n  const forceUpdate = useForceUpdate();\r\n  useEffect(() => {\r\n    setTimeout(\r\n      () => setInterval(() => forceUpdate(), 5000),\r\n      1000 - (Date.now() % 1000)\r\n    );\r\n    return () => {\r\n    }\r\n  }, [])\r\n  const [courseInfo, setCourseInfo] = useState(null);\r\n  const [scheduleData, setScheduleData] = useState(null);\r\n  const [fetching, setFetching] = useState(false);\r\n  const [cannotFetch, setCannotFetch] = useState(false);\r\n  if (!scheduleData || !courseInfo) {\r\n    if (!fetching) {\r\n      setFetching(true);\r\n      fetchAndSet(setCourseInfo, setScheduleData, setCannotFetch);\r\n      return null;\r\n    }\r\n    if (cannotFetch)\r\n      return (\r\n        <div>\r\n          <Typography>\r\n            Seems like you dont have a school account linked! Please link your\r\n            schoology account to get access to this feature!\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={(x) => {\r\n              linkUserSchoology();\r\n            }}\r\n          >\r\n            Link Schoology Account\r\n          </Button>\r\n        </div>\r\n      );\r\n    return (\r\n      <div>\r\n        <Typography>Fetching Schedule Data/ Zoom Links...</Typography>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n  if (!scheduleData?.schedule)\r\n    return (\r\n      <div>\r\n        <Typography>\r\n          Seems like you dont have a schedule setup! Please go over to the\r\n          schedules catalog and set a schedule!\r\n        </Typography>\r\n      </div>\r\n    );\r\n  const periods = parsePeriods(scheduleData, courseInfo, theme);\r\n  return (\r\n    <Container style={{ marginBottom: \"50px\", width: \"100%\", padding: \"0px\" }}>\r\n      {React.Children.toArray(\r\n        periods.map((p) => {\r\n          return (\r\n            <PeriodButton\r\n              theme={theme}\r\n              period={p.period}\r\n              name={p.name}\r\n              zoom={p.zoom}\r\n              color={p.color}\r\n              timeStart={p.timeStart}\r\n              timeEnd={p.timeEnd}\r\n              tSS={p.tSS}\r\n              tES={p.tES}\r\n              duration={p.timeEnd - p.timeStart}\r\n            />\r\n          );\r\n        })\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Schedule);\r\n","// React\r\nimport { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\nconst styles = {\r\n  typography: {\r\n    textTransform: \"none\",\r\n  },\r\n  assignmentTitle: {\r\n    flex: 1,\r\n    textAlign: \"left\",\r\n    marginLeft: 10,\r\n    textTransform: \"none\",\r\n  },\r\n  assignmentDue: {\r\n    marginRight: 10,\r\n  },\r\n};\r\n\r\nexport const SchoologyAssignment = (props) => {\r\n  const { url, title, due, classes } = props;\r\n\r\n  const openLinkInNewTab = () => {\r\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n    if (newWindow) newWindow.opener = null;\r\n  };\r\n\r\n  return (\r\n    <Button onClick={openLinkInNewTab} fullWidth>\r\n      <Typography color=\"inherit\" className={classes.assignmentTitle}>\r\n        {title}\r\n      </Typography>\r\n      <Typography className={classes.assignmentDue}>\r\n        {dayjs(due).format(\"h:mm a\")}\r\n      </Typography>\r\n    </Button>\r\n  );\r\n};\r\n\r\nSchoologyAssignment.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  due: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SchoologyAssignment);\r\n","// React\r\nimport PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState } from \"react\";\r\n\r\n// MUI\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLessRounded\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMoreRounded\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n// Components\r\nimport SchoologyAssignment from \"./SchoologyAssignment\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\nconst styles = (theme) => ({\r\n  dateButton: {\r\n    width: \"100%\",\r\n    textTransform: \"none\",\r\n  },\r\n  dateText: {},\r\n});\r\n\r\nexport const AssignmentsGroup = (props) => {\r\n  // load each assignment with matching date from redux state\r\n  const [expanded, setExpanded] = useState(true);\r\n  const { date, assignments, classes } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className={classes.dateButton}\r\n        endIcon={expanded ? <ExpandLess /> : <ExpandMore />}\r\n        onClick={() => setExpanded(!expanded)}\r\n      >\r\n        <Typography fontWeight=\"fontWeightBold\">\r\n          {dayjs(date).format(\"dddd, MMM DD YYYY\")}\r\n        </Typography>\r\n      </Button>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        {React.Children.toArray(\r\n          assignments.map((a) => {\r\n            return (\r\n              <SchoologyAssignment title={a.title} url={a.url} due={a.due} />\r\n            );\r\n          })\r\n        )}\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nAssignmentsGroup.propTypes = {\r\n  date: PropTypes.string.isRequired,\r\n  assignments: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(AssignmentsGroup);\r\n","// React\r\nimport React, { Component } from \"react\";\r\n\r\n// MUI & Styling\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n// Components\r\nimport SchoologyAssignment from \"./SchoologyAssignment\";\r\nimport AssignmentsGroup from \"./AssignmentsGroup\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { getAssignments } from \"../../redux/actions/dataActions\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n});\r\n\r\nconst dateToDay = (date) => {\r\n  return dayjs(date).format(\"MM-DD-YYYY\");\r\n};\r\n\r\nexport class Assignments extends Component {\r\n  componentDidMount() {\r\n    this.props.getAssignments();\r\n  }\r\n  render() {\r\n    const { classes, assignments } = this.props;\r\n\r\n    // TODO: make it so that the keys are in by day, but the time of due date is preserved\r\n    const datesArray = Array.from(\r\n      new Set(assignments.map((a) => dateToDay(a.due)))\r\n    );\r\n    const assignmentByDay = {};\r\n    assignments.forEach((a) => {\r\n      if (assignmentByDay[dateToDay(a.due)])\r\n        assignmentByDay[dateToDay(a.due)].push(a);\r\n      else assignmentByDay[dateToDay(a.due)] = [a];\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        {React.Children.toArray(\r\n          datesArray.map((date) => {\r\n            return (\r\n              <AssignmentsGroup\r\n                date={date}\r\n                assignments={assignmentByDay[date]}\r\n              />\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  assignments: state.data.assignments,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAssignments })(\r\n  withStyles(styles)(Assignments)\r\n);\r\n","import { SET_ASSIGNMENTS } from \"../types\";\r\n\r\nexport const getAssignments = () => (dispatch) => {\r\n  const tmpAssignments = [\r\n    {\r\n      title: \"This is a test assignment\",\r\n      url: \"https://google.com\",\r\n      due: \"2021-3-15\", // will be in the form of ISO Date...\r\n      id: \";SKDjf;slkx;d\",\r\n    },\r\n    {\r\n      title: \"the the middle\",\r\n      url: \"https://example.com\",\r\n      due: \"2021-2-1\",\r\n      id: \"sjdjfksld\",\r\n    },\r\n    {\r\n      title: \"Due on same day??\",\r\n      url: \"https://usaco.org\",\r\n      due: \"2021-3-15\",\r\n      id: \"Randos ass id bruhhhh\",\r\n    },\r\n    {\r\n      title: \"another assigment\",\r\n      url: \"https://facebook.com\",\r\n      due: \"2021-4-1\",\r\n      id: \";LSKDjfs;lkdf\",\r\n    },\r\n  ];\r\n\r\n  dispatch({ type: SET_ASSIGNMENTS, payload: tmpAssignments });\r\n};\r\n","// React\r\nimport React, { Component } from \"react\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport axios from \"axios\";\r\nimport { Card } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useButtonStyles = makeStyles({\r\n  card: {\r\n    background: \"linear-gradient(45deg, #a7acd9 30%, #9e8fb2 90%)\",\r\n    border: 0,\r\n    borderRadius: 10,\r\n    margin: \"5%\",\r\n    display: \"block\",\r\n    width: \"90%\",\r\n    \"min-height\": \"6vh\",\r\n  },\r\n});\r\n\r\nconst ZoomLinksCollection = (props) => {\r\n  const classes = useButtonStyles();\r\n  const { name, links, color } = props;\r\n  return (\r\n    <div>\r\n      <Card className={classes.button} style={{ background: color }}>\r\n        <Typography variant=\"h5\" display=\"block\">\r\n          {name}\r\n        </Typography>\r\n        {(() => {\r\n          let allLinks = [];\r\n          links.map((x) => {\r\n            x.links.map((link) => {\r\n              allLinks.push(\r\n                <Link display=\"block\" href={link}>\r\n                  {x.title}\r\n                  <br />\r\n                </Link>\r\n              );\r\n            });\r\n          });\r\n          return React.Children.toArray(allLinks);\r\n        })()}\r\n        <Typography align=\"left\">{name}</Typography>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\nconst colors = [\r\n  \"rgb(255,149,128)\",\r\n  \"rgb(255,204,153)\",\r\n  \"rgb(255,255,153)\",\r\n  \"rgb(204,255,153)\",\r\n  \"rgb(204,247,255)\",\r\n  \"rgb(204,212,255)\",\r\n  \"rgb(238,204,255)\",\r\n];\r\nclass ZoomLinksPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      zoomLinks: null,\r\n    };\r\n  }\r\n  async fetchZoomLinks() {\r\n    let res = await axios.get(\"https://api.hwbounty.help/sgy/getZoomLinks\").catch(console.trace);\r\n    if (res.status == 200) {\r\n      localStorage.setItem(\"zoomLinks\", JSON.stringify(res.data));\r\n      this.setState({ zoomLinks: res.data });\r\n    } else this.setState({ zoomLinks: res.status });\r\n  }\r\n  componentDidMount(){\r\n    this.fetchZoomLinks();\r\n  }\r\n  render() {\r\n    if (!this.state.zoomLinks && !localStorage.getItem(\"zoomLinks\")) {\r\n      return <Typography variant=\"h4\">Fetching Zoom Links</Typography>;\r\n    }\r\n    if (!this.state.zoomLinks && localStorage.getItem(\"zoomLinks\")) {\r\n      this.state = { zoomLinks: JSON.parse(localStorage.getItem(\"zoomLinks\")) };\r\n    }\r\n    if (Math.floor(this.state.zoomLinks / 100) === 4) {\r\n      return <Typography variant=\"h4\">Schoology Not Linked!</Typography>;\r\n    }\r\n    return (\r\n      <div>\r\n        {React.Children.toArray(\r\n          this.state.zoomLinks\r\n            .filter((x) => x.links.length)\r\n            .map((p, i) => {\r\n              return (\r\n                <ZoomLinksCollection\r\n                  name={p.course_name}\r\n                  links={p.links}\r\n                  color={colors[i]}\r\n                />\r\n              );\r\n            })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ZoomLinksPage;\r\n","// React\r\nimport React from \"react\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n// Components\r\nimport Schedule from \"./Schedule\";\r\nimport Assignments from \"./Assignments\";\r\nimport ZoomLinks from \"./ZoomLinks\";\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n  paper: {\r\n    ...theme.spreadIt.paper,\r\n  },\r\n  content: {\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nconst Calendar = (props) => {\r\n  const { classes } = props;\r\n\r\n  const [tab, setTab] = React.useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Tabs\r\n        value={tab}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        onChange={handleTabChange}\r\n        variant=\"fullWidth\"\r\n      >\r\n        <Tab label=\"Schedule\" />\r\n        <Tab label=\"Assignments\" />\r\n      </Tabs>\r\n      <Container className={classes.content}>\r\n        {tab === 0 && <Schedule />}\r\n        {tab === 1 && <Assignments />}\r\n      </Container>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Calendar);\r\n","/**\r\n * Thank you ChristopherChudzicki for this code! (copy-paste)\r\n *\r\n * Makes a series of replacements on MathQuill-generated LaTeX strings so that\r\n * they can be parsed by MathJS.\r\n *\r\n * Notes:\r\n *  1. This is pretty heuristic. Might discover updates needed.\r\n *  2. Much of this could be used to preprocess LaTeX generated by other means\r\n * (i.e., not MathQuill.) The main bit that is MathQuill-specific is probably\r\n * the operatorname replacements.\r\n *\r\n * @param  {string} fromMQ a MathQuill-generated LaTeX expression\r\n * @return {string} the input expression with LaTeX commands converted to mathjs\r\n */\r\nexport default function mathquillToMathJS(fromMQ) {\r\n  const replacements = [\r\n    { tex: \"\\\\operatorname{diff}\", mathjs: \"diff\" },\r\n    { tex: \"\\\\operatorname{pdiff}\", mathjs: \"pdiff\" },\r\n    { tex: \"\\\\operatorname{curl}\", mathjs: \"curl\" },\r\n    { tex: \"\\\\operatorname{div}\", mathjs: \"div\" },\r\n    { tex: \"\\\\operatorname{norm}\", mathjs: \"norm\" },\r\n    { tex: \"\\\\operatorname{mod}\", mathjs: \"mod\" },\r\n    { tex: \"\\\\operatorname{abs}\", mathjs: \"abs\" },\r\n    { tex: \"\\\\operatorname{unitT}\", mathjs: \"unitT\" },\r\n    { tex: \"\\\\operatorname{unitN}\", mathjs: \"unitN\" },\r\n    { tex: \"\\\\operatorname{unitB}\", mathjs: \"unitB\" },\r\n    { tex: \"\\\\operatorname{arccosh}\", mathjs: \"arccosh\" },\r\n    { tex: \"\\\\operatorname{arcsinh}\", mathjs: \"arcsinh\" },\r\n    { tex: \"\\\\operatorname{arctanh}\", mathjs: \"arctanh\" },\r\n    { tex: \"\\\\cdot\", mathjs: \" * \" },\r\n    { tex: \"\\\\left\", mathjs: \"\" },\r\n    { tex: \"\\\\right\", mathjs: \"\" },\r\n    { tex: \"{\", mathjs: \"(\" },\r\n    { tex: \"}\", mathjs: \")\" },\r\n    { tex: \"~\", mathjs: \" \" },\r\n    { tex: \"\\\\\", mathjs: \" \" },\r\n  ];\r\n\r\n  // remove fractions, then apply replacements\r\n  const noFrac = fracToDivision(fromMQ);\r\n  const noBraceSub = convertSubscript(noFrac);\r\n  return replacements.reduce(\r\n    (acc, r) => replaceAll(acc, r[\"tex\"], r[\"mathjs\"]),\r\n    noBraceSub\r\n  );\r\n}\r\n\r\n/**\r\n * Recursively removes braces from LaTeX subscripts\r\n *   - example: x_{12foo_{bar123_{evenlower}}} --> x_12foo_bar123_evenlower\r\n */\r\nexport function convertSubscript(expr) {\r\n  const sub = \"_{\";\r\n  const subStart = expr.indexOf(sub);\r\n\r\n  if (subStart < 0) {\r\n    return expr;\r\n  }\r\n\r\n  const numStart = subStart + sub.length;\r\n  const closingBrace = expr.indexOf(\"}\", numStart);\r\n  const newExpr =\r\n    expr.slice(0, subStart) +\r\n    \"_\" +\r\n    expr.slice(numStart, closingBrace) +\r\n    expr.slice(closingBrace + 1);\r\n\r\n  return convertSubscript(newExpr);\r\n}\r\n\r\n/**\r\n * Recursively replaces LaTeX fractions with normal divison\r\n *   - example: \\frac{a}{1 + \\frac{b}{c}} --> {a}/{1 + {b}/{c}}\r\n */\r\nexport function fracToDivision(expr) {\r\n  const frac = \"\\\\frac\";\r\n  const fracStart = expr.indexOf(frac);\r\n  const numStart = fracStart + frac.length;\r\n\r\n  if (fracStart < 0) {\r\n    return expr;\r\n  }\r\n\r\n  const divIdx = findClosingBrace(expr, numStart);\r\n  // Remove frac, and add \"/\"\r\n  const newExpr =\r\n    expr.slice(0, fracStart) +\r\n    expr.slice(numStart, divIdx + 1) +\r\n    \"/\" +\r\n    expr.slice(divIdx + 1);\r\n\r\n  return fracToDivision(newExpr);\r\n}\r\n\r\nexport function capitalize(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\r\n}\r\n\r\nexport function escapeRegExp(str) {\r\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\r\n  // $& means the whole matched string\r\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n}\r\n\r\nexport function replaceAll(str, find, replaceWith) {\r\n  // from https://stackoverflow.com/a/1144788/2747370\r\n  return str.replace(new RegExp(escapeRegExp(find), \"g\"), replaceWith);\r\n}\r\n\r\nexport function findClosingBrace(str, startIdx) {\r\n  const braces = {\r\n    \"[\": \"]\",\r\n    \"<\": \">\",\r\n    \"(\": \")\",\r\n    \"{\": \"}\",\r\n  };\r\n\r\n  const openingBrace = str[startIdx];\r\n\r\n  const closingBrace = braces[openingBrace];\r\n\r\n  if (closingBrace === undefined) {\r\n    throw Error(\r\n      `${str} does not contain an opening brace at position ${startIdx}.`\r\n    );\r\n  }\r\n\r\n  let stack = 1;\r\n\r\n  // eslint-disable-next-line no-plusplus\r\n  for (let j = startIdx + 1; j < str.length; j++) {\r\n    if (str[j] === openingBrace) {\r\n      stack += +1;\r\n    } else if (str[j] === closingBrace) {\r\n      stack += -1;\r\n    }\r\n    if (stack === 0) {\r\n      return j;\r\n    }\r\n  }\r\n\r\n  // stack !== 0\r\n  throw Error(\r\n    `${str} has a brace that opens at position ${startIdx} but does not close.`\r\n  );\r\n}\r\n","// React\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst useStyles = makeStyles({\r\n  numPadRoot: {},\r\n  symbolPadRoot: {},\r\n  button: {\r\n    //flex: 1,\r\n  },\r\n});\r\n\r\nconst SymbolButton = ({ onClick, latex, symbol }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Button\r\n      className={classes.button}\r\n      variant=\"contained\"\r\n      onClick={() => onClick(latex)}\r\n    >\r\n      {symbol}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport const NumPad = (props) => {\r\n  const classes = useStyles();\r\n  const { onClick } = props;\r\n\r\n  const NumRow = ({ arr }) => {\r\n    return (\r\n      <Grid container item spacing={1} wrap=\"nowrap\">\r\n        {React.Children.toArray(\r\n          arr.map((num) => (\r\n            <Grid item>\r\n              {num !== null ? (\r\n                <SymbolButton onClick={onClick} latex={num} symbol={num} />\r\n              ) : (\r\n                <Button className={classes.button} disabled />\r\n              )}\r\n            </Grid>\r\n          ))\r\n        )}\r\n      </Grid>\r\n    );\r\n  };\r\n  return (\r\n    <Grid container spacing={1} wrap=\"nowrap\" direction=\"column\">\r\n      <NumRow arr={[1, 2, 3]} />\r\n      <NumRow arr={[4, 5, 6]} />\r\n      <NumRow arr={[7, 8, 9]} />\r\n      <NumRow arr={[null, 0, \".\"]} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport const SymbolPad = (props) => {\r\n  const { onClick } = props;\r\n  const symbols = [\r\n    { symbol: \"+\", latex: \"+\" },\r\n    { symbol: \"-\", latex: \"-\" },\r\n    { symbol: \"*\", latex: \"cdot\" },\r\n    { symbol: \"/\", latex: \"frac\" },\r\n    { symbol: \"\", latex: \"sqrt\" },\r\n    { symbol: \"^\", latex: \"^\" },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Grid container spacing={1}>\r\n        <Grid container item spacing={1}>\r\n          {React.Children.toArray(\r\n            symbols.map((obj) => {\r\n              return (\r\n                <Grid item>\r\n                  <SymbolButton\r\n                    onClick={onClick}\r\n                    latex={obj.latex}\r\n                    symbol={obj.symbol}\r\n                  />\r\n                </Grid>\r\n              );\r\n            })\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nNumPad.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nSymbolPad.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","// React\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\n// MUI\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n// Math related\r\nimport mathquillToMathJS from \"../../../util/latex/preprocessMathQuill\";\r\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\r\nimport * as math from \"mathjs\";\r\nimport { NumPad, SymbolPad } from \"./CalcTools\";\r\n\r\n// required for latex to format correctly\r\naddStyles();\r\nconst history = [];\r\nconst parser = math.parser();\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n  symbolPadGrid: {\r\n    paddingTop: 15,\r\n  },\r\n});\r\n\r\nconst LatexInput = (props) => {\r\n  const { onChange, onSubmit, mathquillDidMount } = props;\r\n\r\n  return (\r\n    <EditableMathField\r\n      latex=\"\"\r\n      style={{ height: \"auto\", fontSize: 50, flex: 1 }}\r\n      config={{\r\n        autoCommands: \"pi theta sqrt sum\",\r\n        autoOperatorNames:\r\n          \"sin cos tan feet ft inches in miles cm sech arcsec arsinh to rad deg radians degrees\",\r\n        handlers: {\r\n          enter: onSubmit,\r\n        },\r\n      }}\r\n      onChange={onChange}\r\n      mathquillDidMount={mathquillDidMount}\r\n    />\r\n  );\r\n};\r\n\r\nexport const Calculator = (props) => {\r\n  const { classes } = props;\r\n\r\n  const [expression, setExpression] = useState(\"\");\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n\r\n  const mathField = useRef(null);\r\n  const handleInputChange = (val) => {\r\n    setExpression(val.latex());\r\n  };\r\n\r\n  const handleSubmit = (val) => {\r\n    try {\r\n      const ans = parser.evaluate(mathquillToMathJS(val.latex()));\r\n      setAnswer(ans.toString());\r\n      setError(false);\r\n    } catch {\r\n      setAnswer(\"ERROR!!!!\");\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n  const handleMathquillMount = (val) => {\r\n    mathField.current = val;\r\n  };\r\n\r\n  const handleNumberPressed = (num) => {\r\n    mathField.current.write(num);\r\n    mathField.current.focus();\r\n  };\r\n\r\n  const handleSymbolPressed = (symbol) => {\r\n    mathField.current.cmd(symbol);\r\n    mathField.current.focus();\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <div className={classes.rootPadding}>\r\n        <InputBase\r\n          inputComponent={LatexInput}\r\n          inputProps={{\r\n            onChange: handleInputChange,\r\n            onSubmit: handleSubmit,\r\n            mathquillDidMount: handleMathquillMount,\r\n          }}\r\n          className={classes.input}\r\n          value={expression}\r\n          fullWidth\r\n        ></InputBase>\r\n        <Grid container spacing={2} className={classes.symbolPadGrid}>\r\n          <Grid item xs>\r\n            <NumPad onClick={handleNumberPressed} />\r\n          </Grid>\r\n          <Grid item xs>\r\n            <SymbolPad onClick={handleSymbolPressed} />\r\n          </Grid>\r\n        </Grid>\r\n        <Typography color={error ? \"error\" : \"initial\"}>{answer}</Typography>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Calculator);\r\n","// React\r\nimport React from \"react\";\r\n\r\n// MUI\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n});\r\n\r\nexport const EssayEditor = (props) => {\r\n  const { classes } = props;\r\n\r\n  // Do some redux thingy to set module to EssayEditor. This will tell hwbounty which module to go to on fullscreen (f)\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        justifyContent=\"center\"\r\n        alignContent=\"center\"\r\n        style={{ height: \"100%\" }}\r\n      >\r\n        <Typography variant=\"h5\">\r\n          Please enable fullscreen mode (f) to use\r\n        </Typography>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(EssayEditor);\r\n","import { Button, Card, Collapse, Container, FormControl, InputLabel, MenuItem, Select, TextField, Typography, withStyles } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst GasLaws = (props) => {\r\n\tconst [p, setP] = useState(1);\r\n\tconst [v, setV] = useState(22.4);\r\n\tconst [n, setN] = useState(1);\r\n\tconst [t, setT] = useState(273.15);\r\n\tconst [expanded, setExpanded] = useState(false);\r\n\tconst [solveFor, setSolveFor] = useState(0);\r\n\tconst handleSelect = (event, newValue) => {\r\n\t\tsetSolveFor(event.target.value)\r\n\t}\r\n\tconst calculate = ()=>{\r\n\t\t\r\n\t}\r\n\tconst handleTextChange = (event,nv,set)=>{\r\n\t\tset(event.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<Typography>Hi!</Typography>\r\n\t\t\t<Container>\r\n\t\t\t\t<TextField id=\"pressure\" label=\"Pressure (ATM)\" defaultValue={p} style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setP)} handle />\r\n\t\t\t\t<TextField id=\"volume\" label=\"Volume (L)\" defaultValue={v} style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setV)}/>\r\n\t\t\t\t<TextField id=\"moles\" label=\"# of Moles (n)\" defaultValue={n} style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setN)}/>\r\n\t\t\t\t<TextField disabled id=\"constant\" label=\"Gas Constant (R)\" defaultValue={0.0821} style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} />\r\n\t\t\t\t<TextField id=\"temperature\" label=\"Temperature (K)\" defaultValue={t} style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} onChange={(ev,nv)=>handleTextChange(ev,nv,setT)}/>\r\n\t\t\t\t<FormControl style={{\r\n\t\t\t\t\tmargin: 5\r\n\t\t\t\t}\r\n\t\t\t\t} >\r\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Solve For</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\tvalue={solveFor}\r\n\t\t\t\t\t\tonChange={handleSelect}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuItem value={0}>Pressure</MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={1}>Volume</MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={2}>Molarity</MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={3}>Temperature</MenuItem>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Container>\r\n\t\t\t<span>\r\n\r\n\t\t\t</span>\r\n\r\n\r\n\t\t\t<Collapse in={expanded}>\r\n\r\n\t\t\t</Collapse>\r\n\t\t</Card>\r\n\t);\r\n\r\n}\r\n\r\nconst styles = {\r\n\troot: {\r\n\t\theight: \"100%\",\r\n\t\tflex: 1,\r\n\t},\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tUI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(GasLaws));","// React\r\nimport { Fragment, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n// Modules\r\nimport Calculator from \"./Calculator/Calculator\";\r\nimport EssayEditor from \"./EssayEditor/EssayEditor\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport GasLaws from \"./GasLaws\";\r\nimport { Container } from \"@material-ui/core\";\r\n\r\nconst styles = {\r\n  root: {\r\n    height: \"100%\",\r\n    flex: 1,\r\n  },\r\n};\r\n\r\nexport const ModuleViewer = (props) => {\r\n  const {\r\n    classes,\r\n    // UI: { module },\r\n  } = props;\r\n  let loc = useLocation();\r\n  let modName = loc.pathname.split(\"/\").pop().toLowerCase();\r\n  const Module = (props) => {\r\n    switch (modName) {\r\n      case \"calculator\":\r\n        return <Calculator />;\r\n      case \"essay\":\r\n        return <EssayEditor />;\r\n      case \"gaslawscalc\":\r\n        return <GasLaws />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Module />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(ModuleViewer));\r\n","/**\r\n * @typedef {Player} Player\r\n * @property {Player} self\r\n * @property {SocketIO.Socket} connection\r\n * @property {Map<String,CleanedVideoData>} songInfoMap\r\n */\r\n\r\n/*\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n */\r\nimport socketClient, { io } from 'socket.io-client';\r\nconst getHighestThumbnail = (thumbnails) => {\r\n\tlet best = null;\r\n\tthumbnails.forEach(x => {\r\n\t\tif (!best) best = x;\r\n\t\tif (x.height * x.width > best.height * best.width) best = x;\r\n\t});\r\n\treturn best.url;\r\n}\r\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\r\n/**\r\n * \r\n * @param {Object} info \r\n * @returns {CleanedVideoData}\r\n */\r\nconst cleanAndParseInfo = (info) => {\r\n\treturn {\r\n\t\tsongName: info.title,\r\n\t\tsongAuthor: info.ownerChannelName,\r\n\t\tbestThumbnail: getHighestThumbnail(info.thumbnails),\r\n\t\turl: info.video_url,\r\n\t}\r\n}\r\nconst cleanAndParseInfoFromYAPI = (info) => {\r\n\treturn {\r\n\t\tsongName: info.items[0].snippet.title,\r\n\t\tsongAuthor: info.items[0].snippet.channelTitle,\r\n\t\tbestThumbnail: info.items[0].snippet.thumbnails.maxres || info.items[0].snippet.thumbnails.high || info.items[0].snippet.thumbnails.standard || info.items[0].snippet.thumbnails.medium || info.items[0].snippet.thumbnails.default,\r\n\t\turl: `https://youtu.be/${info.items[0].id}`,\r\n\t}\r\n}\r\nconst checkIfVideoOver = (vidElement) => {\r\n\treturn Number.isNaN(vidElement.duration) || (Math.abs(vidElement.duration - vidElement.currentTime) < 1 && !Number.isNaN(vidElement.currentTime / vidElement.duration) && vidElement.currentTime / vidElement.duration > 0.995)\r\n}\r\nclass Player {\r\n\t/**@type {Player} */\r\n\tstatic self;\r\n\r\n\tconstructor(updateMe) {\r\n\r\n\t\tthis.updateMe = updateMe;\r\n\t\tPlayer.self = Player.self || this;\r\n\t\tthis.songInfoMap = new Map();\r\n\t\twindow.URL = window.URL || window.webkitURL;\r\n\t\twindow.MediaSource = window.MediaSource || window.WebKitMediaSource;\r\n\t\t/** @type {SocketIO.Socket} */\r\n\t\tthis.socket = socketClient(\"https://api.hwbounty.help/\");\r\n\t\tthis.video = document.getElementById(\"streamingVideoForMusic\");\r\n\t\tthis.stopPlaying = false;\r\n\t\tthis.mediaSource = null;\r\n\t\t/** @type {SourceBuffer} */\r\n\t\tthis.sourceBuffer = null;\r\n\t\tthis.queue = [];\r\n\r\n\t\t\r\n\t\tthis.songQueue = [\r\n\t\t];\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * @type {Array<String>}\r\n\t\t\t */\r\n\t\t\tPlayer.self.songQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\r\n\t\t} catch (error) {\r\n\t\t\tPlayer.self.songQueue = [];\r\n\t\t}\r\n\t\tthis.played = [];\r\n\t\tthis.songCount = 0;\r\n\t\tthis.currentSong = {\r\n\r\n\t\t};\r\n\t\tthis.currentSongLink = \"\";\r\n\t\tthis.loop = false;\r\n\t\tthis.video.onended = this.processQueue;\r\n\t\tthis.socket.on(\"getTrackInfo\", this.handleSongInfo);\r\n\t\tthis.socket.on(\"addSongsToQueue\",this.addToQueue);\r\n\t\tthis.tryingToPlay = false;\r\n\t\t//change player info \"Reactively\"\r\n\t\tsetInterval(() => {\r\n\t\t\tthis.updateMe.setState(Object.assign(this.updateMe.state, { updateMe: !this.updateMe.state.updateMe }));\r\n\t\t\tthis.processQueue();\r\n\t\t}, 100);\r\n\t\tsetInterval(()=>{\r\n\t\t\tlocalStorage.setItem(\"queue\",JSON.stringify(this.songQueue));\r\n\t\t},250);\r\n\t\tthis.searchResults = null;\r\n\t\tthis.socket.on(\"querySongs\", (data) => {\r\n\t\t\tthis.searchResults = data\r\n\t\t});\r\n\t\t// this is so that We can reset the data connection and stuff when we need to\r\n\t}\r\n\t/**\r\n\t * @param {String} songURL\r\n\t */\r\n\tsendTrack(songURL) {\r\n\t\tthis.socket.emit('track', songURL);\r\n\t}\r\n\t/**\r\n\t * Plays a song instantly! DO NOT CALL THIS! WILL OVERRIDE WHATS CURRENTLY PLAYING\r\n\t * @param {String} songURL \r\n\t */\r\n\tplaySong(songURL) {\r\n\t\t// this.updateMe.setState(Object.assign(this.updateMe.state,{}))\r\n\t\tthis.tryingToPlay = true;\r\n\t\t(async ()=>{\r\n\t\t\tthis.mediaSource = new window.MediaSource();\r\n\t\t\tthis.video.src = window.URL.createObjectURL(this.mediaSource);\r\n\t\t\t\r\n\t\t\tthis.video.pause();\r\n\t\t\tthis.socket.emit('track', songURL);\r\n\t\t\tthis.currentSongLink = songURL;\r\n\t\t\twhile (this.mediaSource.readyState !== \"open\") await sleep(1);\r\n\t\t\tthis.video.volume = .5;\r\n\t\t\tthis.sourceBuffer = this.mediaSource.addSourceBuffer('video/webm; codecs=\"opus\"');\r\n\t\t\tthis.sourceBuffer.mode = \"sequence\";\r\n\t\t\tlet end = false;\r\n\t\t\tlet wait = true;\r\n\t\t\tthis.sourceBuffer.onupdateend = () => { wait = false };\r\n\t\t\tlet chunkcount = 0;\r\n\t\t\tlet trials = 0;\r\n\t\t\tsetInterval(()=>{\r\n\t\t\t\tif (trials >= 0) trials-=2;\r\n\t\t\t},100)\r\n\t\t\tlet inter = setInterval(() => {\r\n\t\t\t\tif (this.stopPlaying) clearInterval(inter);\r\n\t\t\t\tif (wait) return;\r\n\t\t\t\tif (trials > 20) return;\r\n\t\t\t\tif (this.queue.length && this.mediaSource.readyState === \"open\" && this.sourceBuffer) {\r\n\t\t\t\t\tlet res = this.queue.shift();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis.sourceBuffer.appendBuffer(res);\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\ttrials++;\r\n\t\t\t\t\t\tthis.queue.unshift(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 10);\r\n\r\n\t\t\tthis.socket.on(\"video-data-stream\", (data) => {\r\n\t\t\t\tif (data.link !== songURL) return\r\n\t\t\t\tlet uIntArray = new Uint8Array(data.chunk);\r\n\t\t\t\tif (chunkcount === 0) {\r\n\t\t\t\t\tthis.sourceBuffer.appendBuffer(uIntArray);\r\n\t\t\t\t\t// sourceBuffer.appendBuffer(uIntArray.buffer);\r\n\t\t\t\t\tchunkcount++;\r\n\t\t\t\t\tthis.tryingToPlay = false;\r\n\t\t\t\t\tthis.video.play();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.queue.push(uIntArray);\r\n\t\t\t\t// if (queue.length === 33) {\r\n\t\r\n\t\t\t\t// }\r\n\t\t\t})\r\n\t\t\tthis.socket.on(\"video-info\", (data) => {\r\n\t\t\t\tif (data.link !== songURL) return\r\n\t\t\t\tlet cleanedInfo = cleanAndParseInfo(data.data.videoDetails);\r\n\t\t\t\tthis.currentSong = cleanedInfo;\r\n\t\t\t\t\r\n\t\t\t\t// this.songInfoMap.set(songURL, cleanedInfo);\r\n\t\t\t})\r\n\t\t\tthis.socket.on(\"video-data-done\", () => {\r\n\t\t\t})\r\n\t\t})();\r\n\t\t\r\n\t}\r\n\taddToQueue(...songLinks) {\r\n\t\tPlayer.self.songQueue = Player.self.songQueue.concat(songLinks);\r\n\t}\r\n\thandleSongInfo(link, data) {\r\n\t\tif (data) {\r\n\t\t\tPlayer.self.songInfoMap.set(link, cleanAndParseInfoFromYAPI(data));\r\n\t\t} else {\r\n\t\t\tPlayer.self.songInfoMap.delete(link);\r\n\t\t}\r\n\t}\r\n\tprocessQueue() {\r\n\t\tPlayer.self.songQueue.forEach(x => {\r\n\t\t\tif (!Player.self.songInfoMap.has(x)) {\r\n\t\t\t\tPlayer.self.socket.emit(\"getTrackInfo\", x);\r\n\t\t\t\tPlayer.self.songInfoMap.set(x, \"LoadingInData\");\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (Player.self.tryingToPlay) return;\r\n\t\tif (!checkIfVideoOver(Player.self.video)) return;\r\n\t\tif (Player.self.loop) Player.self.songQueue.push(Player.self.currentSongLink);\r\n\t\tif (!Player.self.songQueue.length){\r\n\t\t\t// Player.self.currentSong = null;\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tlet newSong = Player.self.songQueue.shift();\r\n\t\tif (!newSong) return;\r\n\t\tPlayer.self.playSong(newSong);\r\n\t}\r\n\tsearch(query) {\r\n\t\tPlayer.self.socket.emit(\"querySongs\", query);\r\n\t}\r\n\r\n\r\n}\r\nexport default Player;","import { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Paper, Tab, Tabs } from \"@material-ui/core\";\r\nimport MusicPlayer from \"./MusicPlayer\";\r\nimport Player from \"./Player\";\r\nimport QueuePage from \"./QueuePage\";\r\nimport SearchMusic from \"./SearchPage\";\r\nimport \"../MusicModule/musicPlayer.css\";\r\nconst getHighestThumbnail = (thumbnails) => {\r\n\tlet best = null;\r\n\tthumbnails.forEach(x => {\r\n\t\tif (!best) best = x;\r\n\t\tif (x.height * x.width > best.height * best.width) best = x;\r\n\t});\r\n\treturn best.url;\r\n}\r\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\r\n/**\r\n * \r\n * @param {Object} info \r\n * @returns {CleanedVideoData}\r\n */\r\nconst cleanAndParseInfo = (info) => {\r\n\treturn {\r\n\t\tsongName: info.title,\r\n\t\tsongAuthor: info.ownerChannelName,\r\n\t\tbestThumbnail: getHighestThumbnail(info.thumbnails),\r\n\t\turl: info.video_url,\r\n\t}\r\n}\r\nclass MusicModule extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\taudionState: {\r\n\t\t\t\tstartedAt: null,\r\n\t\t\t\tloadingProcess: 0,\r\n\t\t\t},\r\n\t\t\tvolumeLevel: 2000,\r\n\t\t\tprogress: 0,\r\n\t\t\tplayState: 0,\r\n\t\t\tloading: false,\r\n\t\t\tsocket: null,\r\n\t\t\tduration: 0,\r\n\t\t\tcurrentSong: null,\r\n\t\t\ttab: 0,\r\n\t\t\tsongInfoMap: new Map(),\r\n\t\t\tupdateMe: false,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(props) {\r\n\t\tif (!localStorage.getItem(\"DBIdToken\")) return null;\r\n\t\tlet player = new Player(this);\r\n\t\t(async () => {\r\n\t\t\twhile (!player?.currentSong?.bestThumbnail) await sleep(1);\r\n\t\t\tthis.setState({});\r\n\t\t})();\r\n\t}\r\n\thandleTabChange(event, newValue, self) {\r\n\t\tself.setState(Object.assign(self.state, { tab: newValue }));\r\n\t};\r\n\trender() {\r\n\t\treturn null;\r\n\t\tif (!localStorage.getItem(\"DBIdToken\")) return null;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Container id=\"musicContainer\" style={{\r\n\t\t\t\t\tminWidth: 350,\r\n\t\t\t\t\tminHeight:500,\r\n\t\t\t\t}}>\r\n\r\n\t\t\t\t\t< Paper >\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={this.state.tab}\r\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\tonChange={(event, newValue) => this.handleTabChange(event, newValue, this)}\r\n\t\t\t\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label=\"Player\" />\r\n\t\t\t\t\t\t\t<Tab label=\"Queue\" />\r\n\t\t\t\t\t\t\t<Tab label=\"Search\" />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t{this.state.tab === 0 && <MusicPlayer player={document.getElementById(\"streamingVideoForMusic\")} />}\r\n\t\t\t\t\t\t\t{this.state.tab === 1 && <QueuePage player={document.getElementById(\"streamingVideoForMusic\")} />}\r\n\t\t\t\t\t\t\t{this.state.tab === 2 && <SearchMusic player={document.getElementById(\"streamingVideoForMusic\")} />}\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Paper >\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n}\r\nexport default connect()(MusicModule);\r\n/**\r\n * @typedef {Object} CleanedVideoData\r\n * @property {String} bestThumbnail\r\n * @property {String} songName\r\n * @property {String} songAuthor\r\n * @property {String} url\r\n */","class Notifications {\r\n\tconstructor() {\r\n\t\tif (Notification.permission !== \"granted\") {\r\n\t\t\tNotification.requestPermission();\r\n\t\t}\r\n\t}\r\n\tstatic pushNotification(icon, img, title, text) {\r\n\t\ttry {\r\n\t\t\tif (Notification.permission !== \"granted\") {\r\n\t\t\t\tNotification.requestPermission();\r\n\t\t\t}\r\n\t\t\treturn new Notification(title || \"HWBounty Notification\", {body: text || \"\", icon: icon, image: img});\r\n\t\t} catch (error) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\nexport default Notifications;","let lmBG = \"rgb(250,250,250)\";\r\nlet dmBG = \"rgb(40,40,40)\";\r\nexport const Pages = {\r\n\tHome: {\r\n\t\tname: \"Home\",\r\n\t\tdesc: \"The main landing page\",\r\n\t\ttags: \"home mainpage main dashboard nya\",\r\n\t\ticon: \"https://media.discordapp.net/attachments/806706215693975552/811328597297070150/dylandrip.png\",\r\n\t\tdefaultColorLightMode: lmBG,\r\n\t\tdefaultColorDarkMode: dmBG,\r\n\t\tpath: \"/\",\r\n\t},\r\n\tSchedule: {\r\n\t\tname: \"Schedule\",\r\n\t\tdesc: \"The Schedule page\",\r\n\t\ttags: \"class schedule time nya\",\r\n\t\ticon: \"https://dazai.app/assets/img/scenery/Screen%20Shot%202021-03-02%20at%2011.45.47%20PM.png\",\r\n\t\tdefaultColorLightMode: lmBG,\r\n\t\tdefaultColorDarkMode: dmBG,\r\n\t\tpath: \"/schedule\",\r\n\t},\r\n\tScheduleCatalog: {\r\n\t\tname: \"Schedule Catalog\",\r\n\t\tdesc: \"The Schedule catalog\",\r\n\t\ttags: \"class schedule time\",\r\n\t\ticon: \"https://dazai.app/assets/img/scenery/Screen%20Shot%202021-03-02%20at%2011.45.47%20PM.png\",\r\n\t\tdefaultColorLightMode: lmBG,\r\n\t\tdefaultColorDarkMode: dmBG,\r\n\t\tpath: \"/schedules\",\r\n\t},\r\n\tSettings: {\r\n\t\tname: \"Settings\",\r\n\t\tdesc: \"Change stuff!\",\r\n\t\ttags: \"darkmode lightmode \",\r\n\t\ticon: \"https://dazai.app/assets/img/scenery/Screen%20Shot%202021-03-02%20at%2011.45.47%20PM.png\",\r\n\t\tdefaultColorLightMode: lmBG,\r\n\t\tdefaultColorDarkMode: dmBG,\r\n\t\tpath: \"/settings\",\r\n\t}\r\n}\r\nexport default Pages;","import { Card, CardActionArea, CardContent, CardMedia, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport theme from \"../util/theme\";\r\nconst useStyles = makeStyles((theme) => ({\r\n\tcard: {\r\n\t\twidth: \"256px\",\r\n\r\n\t\tdisplay: \"inline-block\",\r\n\t\tmargin: \"25px\",\r\n\t\tpaddingTop: 0,\r\n\t\theight: \"200px\",\r\n\t\tzIndex: 100000000,\r\n\t\tboxShadow: \"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)!important\",\r\n\t},\r\n\tactionArea: {\r\n\t\t\r\n\t},\r\n\tmedia: {\r\n\t\theight: 120,\r\n\t},\r\n}));\r\nexport const ModuleCard = (props) => {\r\n\tconst classes = useStyles(props);\r\n\tconst history = useHistory();\r\n\tconst redirect = (path) => {\r\n\t\thistory.push(path);\r\n\t}\r\n\tconst {\r\n\t\ticon,\r\n\t\tname,\r\n\t\tdesc,\r\n\t\tpath,\r\n\t\tcolor,\r\n\t} = props;\r\n\treturn (\r\n\t\t<Card className={classes.card} style={{\r\n\t\t\tbackground: theme ? color: color,\r\n\t\t}}>\r\n\t\t\t<CardActionArea onClick={() => redirect(path)} className={classes.actionArea}>\r\n\t\t\t\t<CardMedia\r\n\t\t\t\t\tclassName={classes.media}\r\n\t\t\t\t\timage={icon}\r\n\t\t\t\t\ttitle={name}\r\n\t\t\t\t/>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n\t\t\t\t\t\t{name}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n\t\t\t\t\t\t{desc}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</CardActionArea>\r\n\t\t</Card>\r\n\t)\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n\tUI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps)(ModuleCard);","// React\r\nimport React, { Component, useEffect, useRef, useState } from \"react\";\r\n\r\n// MUI Stuff\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ArrowLeftRounded from \"@material-ui/icons/ArrowLeftRounded\";\r\nimport ArrowRightRounded from \"@material-ui/icons/ArrowRightRounded\";\r\nimport {\r\n  makeStyles,\r\n  MuiThemeProvider,\r\n  withStyles,\r\n} from \"@material-ui/core/styles\";\r\n\r\n// Components / Modules\r\nimport ForumSearch from \"../components/Home/ForumSearch\";\r\nimport KeybindEditor from \"../components/Home/KeybindEditor\";\r\nimport Calendar from \"../components/Calendar/Calendar\";\r\nimport ModuleViewer from \"../components/Modules/ModuleViewer\";\r\nimport FullscreenModuleViewer from \"../components/Modules/FullscreenModuleViewer\";\r\nimport Fuse from \"fuse.js\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport MusicModule from \"../components/MusicModule/MusicModule\";\r\nimport moment from \"moment\";\r\nimport Notifications from \"../util/notifications\";\r\nimport { Paper, TextField } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Pages from \"../util/pageDictionary\";\r\nimport { ModuleCard } from \"../components/ModuleCard\";\r\nconst CTime = (props) => {\r\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\r\n  return (\r\n    <div\r\n      style={{\r\n        verticalAlign: \"middle\",\r\n        width: \"100%\",\r\n        minWidth: \"100%\",\r\n      }}\r\n    >\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"3.5vw\",\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n          \"h:mm:ssA\"\r\n        )\r\n        }\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"1.5vw\",\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n          \"M/D/YYYY dddd\"\r\n        )\r\n        }\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\nconst CTimeSmall = (props) => {\r\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\r\n  return (\r\n    <div\r\n      style={{\r\n        verticalAlign: \"middle\",\r\n        width: \"100%\",\r\n        minWidth: \"100%\",\r\n      }}\r\n    >\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"10vw\",\r\n        }}\r\n        align=\"left\"\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n          \"h:mm:ssA\"\r\n        )\r\n        }\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"5.65vw\",\r\n        }}\r\n        align=\"left\"\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n          \"M/D/YYYY dddd\"\r\n        )\r\n        }\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\nlet lastTimeBasedNotif = 0;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(16),\r\n    height: theme.spacing(16),\r\n  },\r\n  paper: {\r\n    width: \"80vw\",\r\n    height: \"80vw\",\r\n    display: \"inline-block\",\r\n  },\r\n  title: {\r\n    fontSize: \"60px\",\r\n    // fontFamily: \"\",\r\n  },\r\n  formLabel: {\r\n    display: \"block\",\r\n  },\r\n  formGroup: {\r\n    display: \"inline\",\r\n  },\r\n  card: {\r\n    boxShadow:\r\n      \"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)!important\",\r\n  },\r\n  timeUntilText: {\r\n    fontSize: window.innerHeight / 25,\r\n    fontFamily: \"Nunito\",\r\n  },\r\n  timeUntilTextMobile: {\r\n    fontSize: window.innerWidth / 20,\r\n    fontFamily: \"Nunito\",\r\n  }\r\n}));\r\nfunction useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n  return null;\r\n}\r\nconst useForceUpdate = () => {\r\n  const set = useState(0)[1];\r\n  return () => set((s) => s + 1);\r\n};\r\nexport const Home = (props) => {\r\n  const {\r\n    // classes,\r\n    user: { authenticated },\r\n  } = props;\r\n  const forceUpdate = useForceUpdate();\r\n  const classes = useStyles();\r\n  const [rerenderPage, setRerenderPage] = useState(0);\r\n  useEffect(() => {\r\n    setTimeout(() => setInterval(forceUpdate, 125), 1000 - (Date.now() % 1000));\r\n  });\r\n\r\n  const history = useHistory();\r\n  const redirectToSchedule = () => {\r\n    history.push(\"/schedule\");\r\n  };\r\n  const getTimePhrase = () => {\r\n    try {\r\n      if (!localStorage.getItem(\"cachedSchedule\")) return \"\";\r\n      let scheduleOBJ = JSON.parse(localStorage.getItem(\"cachedSchedule\"));\r\n      let schedule = JSON.parse(scheduleOBJ.schedule.schedule);\r\n      let user = JSON.parse(localStorage.getItem(\"user\"));\r\n      let allClasses = scheduleOBJ.classes;\r\n      let convertedMoment = moment().tz(schedule.timePeriod).utcOffset();\r\n      let currentMoment = moment().utcOffset();\r\n      let currentTime = moment();\r\n      let getPeriodName = (periodID) => {\r\n        return (\r\n          JSON.parse(scheduleOBJ.schedule.nameOverrides)[periodID] || \"Break\"\r\n        );\r\n      };\r\n      let dotw = [\r\n        \"monday\",\r\n        \"tuesday\",\r\n        \"wednesday\",\r\n        \"thursday\",\r\n        \"friday\",\r\n        \"saturday\",\r\n        \"sunday\",\r\n      ][moment().isoWeekday() - 1];\r\n      let formattedClasses =\r\n        schedule[dotw] &&\r\n        schedule[dotw].map((clas) => {\r\n          return {\r\n            period: clas.period,\r\n            timeStart:\r\n              moment(clas.timeStart, \"hh:mma\")\r\n                .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n                .unix() * 1000,\r\n            timeEnd:\r\n              moment(clas.timeEnd, \"hh:mma\")\r\n                .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n                .unix() * 1000,\r\n          };\r\n        });\r\n      //Check for current class first\r\n      let currentClass = formattedClasses.filter(\r\n        (x) => x.timeStart < Date.now() && Date.now() < x.timeEnd\r\n      )[0];\r\n\r\n      if (currentClass) {\r\n        let endingInString = `${currentClass.timeEnd - Date.now() > 60000\r\n            ? currentClass.timeEnd - Date.now() > 3600000\r\n              ? `${Math.round(\r\n                moment.duration(currentClass.timeEnd - Date.now()).asHours()\r\n              )} hours`\r\n              : `${Math.round(\r\n                moment.duration(currentClass.timeEnd - Date.now()).asMinutes()\r\n              )} minutes`\r\n            : `${Math.round(\r\n              moment.duration(currentClass.timeEnd - Date.now()).asSeconds()\r\n            )} seconds`\r\n          }`;\r\n\r\n        //Try to push a notif if class is starting soon\r\n        if (\r\n          currentClass.timeEnd - Date.now() < 120 * 1000 &&\r\n          Date.now() - lastTimeBasedNotif > 240 * 1000\r\n        ) {\r\n          lastTimeBasedNotif = Date.now();\r\n\r\n          Notifications.pushNotification(\r\n            undefined,\r\n            undefined,\r\n            `${getPeriodName(currentClass.period)} is ending soon!`,\r\n            `Hey ${user.firstName}, ${getPeriodName(\r\n              currentClass.period\r\n            )} is about to end in ${endingInString}!`\r\n          );\r\n        }\r\n\r\n        return `${getPeriodName(\r\n          currentClass.period\r\n        )} ends in ${endingInString}`;\r\n      }\r\n      //Check for next upcoming class\r\n      let nextClass = formattedClasses.filter(\r\n        (x) => x.timeStart > Date.now()\r\n      )[0];\r\n\r\n      if (nextClass) {\r\n        let startingInString = `${nextClass.timeStart - Date.now() > 60000\r\n            ? nextClass.timeStart - Date.now() > 3600000\r\n              ? `${Math.round(\r\n                moment.duration(nextClass.timeStart - Date.now()).asHours()\r\n              )} hours`\r\n              : `${Math.round(\r\n                moment.duration(nextClass.timeStart - Date.now()).asMinutes()\r\n              )} minutes`\r\n            : `${Math.round(\r\n              moment.duration(nextClass.timeStart - Date.now()).asSeconds()\r\n            )} seconds`\r\n          }`;\r\n        if (\r\n          nextClass.timeStart - Date.now() < 120 * 1000 &&\r\n          Date.now() - lastTimeBasedNotif > 240 * 1000\r\n        ) {\r\n          lastTimeBasedNotif = Date.now();\r\n\r\n          Notifications.pushNotification(\r\n            undefined,\r\n            undefined,\r\n            `${getPeriodName(nextClass.period)} is starting soon!`,\r\n            `Hey ${user.firstName}, ${getPeriodName(\r\n              nextClass.period\r\n            )} is about to start in ${startingInString}!`\r\n          );\r\n        }\r\n\r\n        return `${getPeriodName(\r\n          nextClass.period\r\n        )} starts in ${startingInString}`;\r\n      }\r\n\r\n      //Check for what was the previous class\r\n      let lastClass = formattedClasses\r\n        .filter((x) => Date.now() > x.timeEnd)\r\n        .pop();\r\n      if (lastClass) {\r\n        let lastEnded = `${Date.now() - lastClass.timeEnd > 60000\r\n            ? Date.now() - lastClass.timeEnd > 60000\r\n              ? `${Math.round(\r\n                moment.duration(Date.now() - lastClass.timeEnd).asHours()\r\n              )} hours`\r\n              : `${Math.round(\r\n                moment.duration(Date.now() - lastClass.timeEnd).asMinutes()\r\n              )} minutes`\r\n            : `${Math.round(\r\n              moment.duration(Date.now() - lastClass.timeEnd).asSeconds()\r\n            )} seconds`\r\n          }`;\r\n        return `${getPeriodName(lastClass.period)} ended ${lastEnded} ago`;\r\n      }\r\n\r\n      //If no classes exist for the day\r\n      return `No classes today! Take a break, you deserve it :)`;\r\n    } catch (error) {\r\n      return \"\";\r\n    }\r\n  };\r\n  const renderSearchPages = () => {\r\n    const {\r\n      UI: { theme },\r\n    } = props;\r\n    let query = document.getElementById(\"pageSearchBox\")?.value;\r\n    if (!query) return null;\r\n    const fuseOptions = {\r\n      includeScore: true,\r\n      // Search in `author` and in `tags` array\r\n      keys: [\"name\", \"description\", \"tags\"],\r\n    };\r\n    const pageArray = Object.values(Pages);\r\n    const fuse = new Fuse(pageArray, fuseOptions);\r\n    return (\r\n      <div>\r\n        {React.Children.toArray(\r\n          fuse\r\n            .search(query)\r\n            .filter((x, i) => i < 10)\r\n            .map((result) => {\r\n              return (\r\n                <ModuleCard\r\n                  icon={result.item.icon}\r\n                  name={result.item.name}\r\n                  desc={result.item.desc}\r\n                  path={result.item.path}\r\n                  color={\r\n                    theme\r\n                      ? result.item.defaultColorDarkMode\r\n                      : result.item.defaultColorLightMode\r\n                  }\r\n                />\r\n              );\r\n            })\r\n        )}\r\n      </div>\r\n    );\r\n    // ModuleCard\r\n  };\r\n  if (window.innerWidth >= 1250) {\r\n    return (\r\n      <div >\r\n\r\n        <Card onClick={redirectToSchedule} classes={classes.time} style={{\r\n          position: \"fixed\",\r\n          width: \"30vw\",\r\n          maxHeight: \"40%\",\r\n          borderRadius: 10,\r\n          top: \"10%\",\r\n          left: \"5%\",\r\n          paddingLeft: 20,\r\n          textAlign: \"center\",\r\n        }}>\r\n          <Typography className={classes.timeUntilText} align=\"left\">{getTimePhrase()}</Typography>\r\n          {<CTime />}\r\n\r\n        </Card>\r\n        <Card\r\n          style={{\r\n            position: \"absolute\",\r\n            width: \"55vw\",\r\n            maxHeight: \"200px\",\r\n            borderRadius: 10,\r\n            top: \"10%\",\r\n            left: \"40%\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <form>\r\n            <TextField\r\n              placeholder={\"Search for Page...\"}\r\n              label={\"Search\"}\r\n              classes={classes.searchBox}\r\n              id=\"pageSearchBox\"\r\n              style={{\r\n                width: \"90%\",\r\n              }}\r\n            />\r\n          </form>\r\n        </Card>\r\n        <Card\r\n          style={{\r\n            position: \"absolute\",\r\n            width: \"55vw\",\r\n            maxHeight: \"40%\",\r\n            minHeight: \"256px\",\r\n            height: \"256px\",\r\n            borderRadius: 10,\r\n            top: \"calc(130px + 15%)\",\r\n            left: \"40%\",\r\n            textAlign: \"center\",\r\n            padding: \"0\",\r\n            overflowX: \"scroll\",\r\n          }}\r\n        >\r\n          {React.Children.toArray(renderSearchPages())}\r\n        </Card>\r\n        <Typography\r\n          style={{\r\n            position: \"absolute\",\r\n            width: \"55vw\",\r\n            maxHeight: \"40%\",\r\n            minHeight: \"256px\",\r\n            height: \"256px\",\r\n            borderRadius: 10,\r\n            top: \"calc(300px + 32vh)\",\r\n            left: \"40%\",\r\n            // marginTop:\"100\",\r\n            textAlign: \"center\",\r\n            padding: \"0\",\r\n            marginBottom: \"100px\",\r\n            overflowX: \"scroll\",\r\n            fontFamily: \"Nunito\",\r\n            fontSize: \"32px\",\r\n          }}\r\n          variant=\"h5\"\r\n        >\r\n          Recommended Modules\r\n        </Typography>\r\n        <Card\r\n          style={{\r\n            position: \"absolute\",\r\n            width: \"55vw\",\r\n            maxHeight: \"40%\",\r\n            minHeight: \"256px\",\r\n            height: \"256px\",\r\n            borderRadius: 10,\r\n            top: \"calc(350px + 33vh)\",\r\n            left: \"40%\",\r\n            // marginTop:\"100\",\r\n            textAlign: \"center\",\r\n            padding: \"0\",\r\n            marginBottom: \"100px\",\r\n            overflowX: \"scroll\",\r\n          }}\r\n        >\r\n          {React.Children.toArray(renderSearchPages())}\r\n        </Card>\r\n\r\n        {/* <ForumSearch />\r\n        <DesktopLayout />\r\n        <MobileLayout /> */}\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <div >\r\n\r\n        <Card onClick={redirectToSchedule} classes={classes.time} style={{\r\n          width: \"80vw\",\r\n          maxHeight: \"40%\",\r\n          borderRadius: 10,\r\n          paddingLeft: 20,\r\n          margin: \"10vw\",\r\n          textAlign: \"center\",\r\n        }}>\r\n          <Typography className={classes.timeUntilTextMobile} align=\"left\">{getTimePhrase()}</Typography>\r\n          {<CTimeSmall />}\r\n\r\n        </Card>\r\n        <Card style={{\r\n          width: \"80vw\",\r\n          margin: \"10vw\",\r\n          maxHeight: \"40%\",\r\n\r\n          borderRadius: 10,\r\n          textAlign: \"center\",\r\n        }}>\r\n          <form>\r\n            <TextField placeholder={\"Search for Page...\"} label={\"Search\"} classes={classes.searchBox} id=\"pageSearchBox\" style={{\r\n              width: \"90%\",\r\n            }} />\r\n          </form>\r\n        </Card>\r\n        <Card style={{\r\n          width: \"80vw\",\r\n          margin: \"10vw\",\r\n          maxHeight: \"40%\",\r\n          minHeight: \"256px\",\r\n          height: \"256px\",\r\n          borderRadius: 10,\r\n          textAlign: \"center\",\r\n          overflowX: \"scroll\",\r\n        }}>\r\n          {React.Children.toArray(renderSearchPages())}\r\n        </Card>\r\n        <Typography style={{\r\n          width: \"100vw\",\r\n          borderRadius: 10,\r\n          // marginTop:\"100\",\r\n          textAlign: \"center\",\r\n          padding: \"0\",\r\n          fontFamily: \"Nunito\",\r\n          fontSize: \"32px\"\r\n        }} variant=\"h5\" align=\"center\">Recommended Modules</Typography>\r\n        <Card style={{\r\n          width: \"80vw\",\r\n          margin: \"10vw\",\r\n          maxHeight: \"40%\",\r\n          minHeight: \"256px\",\r\n          height: \"256px\",\r\n          borderRadius: 10,\r\n          textAlign: \"center\",\r\n          overflowX: \"scroll\",\r\n        }}>\r\n          {React.Children.toArray(renderSearchPages())}\r\n        </Card>\r\n\r\n        {/* <ForumSearch />\r\n        <DesktopLayout />\r\n        <MobileLayout /> */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","// React\r\n\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\n// MUI Stuff\r\n\r\nconst Modules = (props) => {\r\n  return (\r\n    <Paper>\r\n      <div>hello sir</div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Modules;\r\n","import {\r\n  Button,\r\n  Card,\r\n  CircularProgress,\r\n  Container,\r\n  Snackbar,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\r\nclass SignUpPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstNameError: \"\",\r\n      lastNameError: \"\",\r\n      usernameError: \"\",\r\n      emailError: \"\",\r\n      passwordError: \"\",\r\n      cPasswordError: \"\",\r\n      loading: false,\r\n      emailVerif: false,\r\n    };\r\n  }\r\n  componentDidMount() {}\r\n  signup(self) {\r\n    self.setState({ loading: true });\r\n    let firstName = document.getElementById(\"firstName\").value;\r\n    let lastName = document.getElementById(\"lastName\").value;\r\n    let username = document.getElementById(\"username\").value;\r\n    let email = document.getElementById(\"email\").value;\r\n    let password = document.getElementById(\"password\").value;\r\n    let cpassword = document.getElementById(\"cpassword\").value;\r\n    if (!firstName)\r\n      self.setState({ firstNameError: \"This field is required!\" });\r\n    if (!lastName) self.setState({ lastNameError: \"This field is required!\" });\r\n    if (!username) self.setState({ usernameError: \"This field is required!\" });\r\n    if (!email) self.setState({ emailError: \"This field is required!\" });\r\n    if (!password)\r\n      return self.setState({ passwordError: \"This field is required!\" });\r\n    if (password !== cpassword)\r\n      self.setState({\r\n        passwordError: \"Passwords do not match!\",\r\n        cPasswordError: \"Passwords do not match!\",\r\n      });\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email))\r\n      self.setState({ emailError: \"Invalid Email!\" });\r\n    if (username.length < 3)\r\n      self.setState({\r\n        usernameError: \"Username must be 3 or more characters long!\",\r\n      });\r\n    if (!username.match(/^[a-zA-Z0-9_]*$/))\r\n      self.setState({ usernameError: \"Username must be alphanumeric\" });\r\n    //Check if usernameTaken\r\n    //-1 = Failed, 0 = pending, 1 = checks passed\r\n    let processReady = 0;\r\n    (async () => {\r\n      let res = await axios.get(`${hwbountyAPI}/usernameTaken/${username}`);\r\n      if (res.data) {\r\n        self.setState({ usernameError: \"This username already exists!\" });\r\n        processReady = -1;\r\n      } else {\r\n        processReady++;\r\n      }\r\n    })();\r\n    (async () => {\r\n      let res = await axios.get(`${hwbountyAPI}/emailTaken/${email}`);\r\n      if (res.data) {\r\n        self.setState({ emailError: \"This is already in use!\" });\r\n        processReady = -1;\r\n      } else {\r\n        processReady++;\r\n      }\r\n    })();\r\n    (async () => {\r\n      while (processReady === 0 || processReady === 1) await sleep(10);\r\n      if (processReady === -1) return self.setState({ loading: false });\r\n      //Process signup;\r\n      let signupRes = await axios.post(`${hwbountyAPI}/signup`, {\r\n        email: email,\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        username: username,\r\n        password: password,\r\n      });\r\n      if (signupRes.status === 200 && signupRes.data)\r\n        self.setState({ emailVerif: true, loading: false });\r\n    })();\r\n  }\r\n  onTextChange(self) {\r\n    self.setState({\r\n      firstNameError: \"\",\r\n      lastNameError: \"\",\r\n      usernameError: \"\",\r\n      emailError: \"\",\r\n      passwordError: \"\",\r\n      cPasswordError: \"\",\r\n    });\r\n  }\r\n  render() {\r\n    if (localStorage.getItem(\"DBIdToken\")) this.props.history.push(\"/\");\r\n    return (\r\n      <Container\r\n        style={{\r\n          paddingLeft: window.innerWidth <= 1300 ? \"0vw\" : \"20vw\",\r\n          paddingRight: window.innerWidth <= 1300 ? \"0vw\" : \"20vw\",\r\n        }}\r\n      >\r\n        <Snackbar open={this.state.emailVerif} autoHideDuration={10000}>\r\n          <Alert severity=\"success\">\r\n            We have successfully recieved your signup! Please check your email\r\n            for the next steps!\r\n          </Alert>\r\n        </Snackbar>\r\n        <Card>\r\n          <img\r\n            src={\r\n              this.props.UI.theme\r\n                ? \"https://cdn.discordapp.com/attachments/836672960566919228/836863806905778186/logo_min_white.png\"\r\n                : \"https://cdn.discordapp.com/attachments/806706215693975552/832762321214111765/logo_min.png\"\r\n            }\r\n            height=\"100\"\r\n          ></img>\r\n          <Typography\r\n            variant=\"h5\"\r\n            style={{\r\n              fontSize: \"3vw\",\r\n            }}\r\n          >\r\n            Registration Form\r\n          </Typography>\r\n          <form autoComplete=\"off\">\r\n            <div style={{ marginBottom: 10 }}>\r\n              <TextField\r\n                required\r\n                error={this.state.firstNameError}\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                variant=\"outlined\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 200,\r\n                }}\r\n                helperText={this.state.firstNameError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"lastName\"\r\n                error={this.state.lastNameError}\r\n                label=\"Last Name\"\r\n                variant=\"outlined\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 200,\r\n                }}\r\n                helperText={this.state.lastNameError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n            </div>\r\n            <div style={{ marginBottom: 5 }}>\r\n              <TextField\r\n                required\r\n                id=\"username\"\r\n                error={this.state.usernameError}\r\n                label=\"Username\"\r\n                variant=\"outlined\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 410,\r\n                }}\r\n                helperText={this.state.usernameError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n            </div>\r\n            <div style={{ marginBottom: 10 }}>\r\n              <TextField\r\n                required\r\n                id=\"email\"\r\n                error={this.state.emailError}\r\n                label=\"Email\"\r\n                variant=\"outlined\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 410,\r\n                }}\r\n                helperText={this.state.emailError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                required\r\n                id=\"password\"\r\n                error={this.state.passwordError}\r\n                label=\"Password\"\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 200,\r\n                }}\r\n                helperText={this.state.passwordError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"cpassword\"\r\n                error={this.state.cPasswordError}\r\n                label=\"Confirm Password\"\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                style={{\r\n                  margin: 5,\r\n                  width: 200,\r\n                }}\r\n                helperText={this.state.cPasswordError}\r\n                onChange={(x) => this.onTextChange(this)}\r\n              />\r\n            </div>\r\n          </form>\r\n          <Button\r\n            disabled={this.state.loading}\r\n            style={{\r\n              margin: 40,\r\n              fontSize: 16,\r\n            }}\r\n            variant=\"outlined\"\r\n            onClick={(x) => this.signup(this)}\r\n          >\r\n            {\" \"}\r\n            {this.state.loading ? <CircularProgress size=\"28px\" /> : \"Sign Up\"}\r\n          </Button>\r\n        </Card>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default connect((state) => ({ UI: state.UI }))(withRouter(SignUpPage));\r\n","const badges = {\r\n\tstaff : {\r\n\t\tname: \"Verified Staff\",\r\n\t\tdescription: \"Given to the people who helped make or moderate the site!\",\r\n\t\tcolor: \"rgb(105,180,172)\"\r\n\t},\r\n\tbackendDev: {\r\n\t\tname: \"Backend Developer\",\r\n\t\tdescription: \"Does backend for the site ( Handle auth, like all the raw data)\",\r\n\t\tcolor: \"rgb(170,128,255)\"\r\n\t},\r\n\tdesigner: {\r\n\t\tname: \"Designer\",\r\n\t\tdescription: \"Makes the website look actually not bad.\",\r\n\t\tcolor: \"rgb(0,179,89)\"\r\n\t},\r\n}\r\nexport default badges;","import {\r\n\tAvatar,\r\n\tCard,\r\n\tChip,\r\n\tFade,\r\n\tmakeStyles,\r\n\tModal,\r\n\twithStyles,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport {\r\n\tButton,\r\n\tContainer,\r\n\tList,\r\n\tListItem,\r\n\tPaper,\r\n\tTextField,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\n\r\nimport Fuse from \"fuse.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\nimport badges from \"../util/badges\";\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { connect } from \"react-redux\";\r\n/*\r\nTODO: remove mui theme provider here, it should work without it!!!\r\n(maybe check pallete or something?, color is sent but dark mode is not)\r\n*/\r\n\r\nconst chipStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tfontSize: (props) => `${props.size * 0.8125}rem`,\r\n\t\theight: (props) => `${props.size * 32}px`,\r\n\t\tborderRadius: \"9999px\",\r\n\t\tbackgroundColor: (props) => `${props.color}!important`,\r\n\t\tmargin: \"10px\",\r\n\t},\r\n\tavatar: {\r\n\t\t\"&&\": {\r\n\t\t\theight: (props) => `${props.size * 24}px`,\r\n\t\t\twidth: (props) => `${props.size * 24}px`,\r\n\t\t\tfontSize: (props) => `${props.size * 0.75}rem`\r\n\t\t}\r\n\t},\r\n\tdeleteIcon: {\r\n\t\theight: (props) => `${props.size * 22}px`,\r\n\t\twidth: (props) => `${props.size * 22}px`,\r\n\t\tcolor: \"green\"\r\n\t}\r\n}));\r\nconst CustomChip = (props) => {\r\n\tconst { size = 1, color = \"rgb(0,0,0)\", ...restProps } = props;\r\n\tconst classes = chipStyles({ size, color });\r\n\r\n\treturn (\r\n\t\t<Chip\r\n\t\t\tclassName={classes.root}\r\n\t\t\tclasses={{ avatar: classes.avatar, deleteIcon: classes.deleteIcon }}\r\n\t\t\t{...restProps}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n\t...theme.spreadIt,\r\n});\r\nconst useStyles = makeStyles({\r\n\tlarge: {\r\n\t\twidth: \"100px\",\r\n\t\theight: \"100px\",\r\n\r\n\t},\r\n\tprofileDiv: {\r\n\t\tposition: \"relative\",\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\ttransform: \"translate(25%,0%)\",\r\n\t\tmarginTop: \"1vh\",\r\n\t\tborderRadius: 1000,\r\n\t\twidth: \"20vw\",\r\n\t\theight: \"20vw\",\r\n\t\tboxShadow: \"0px 2px 5px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\",\r\n\r\n\r\n\t},\r\n\thoverBlur: {\r\n\t\t\"&:hover\": {\r\n\t\t\tboxShadow: \"14px 20px 20px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\",\r\n\t\t\t\"-webkit-filter\": \"blur(5px)\",\r\n\t\t\t\"-moz-filter\": \"blur(5px)\",\r\n\t\t\t\"-o-filter\": \"blur(5px)\",\r\n\t\t\t\"-ms-filter\": \"blur(5px)\",\r\n\t\t\t\"filter\": \"blur(5px)\",\r\n\t\t},\r\n\t},\r\n\tprofileBuffer: {\r\n\t\twidth: \"10vw\",\r\n\t\theight: \"24vw\",\r\n\t},\r\n\tprofileHoverText: {\r\n\t\t\"&:hover\": {\r\n\r\n\t\t\topacity: 0.5,\r\n\t\t},\r\n\t\t// verticalAlign: \"middle!important\",\r\n\t\tfontSize: window.innerWidth / 50,\r\n\t\tcolor: \"rgb(239,239,239)\",\r\n\t\topacity: 0,\r\n\t\tbackgroundColor: \"rgba(0,0,0,1)\",\r\n\t\tzIndex: 100000,\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n\tprofileHoverTextText: {\r\n\t\t// verticalAlign: \"middle!important\",\r\n\t\tfontSize: window.innerWidth / 50,\r\n\t\tzIndex: 100000,\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tposition: \"absolute\",\r\n\t\ttransform: \"translate(50%,50%)\",\r\n\t\tcolor: \"rgb(239,239,239)\",\r\n\t},\r\n\tcard: {\r\n\t\tborderRadius: \"1vw!important\",\r\n\t\tbackground: theme => theme ? \"rgb(67,67,67)\" : \"rgb(239,239,239)\",\r\n\t\tboxShadow: \"0px 2px 5px -1px rgb(0 0 0 / 20%), 4px 6px 8px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%) !important\"\r\n\t},\r\n\tmainInfoCard: {\r\n\t\tposition: \"relative\",\r\n\t\tmaxWidth: \"30%\",\r\n\t\tmaxHeight: \"80%\",\r\n\t\tminWidth: \"30%\",\r\n\t\tminHeight: \"80%\",\r\n\t\theight: \"90vh!important\",\r\n\t\tdisplay: \"block\",\r\n\t\tmarginTop: \"5%\",\r\n\t\tmarginLeft: \"5%\",\r\n\t},\r\n\tnameandPasswordCard: {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"10%\",\r\n\t\tright: \"10%\",\r\n\t\tmargin: 0,\r\n\t\tmaxHeight: \"25%\",\r\n\t\tminWidth: \"50%\",\r\n\t\tminHeight: \"25%\",\r\n\t},\r\n\tmainInfoEverything: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tname: {\r\n\t\tmarginTop: \"3vh\",\r\n\t\tfontSize: 48,\r\n\t},\r\n\tbio: {\r\n\t\tmarginTop: \"3vh\",\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tfontSize: window.innerHeight / 50,\r\n\t\tmaxWidth: \"15vw\",\r\n\t\tdisplay: \"inline-block\",\r\n\t},\r\n\ttext: {\r\n\t\tcolor: theme => theme ? \"rgb(252,252,252)\" : \"rgb(0,0,0)\",\r\n\t},\r\n\tDMtext: {\r\n\t\tcolor: theme => theme ? \"rgb(252,252,252)\" : \"rgb(0,0,0)\",\r\n\t},\r\n\tinfoLabel: {\r\n\t\tfontFamily: \"Poppins\",\r\n\t\tfontSize: window.innerHeight / 50,\r\n\t\tmarginLeft: \"5%\",\r\n\t\ttextAlign: \"left\",\r\n\t},\r\n\tinfoText: {\r\n\t\tfontFamily: \"Nunito\",\r\n\t\tfontSize: window.innerHeight / 30,\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tchip: {\r\n\t\tsize: \"large\",\r\n\t\t// height: window.innerHeight / \r\n\t},\r\n\tbalanceCard: {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"40%\",\r\n\t\tright: \"30%\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tmaxHeight: \"10%\",\r\n\t\tminWidth: \"30%\",\r\n\t\tminHeight: \"10%\",\r\n\t},\r\n\tbalanceText: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"10%\",\r\n\t\ttransform: \"translate(0%,-50%)\"\r\n\t}\r\n});\r\nexport const Profile = (props) => {\r\n\tconst {\r\n\t\tUI: { theme },\r\n\t} = props;\r\n\tconst [userData, setUserData] = useState(null);\r\n\tconst [fetching, setFetching] = useState(false);\r\n\tconst [error, setError] = useState(false);\r\n\tconst [editingBio, setEditingBio] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst classes = useStyles(theme);\r\n\tconst [bio, setBio] = useState(\"\");\r\n\tconst [pfp, setPfp] = useState(\"\");\r\n\tconst [ShowPfpChangeMSG, setShowPfpChangeMSG] = useState(false);\r\n\tconst onClickPfp = () => {\r\n\t\tdocument.getElementById(\"pfpFileInput\").click();\r\n\t}\r\n\tconst { enqueueSnackbar } = useSnackbar();\r\n\tconst renderChips = (data) => {\r\n\t\tif (!data) return null;\r\n\t\tdata = data.split(\",\");\r\n\t\tif (parseInt(userData?.premiumEndsAt) && Date.now() < parseInt(userData.premiumEndsAt)) data.push({\r\n\t\t\t// premiumEndsAt\r\n\t\t\tname: \"Premium Member\",\r\n\t\t\tcolor: \"rgb(118,137,211)\",\r\n\t\t\tdescription: `A Premium member of HWBounty! Ends in ${moment(parseInt(JSON.parse(localStorage.getItem(\"user\"))?.premiumEndsAt)).fromNow()}`\r\n\t\t})\r\n\t\treturn React.Children.toArray(\r\n\t\t\tdata.map((x) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CustomChip\r\n\t\t\t\t\t\tlabel={x.name || badges[x]?.name || \"Unknown Badge!\"}\r\n\t\t\t\t\t\tcolor={x.color || badges[x]?.color}\r\n\t\t\t\t\t\tonClick={() => enqueueSnackbar(`${x.description || badges[x].description}`)}\r\n\t\t\t\t\t\tsize={(window.innerHeight * window.innerWidth) ** 0.025}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t};\r\n\tif (error) {\r\n\t\t// history.push()\r\n\t\treturn null;\r\n\t}\r\n\tif (!userData && !fetching) {\r\n\t\tsetFetching(true);\r\n\t\t(async () => {\r\n\t\t\tlet fetchres = await axios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${hwbountyAPI}/user/${history.location.pathname.split(\"/\").pop()}`\r\n\t\t\t\t)\r\n\t\t\t\t.catch((er) => {\r\n\t\t\t\t\tconsole.trace(er);\r\n\t\t\t\t\tsetError(true);\r\n\t\t\t\t});\r\n\t\t\tif (fetchres && fetchres.status === 200) {\r\n\t\t\t\tsetBio(fetchres.data.bio);\r\n\t\t\t\tsetPfp(fetchres.data.pfp);\r\n\t\t\t\tsetUserData(fetchres.data);\r\n\r\n\t\t\t\tsetFetching(false);\r\n\t\t\t}\r\n\t\t})();\r\n\t}\r\n\tconst handleEditBio = () => {\r\n\t\tif (\r\n\t\t\tuserData &&\r\n\t\t\tlocalStorage.getItem(\"user\") &&\r\n\t\t\tJSON.parse(localStorage.getItem(\"user\"))?.privateID === userData.privateID\r\n\t\t) {\r\n\t\t\tsetEditingBio(true);\r\n\t\t}\r\n\t};\r\n\tconst postBio = async () => {\r\n\t\tenqueueSnackbar(\"Updating bio...\");\r\n\t\tlet updateSelf = await axios.post(`${hwbountyAPI}/updateSelf`, {\r\n\t\t\tbio: bio,\r\n\t\t});\r\n\t\tenqueueSnackbar(\"Bio updated!\");\r\n\t};\r\n\tconst stopEditingBio = () => {\r\n\t\tif (!bio) setBio(userData.bio);\r\n\t\tpostBio();\r\n\t\tsetEditingBio(false);\r\n\t};\r\n\tconst updateBio = (event, nv) => {\r\n\t\tlet val = (nv || event.target.value);\r\n\t\tif (val.length > 256) {\r\n\t\t\tenqueueSnackbar(`Your Bio is at the 250 char. limit!`);\r\n\t\t\tval = val.substring(0, 256);\r\n\t\t}\r\n\t\tsetBio(val);\r\n\t};\r\n\tconst updatePfp = (event, nv) => {\r\n\t\tconst FR = new FileReader();\r\n\t\tFR.onloadend = async (e) => {\r\n\t\t\tsetPfp(e.target.result || event.target.value);\r\n\t\t\tenqueueSnackbar(`Setting New Profile Picture...`);\r\n\t\t\tconsole.log(\r\n\t\t\t\te.target.result.substring(0, 25),\r\n\t\t\t\te.target.result.substring(e.target.result.indexOf(\",\") + 1)\r\n\t\t\t);\r\n\t\t\tawait axios.post(`${hwbountyAPI}/changePfp`, {\r\n\t\t\t\tbase64: e.target.result.substring(e.target.result.indexOf(\",\") + 1),\r\n\t\t\t});\r\n\t\t\tenqueueSnackbar(`Set new profile picture!`);\r\n\t\t};\r\n\t\tFR.readAsDataURL(document.getElementById(\"pfpFileInput\").files[0]);\r\n\t};\r\n\tif (userData) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<input type=\"file\" onChange={updatePfp} id=\"pfpFileInput\" style={{\r\n\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t}} />\r\n\t\t\t\t<Card className={`${classes.card} ${classes.mainInfoCard}`}>\r\n\t\t\t\t\t<div className={classes.mainInfoEverything}>\r\n\r\n\r\n\t\t\t\t\t\t<img src={pfp || \"https://cdn1.iconfinder.com/data/icons/materia-human/24/013_003_account_profile_circle-512.png\"} className={`${classes.profileDiv} ${JSON.parse(localStorage.getItem(\"user\"))?.privateID ===\r\n\t\t\t\t\t\t\tuserData.privateID && classes.hoverBlur}`}\r\n\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\tJSON.parse(localStorage.getItem(\"user\"))?.privateID ===\r\n\t\t\t\t\t\t\t\tuserData.privateID && onClickPfp\r\n\t\t\t\t\t\t\t} ></img>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={classes.name}>{userData.firstName} {userData.lastName}</Typography>\r\n\t\t\t\t\t{!editingBio ? (<Typography variant=\"h5\" onClick={handleEditBio} className={classes.bio} style={{\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\tminWidth: \"80%\",\r\n\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\tbackground: \"rgba(0,0,0,0)\",\r\n\t\t\t\t\t\theight: \"30vh\",\r\n\t\t\t\t\t\tmaxHeight: \"30vh\",\r\n\t\t\t\t\t\tminHeight: \"30vh\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{!editingBio ? bio : \"\"}\r\n\t\t\t\t\t</Typography >)\r\n\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tid=\"bioTextField\"\r\n\t\t\t\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\t\t\t\tonBlur={stopEditingBio}\r\n\t\t\t\t\t\t\t\tonChange={updateBio}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\tminWidth: \"80%\",\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tbackground: \"rgba(0,0,0,0.25)\",\r\n\t\t\t\t\t\t\t\t\theight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tmaxHeight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tminHeight: \"30vh\",\r\n\t\t\t\t\t\t\t\t\tborderRadius: \"2vw\",\r\n\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\t\t\t\t\tpadding: \"2vh\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={`${classes.bio} ${classes.DMtext}`}\r\n\t\t\t\t\t\t\t\tvalue={bio}\r\n\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t</textarea>\r\n\t\t\t\t\t\t\t// <TextField\r\n\t\t\t\t\t\t\t// \tid=\"bioTextField\"\r\n\t\t\t\t\t\t\t// \tlabel=\"\"\r\n\t\t\t\t\t\t\t// \tmultiline\r\n\t\t\t\t\t\t\t// \trows={8}\r\n\t\t\t\t\t\t\t// \trowsMax={8}\r\n\t\t\t\t\t\t\t// \tvalue={bio}\r\n\t\t\t\t\t\t\t// \tonBlur={stopEditingBio}\r\n\t\t\t\t\t\t\t// \tonChange={updateBio}\r\n\t\t\t\t\t\t\t// \tstyle={{\r\n\t\t\t\t\t\t\t// \t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t// \t\ttextAlign:\"center\",\r\n\t\t\t\t\t\t\t// \t}}\r\n\t\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</Card><Card className={`${classes.card} ${classes.nameandPasswordCard}`}>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoLabel}`}>Username: </Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoText}`}>@{userData.publicID}</Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoLabel}`}>Tags: </Typography>\r\n\t\t\t\t\t<div className={`${classes.text} ${classes.infoText}`}> {renderChips(userData.tags)}</div>\r\n\t\t\t\t</Card><Card className={`${classes.card} ${classes.balanceCard}`}>\r\n\t\t\t\t\t<Typography variant=\"h5\" className={`${classes.text} ${classes.infoText} ${classes.balanceText}`}>Balance: {userData.bal} <img src=\"https://i.ibb.co/Twp60L0/frog.png\" height={window.innerHeight / 25} width={window.innerHeight / 25} style={{ verticalAlign: \"middle\", marginTop: window.innerHeight/-100 }} /></Typography>\r\n\t\t\t\t</Card>\r\n\t\t\t\t{/* <Card>\r\n          <Typography\r\n            variant=\"h5\"\r\n            style={{\r\n              fontFamily: \"Nunito\",\r\n              fontSize: \"64px\",\r\n            }}\r\n          >\r\n            {userData.firstName} {userData.lastName}\r\n          </Typography>\r\n          <Avatar\r\n            src={\r\n              pfp ||\r\n              \"https://cdn1.iconfinder.com/data/icons/materia-human/24/013_003_account_profile_circle-512.png\"\r\n            }\r\n            className={classes.large}\r\n            style={{\r\n              display: \"inline-block\",\r\n            }}\r\n            \r\n          />\r\n          <Typography\r\n            variant=\"h5\"\r\n            style={{\r\n              fontFamily: \"Nunito\",\r\n            }}\r\n          >\r\n            @{userData.publicID}\r\n          </Typography>\r\n          <Paper\r\n            style={{\r\n              display: \"inline-block\",\r\n              margin: \"10\",\r\n              boxShadow: \"none\",\r\n              background: theme ? \"rgb(50,50,50)\" : \"rgb(230,230,230)\",\r\n            }}\r\n          >\r\n            {renderChips(userData.tags)}\r\n          </Paper>\r\n          <Container\r\n            style={{\r\n              display: \"block\",\r\n            }}\r\n          >\r\n            <Paper\r\n              style={{\r\n                background: theme ? \"rgb(70,70,70)\" : \"rgb(240,240,240)\",\r\n                margin: \"10\",\r\n                boxShadow: \"none\",\r\n                minHeight: \"100px\",\r\n                maxWidth: \"100%\",\r\n                minWidth: \"100%\",\r\n                display: \"inline-block\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h5\" onClick={handleEditBio}>\r\n                {!editingBio ? bio : \"\"}\r\n              </Typography>\r\n              {editingBio ? (\r\n                <TextField\r\n                  id=\"bioTextField\"\r\n                  label=\"\"\r\n                  multiline\r\n                  rowsMax={4}\r\n                  value={bio}\r\n                  onBlur={stopEditingBio}\r\n                  onChange={updateBio}\r\n                  style={{\r\n                    width: \"100%\",\r\n                  }}\r\n                />\r\n              ) : null}\r\n            </Paper>\r\n            <Typography variant=\"h1\">Stats</Typography>\r\n            <div\r\n              style={{\r\n                textAlign: \"left\",\r\n                marginLeft: \"5vw\",\r\n                marginRight: \"5vw\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h5\">\r\n                <b>User ID</b> {userData.privateID}\r\n              </Typography>\r\n              <Typography variant=\"h5\">\r\n                <b>Joined on</b>{\" \"}\r\n                {moment(parseInt(userData.createdAt)).format(\r\n                  \"dddd MMMM Do h:mm:ssA\"\r\n                )}{\" \"}\r\n                ( {moment(parseInt(userData.createdAt)).fromNow()} )\r\n              </Typography>\r\n              <Typography variant=\"h5\">\r\n                <b>Balance</b>{\" \"}\r\n                {typeof userData.bal !== \"undefined\"\r\n                  ? `${userData.bal} Coins`\r\n                  : \"Hidden\"}\r\n              </Typography>\r\n            </div>\r\n          </Container>\r\n        </Card> */}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nexport default connect((state) => ({ UI: state.UI }))(\r\n\twithStyles(styles)(Profile)\r\n);\r\n","\r\nimport axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\n\r\nclass SignupCallback extends Component{\r\n\trender(){\r\n\t\tif (!localStorage.getItem(\"DBIdToken\")) {\r\n\t\t\t\r\n\t\t\tlocalStorage.setItem(\"DBIdToken\",this.props.location.pathname.split(\"/signupcallback/\")[1]);\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\nexport default connect()(withRouter(SignupCallback));","// React\r\nimport { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport Card from \"@material-ui/core/Card\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { setTheme, setAuthPopupOpen } from \"../redux/actions/uiActions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ...theme.spreadIt,\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(16),\r\n    height: theme.spacing(16),\r\n  },\r\n  paper: {\r\n    width: \"80vw\",\r\n    height: \"80vw\",\r\n    display: \"inline-block\",\r\n  },\r\n  title: {\r\n    fontSize: \"60px\",\r\n    // fontFamily: \"\",\r\n  },\r\n  formLabel: {\r\n    display: \"block\",\r\n  },\r\n  formGroup: {\r\n\t  display: \"inline\",\r\n  },\r\n}));\r\nexport const Settings = (props) => {\r\n  const classes = useStyles();\r\n  const {\r\n    UI: { theme },\r\n    setTheme,\r\n  } = props;\r\n\r\n  const toggleDarkmode = (event, nv) => {\r\n    const newVal = nv ? 1 : 0;\r\n    localStorage.setItem(\"theme\", newVal);\r\n    setTheme(newVal);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Typography variant=\"h5\" className={classes.title}>\r\n        Settings\r\n      </Typography>\r\n      <FormGroup row className={classes.formGroup}>\r\n        <FormControlLabel\r\n          control={\r\n            <Switch\r\n              checked={theme === 1}\r\n              onChange={toggleDarkmode}\r\n              name=\"darkmodeToggle\"\r\n            />\r\n          }\r\n          label=\"Dark Mode :)\"\r\n          className={classes.formLabel}\r\n        />\r\n        {/* <FormControlLabel\r\n\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tchecked={state.checkedB}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tname=\"checkedB\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlabel=\"Primary\"\r\n\t\t\t\t/>\r\n\t\t\t\t<FormControlLabel control={<Switch />} label=\"Uncontrolled\" />\r\n\t\t\t\t<FormControlLabel disabled control={<Switch />} label=\"Disabled\" />\r\n\t\t\t\t<FormControlLabel disabled control={<Switch checked />} label=\"Disabled\" /> */}\r\n      </FormGroup>\r\n    </Paper>\r\n  );\r\n};\r\nSettings.propTypes = {\r\n  setTheme: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setTheme })(Settings);\r\n","import { Card, Typography } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport { Component, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Schedule from \"../components/Calendar/Schedule\";\r\nimport Notifications from \"../util/notifications\";\r\nimport { withSnackbar } from 'notistack';\r\nconst CTime = (props) => {\r\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\r\n  return (\r\n    <div\r\n      style={{\r\n        verticalAlign: \"middle\",\r\n        width: \"100%\",\r\n        minWidth: \"100%\",\r\n      }}\r\n    >\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"5.5vw\",\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n            \"h:mm:ssA\"\r\n          )\r\n        }\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"2.5vw\",\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n            \"M/D/YYYY dddd\"\r\n          )\r\n        }\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\nconst CTimeSmall = (props) => {\r\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\r\n  return (\r\n    <div\r\n      style={{\r\n        verticalAlign: \"middle\",\r\n        width: \"100%\",\r\n        minWidth: \"100%\",\r\n      }}\r\n    >\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"10vw\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n            \"h:mm:ssA\"\r\n          )\r\n        }\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{\r\n          fontSize: \"5.65vw\",\r\n        }}\r\n      >\r\n        {\r\n          /*moment().format(window.innerWidth <= 1368 ? \"M/D/YYYY h:mm:ssA\" : \"dddd MMMM Do h:mm:ssA\")*/ moment().format(\r\n            \"M/D/YYYY dddd\"\r\n          )\r\n        }\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\nlet lastTimeBasedNotif = 0;\r\nclass ScheduleInfo extends Component {\r\n  constructor(p) {\r\n    super(p);\r\n    setTimeout(\r\n      () => setInterval(() => this.forceUpdate(), 1000),\r\n      1000 - (Date.now() % 1000)\r\n    );\r\n  }\r\n  getTimePhrase() {\r\n    try {\r\n      if (!localStorage.getItem(\"cachedSchedule\")) return \"\";\r\n      let scheduleOBJ = JSON.parse(localStorage.getItem(\"cachedSchedule\"));\r\n      let schedule = JSON.parse(scheduleOBJ.schedule.schedule);\r\n      let user = JSON.parse(localStorage.getItem(\"user\"));\r\n      let allClasses = scheduleOBJ.classes;\r\n      let convertedMoment = moment().tz(schedule.timePeriod).utcOffset();\r\n      let currentMoment = moment().utcOffset();\r\n      let currentTime = moment();\r\n      let getPeriodName = (periodID) => {\r\n        return (\r\n          JSON.parse(scheduleOBJ.schedule.nameOverrides)[periodID] || \"Break\"\r\n        );\r\n      };\r\n      let dotw = [\r\n        \"monday\",\r\n        \"tuesday\",\r\n        \"wednesday\",\r\n        \"thursday\",\r\n        \"friday\",\r\n        \"saturday\",\r\n        \"sunday\",\r\n      ][moment().isoWeekday() - 1];\r\n      let formattedClasses =\r\n        schedule[dotw] &&\r\n        schedule[dotw].map((clas) => {\r\n          return {\r\n            period: clas.period,\r\n            timeStart:\r\n              moment(clas.timeStart, \"hh:mma\")\r\n                .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n                .unix() * 1000,\r\n            timeEnd:\r\n              moment(clas.timeEnd, \"hh:mma\")\r\n                .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n                .unix() * 1000,\r\n          };\r\n        });\r\n      //Check for current class first\r\n      let currentClass = formattedClasses.filter(\r\n        (x) => x.timeStart < Date.now() && Date.now() < x.timeEnd\r\n      )[0];\r\n\r\n      if (currentClass) {\r\n        let endingInString = `${\r\n          currentClass.timeEnd - Date.now() > 60000\r\n            ? currentClass.timeEnd - Date.now() > 3600000\r\n              ? `${Math.round(\r\n                  moment.duration(currentClass.timeEnd - Date.now()).asHours()\r\n                )} hours`\r\n              : `${Math.round(\r\n                  moment.duration(currentClass.timeEnd - Date.now()).asMinutes()\r\n                )} minutes`\r\n            : `${Math.round(\r\n                moment.duration(currentClass.timeEnd - Date.now()).asSeconds()\r\n              )} seconds`\r\n        }`;\r\n\r\n        //Try to push a notif if class is starting soon\r\n        if (\r\n          currentClass.timeEnd - Date.now() < 120 * 1000 &&\r\n          Date.now() - lastTimeBasedNotif > 240 * 1000\r\n        ) {\r\n          lastTimeBasedNotif = Date.now();\r\n\r\n          Notifications.pushNotification(\r\n            undefined,\r\n            undefined,\r\n            `${getPeriodName(currentClass.period)} is ending soon!`,\r\n            `Hey ${user.firstName}, ${getPeriodName(\r\n              currentClass.period\r\n            )} is about to end in ${endingInString}!`\r\n          );\r\n        }\r\n\r\n        return `${getPeriodName(\r\n          currentClass.period\r\n        )} ends in ${endingInString}`;\r\n      }\r\n      //Check for next upcoming class\r\n      let nextClass = formattedClasses.filter(\r\n        (x) => x.timeStart > Date.now()\r\n      )[0];\r\n\r\n      if (nextClass) {\r\n        let startingInString = `${\r\n          nextClass.timeStart - Date.now() > 60000\r\n            ? nextClass.timeStart - Date.now() > 3600000\r\n              ? `${Math.round(\r\n                  moment.duration(nextClass.timeStart - Date.now()).asHours()\r\n                )} hours`\r\n              : `${Math.round(\r\n                  moment.duration(nextClass.timeStart - Date.now()).asMinutes()\r\n                )} minutes`\r\n            : `${Math.round(\r\n                moment.duration(nextClass.timeStart - Date.now()).asSeconds()\r\n              )} seconds`\r\n        }`;\r\n        if (\r\n          nextClass.timeStart - Date.now() < 120 * 1000 &&\r\n          Date.now() - lastTimeBasedNotif > 240 * 1000\r\n        ) {\r\n          lastTimeBasedNotif = Date.now();\r\n\r\n          Notifications.pushNotification(\r\n            undefined,\r\n            undefined,\r\n            `${getPeriodName(nextClass.period)} is starting soon!`,\r\n            `Hey ${user.firstName}, ${getPeriodName(\r\n              nextClass.period\r\n            )} is about to start in ${startingInString}!`\r\n          );\r\n        }\r\n\r\n        return `${getPeriodName(\r\n          nextClass.period\r\n        )} starts in ${startingInString}`;\r\n      }\r\n\r\n      //Check for what was the previous class\r\n      let lastClass = formattedClasses\r\n        .filter((x) => Date.now() > x.timeEnd)\r\n        .pop();\r\n      if (lastClass) {\r\n        let lastEnded = `${\r\n          Date.now() - lastClass.timeEnd > 60000\r\n            ? Date.now() - lastClass.timeEnd > 60000\r\n              ? `${Math.round(\r\n                  moment.duration(Date.now() - lastClass.timeEnd).asHours()\r\n                )} hours`\r\n              : `${Math.round(\r\n                  moment.duration(Date.now() - lastClass.timeEnd).asMinutes()\r\n                )} minutes`\r\n            : `${Math.round(\r\n                moment.duration(Date.now() - lastClass.timeEnd).asSeconds()\r\n              )} seconds`\r\n        }`;\r\n        return `${getPeriodName(lastClass.period)} ended ${lastEnded} ago`;\r\n      }\r\n\r\n      //If no classes exist for the day\r\n      return `No classes today! Take a break, you deserve it :)`;\r\n    } catch (error) {\r\n      return \"\";\r\n    }\r\n  }\r\n  render() {\r\n\r\n    if (window.innerWidth <= 1000) {\r\n      return (\r\n        <div\r\n          style={{\r\n            marginTop: \"5%\",\r\n          }}\r\n        >\r\n          <Card\r\n            style={{\r\n              display: \"block\",\r\n              verticalAlign: \"top\",\r\n              width: \"90%\",\r\n              margin: \"5%\",\r\n            }}\r\n          >\r\n            <CTimeSmall />\r\n            <Typography\r\n              variant=\"h5\"\r\n              style={{\r\n                fontSize: 28,\r\n              }}\r\n            >\r\n              {this.getTimePhrase()}\r\n            </Typography>\r\n          </Card>\r\n          <Card\r\n            style={{\r\n              overflowY: \"scroll\",\r\n              padding: \"2%\",\r\n              paddingBottom: \"0%\",\r\n              margin: \"5%\",\r\n              /* max-height: 50vw!important; */\r\n              /* height: 50vw; */\r\n              width: \"90%\",\r\n\r\n              borderRadius: 5,\r\n              borderWidth: 0,\r\n              background: \"rgba(0,0,0,0)\",\r\n            }}\r\n          >\r\n            <Schedule />\r\n          </Card>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        style={{\r\n          marginTop: \"5%\",\r\n        }}\r\n      >\r\n        <Card\r\n          style={{\r\n            overflowY: \"scroll\",\r\n            padding: \"2%\",\r\n            paddingBottom: \"0%\",\r\n            /* max-height: 50vw!important; */\r\n            /* height: 50vw; */\r\n            width: \"60%\",\r\n            maxWidth: \"60%\",\r\n            display: \"inline-block\",\r\n            background: \"rgba(0,0,0,0)\",\r\n            borderRadius: 10,\r\n            borderWidth: 0,\r\n          }}\r\n        >\r\n          <Schedule />\r\n        </Card>\r\n        <Card\r\n          style={{\r\n            display: \"inline-block\",\r\n            verticalAlign: \"top\",\r\n            width: \"30vw\",\r\n            height: \"30vw\",\r\n            marginLeft: \"2vw\",\r\n            padding: \"2%\",\r\n            position: \"relative\",\r\n            background: \"rgba(0,0,0,0)\",\r\n            borderRadius: \"1.25vw!important\",\r\n          }}\r\n        />\r\n        <Card\r\n          style={{\r\n            borderRadius: \"1.25vw!important\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"top\",\r\n            width: \"30vw\",\r\n            height: \"30vw\",\r\n            marginLeft: \"2vw\",\r\n            padding: \"2%\",\r\n            position: \"fixed\",\r\n            right: \"5%\",\r\n            top: \"19.5vh\",\r\n            \r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              transform: \"translate(-50%,-50%)\",\r\n             \r\n            }}\r\n          >\r\n            <CTime />\r\n            <Typography\r\n              variant=\"h5\"\r\n              align=\"left\"\r\n              style={{\r\n                fontSize: \"2vw\",\r\n              }}\r\n            >\r\n              {this.getTimePhrase()}\r\n            </Typography>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect()(withSnackbar(ScheduleInfo));\r\n","// React\r\nimport React, { Component, useEffect, useState } from \"react\";\r\nimport \"../pages/home.css\";\r\n// MUI Stuff\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ArrowLeftRounded from \"@material-ui/icons/ArrowLeftRounded\";\r\nimport ArrowRightRounded from \"@material-ui/icons/ArrowRightRounded\";\r\nimport { MuiThemeProvider, withStyles } from \"@material-ui/core/styles\";\r\n\r\n// Components / Modules\r\nimport ForumSearch from \"../components/Home/ForumSearch\";\r\nimport KeybindEditor from \"../components/Home/KeybindEditor\";\r\nimport Calendar from \"../components/Calendar/Calendar\";\r\nimport ModuleViewer from \"../components/Modules/ModuleViewer\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { Avatar, Container, makeStyles } from \"@material-ui/core\";\r\nimport { Calculator } from \"../components/Modules/Calculator/Calculator\";\r\nimport { getRandomBackground } from \"../util/randomBackground\";\r\nimport momenttz from \"moment-timezone\";\r\nimport moment from \"moment\";\r\nimport Notifications from \"../util/notifications\";\r\nimport Schedule from \"../components/Calendar/Schedule\";\r\n\r\nlet lastTimeBasedNotif = 0;\r\nconst CTime = (props) => {\r\n  const [fakeCurrentDate, setFakeCurrentDate] = useState(new Date()); // default value can be anything you want\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setFakeCurrentDate(new Date()), 33);\r\n  }, [fakeCurrentDate]);\r\n  return (\r\n    <Typography\r\n      variant=\"h5\"\r\n      style={{\r\n        fontSize: 64,\r\n      }}\r\n    >\r\n      {moment().format(\r\n        window.innerWidth <= 1000\r\n          ? \"M/D/YYYY h:mm:ssA\"\r\n          : \"dddd MMMM Do h:mm:ssA\"\r\n      )}\r\n    </Typography>\r\n  );\r\n};\r\nconst JHome = (props) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setInterval(() => {\r\n        this.forceUpdate();\r\n      }, 1000);\r\n    }, 1000 - (Date.now() % 1000));\r\n\r\n    getGreeting();\r\n  }, []);\r\n\r\n  const getGreeting = () => {\r\n    if (user) {\r\n      if (!localStorage.getItem(\"user\"))\r\n        localStorage.setItem(\"user\", JSON.stringify(user));\r\n    } else {\r\n      axios\r\n        .get(\"https://api.hwbounty.help/@me\")\r\n        .then((res) => {\r\n          if (res.status == 200 && res.data && res.data.password) {\r\n            setUser(res.data);\r\n          }\r\n        })\r\n        .catch(console.trace);\r\n    }\r\n    if (localStorage.getItem(\"user\")) {\r\n      return `Welcome back ${\r\n        JSON.parse(localStorage.getItem(\"user\")).firstName\r\n      } !`;\r\n    }\r\n  };\r\n  const getTimePhrase = () => {\r\n    if (!localStorage.getItem(\"cachedSchedule\")) return \"\";\r\n    let scheduleOBJ = JSON.parse(localStorage.getItem(\"cachedSchedule\"));\r\n    let schedule = JSON.parse(scheduleOBJ.schedule.schedule);\r\n    let user = JSON.parse(localStorage.getItem(\"user\"));\r\n    let allClasses = scheduleOBJ.classes;\r\n    let convertedMoment = moment().tz(schedule.timePeriod).utcOffset();\r\n    let currentMoment = moment().utcOffset();\r\n    let currentTime = moment();\r\n    let getPeriodName = (periodID) => {\r\n      return (\r\n        JSON.parse(scheduleOBJ.schedule.nameOverrides)[periodID] || \"Break\"\r\n      );\r\n    };\r\n    let dotw = [\r\n      \"monday\",\r\n      \"tuesday\",\r\n      \"wednesday\",\r\n      \"thursday\",\r\n      \"friday\",\r\n      \"saturday\",\r\n      \"sunday\",\r\n    ][moment().isoWeekday() - 1];\r\n    let formattedClasses =\r\n      schedule[dotw] &&\r\n      schedule[dotw].map((clas) => {\r\n        return {\r\n          period: clas.period,\r\n          timeStart:\r\n            moment(clas.timeStart, \"hh:mma\")\r\n              .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n              .unix() * 1000,\r\n          timeEnd:\r\n            moment(clas.timeEnd, \"hh:mma\")\r\n              .add((convertedMoment - currentMoment) / 60, \"hours\")\r\n              .unix() * 1000,\r\n        };\r\n      });\r\n    //Check for current class first\r\n    let currentClass = formattedClasses.filter(\r\n      (x) => x.timeStart < Date.now() && Date.now() < x.timeEnd\r\n    )[0];\r\n\r\n    if (currentClass) {\r\n      let endingInString = `${\r\n        currentClass.timeEnd - Date.now() > 60000\r\n          ? currentClass.timeEnd - Date.now() > 3600000\r\n            ? `${Math.round(\r\n                moment.duration(currentClass.timeEnd - Date.now()).asHours()\r\n              )} hours`\r\n            : `${Math.round(\r\n                moment.duration(currentClass.timeEnd - Date.now()).asMinutes()\r\n              )} minutes`\r\n          : `${Math.round(\r\n              moment.duration(currentClass.timeEnd - Date.now()).asSeconds()\r\n            )} seconds`\r\n      }`;\r\n\r\n      //Try to push a notif if class is starting soon\r\n      if (\r\n        currentClass.timeEnd - Date.now() < 120 * 1000 &&\r\n        Date.now() - lastTimeBasedNotif > 240 * 1000\r\n      ) {\r\n        lastTimeBasedNotif = Date.now();\r\n\r\n        Notifications.pushNotification(\r\n          undefined,\r\n          undefined,\r\n          `${getPeriodName(currentClass.period)} is ending soon!`,\r\n          `Hey ${user.firstName}, ${getPeriodName(\r\n            currentClass.period\r\n          )} is about to end in ${endingInString}!`\r\n        );\r\n      }\r\n\r\n      return `${getPeriodName(currentClass.period)} ends in ${endingInString}`;\r\n    }\r\n    //Check for next upcoming class\r\n    let nextClass = formattedClasses.filter((x) => x.timeStart > Date.now())[0];\r\n\r\n    if (nextClass) {\r\n      let startingInString = `${\r\n        nextClass.timeStart - Date.now() > 60000\r\n          ? nextClass.timeStart - Date.now() > 3600000\r\n            ? `${Math.round(\r\n                moment.duration(nextClass.timeStart - Date.now()).asHours()\r\n              )} hours`\r\n            : `${Math.round(\r\n                moment.duration(nextClass.timeStart - Date.now()).asMinutes()\r\n              )} minutes`\r\n          : `${Math.round(\r\n              moment.duration(nextClass.timeStart - Date.now()).asSeconds()\r\n            )} seconds`\r\n      }`;\r\n      if (\r\n        nextClass.timeStart - Date.now() < 120 * 1000 &&\r\n        Date.now() - lastTimeBasedNotif > 240 * 1000\r\n      ) {\r\n        lastTimeBasedNotif = Date.now();\r\n\r\n        Notifications.pushNotification(\r\n          undefined,\r\n          undefined,\r\n          `${getPeriodName(nextClass.period)} is starting soon!`,\r\n          `Hey ${user.firstName}, ${getPeriodName(\r\n            nextClass.period\r\n          )} is about to start in ${startingInString}!`\r\n        );\r\n      }\r\n\r\n      return `${getPeriodName(nextClass.period)} starts in ${startingInString}`;\r\n    }\r\n\r\n    //Check for what was the previous class\r\n    let lastClass = formattedClasses\r\n      .filter((x) => Date.now() > x.timeEnd)\r\n      .pop();\r\n    if (lastClass) {\r\n      let lastEnded = `${\r\n        Date.now() - lastClass.timeEnd > 60000\r\n          ? Date.now() - lastClass.timeEnd > 60000\r\n            ? `${Math.round(\r\n                moment.duration(Date.now() - lastClass.timeEnd).asHours()\r\n              )} hours`\r\n            : `${Math.round(\r\n                moment.duration(Date.now() - lastClass.timeEnd).asMinutes()\r\n              )} minutes`\r\n          : `${Math.round(\r\n              moment.duration(Date.now() - lastClass.timeEnd).asSeconds()\r\n            )} seconds`\r\n      }`;\r\n      return `${getPeriodName(lastClass.period)} ended ${lastEnded} ago`;\r\n    }\r\n\r\n    //If no classes exist for the day\r\n    return `No classes today! Take a break, you deserve it :)`;\r\n  };\r\n  return (\r\n    <div id=\"baseHome\">\r\n      <Card id=\"calenderContainer\">\r\n        <Calendar id=\"calender\" />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(JHome);\r\n","import { Card, Container, Grid, InputBase, MuiThemeProvider, Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRoundInputBaseStyles } from \"@mui-treasury/styles/inputBase/round\";\r\nimport theme from \"../util/theme\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nlet semiGlobalState = null;\r\nconst SchedulesSearch = (props) => {\r\n\tconst [query, setQuery] = useState(\"\");\r\n\tconst roundInput = useRoundInputBaseStyles();\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst url = \"https://forums.hwbounty.help/?\" + query;\r\n\t\tconst newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n\t\tif (newWindow) newWindow.opener = null;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetQuery(event.target.value);\r\n\t\t//Sync the fields\r\n\t\tsetTimeout(() => props.handleTextChange(event), 0);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container maxWidth=\"xs\">\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\tclasses={roundInput}\r\n\t\t\t\t\t\tlaceholder=\"Search Schedules...\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={query}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</MuiThemeProvider>\r\n\t\t</Container>\r\n\t);\r\n};\r\nconst SchedulePreview = (props) => {\r\n\tlet hist = useHistory();\r\n\tlet redirectWithQuery = (path, query) => {\r\n\t\thist.push({\r\n\t\t\tpathname: path,\r\n\t\t\tsearch: query,\r\n\t\t\tstate: { query: query },\r\n\t\t});\r\n\t}\r\n\treturn (\r\n\t\t<Card style={\r\n\t\t\t{\r\n\t\t\t\t\"display\": \"inline-block\",\r\n\t\t\t\t\"vertical-align\": \"top\",\r\n\t\t\t\t\"width\": \"350px\",\r\n\t\t\t\t\"position\": \"relative\",\r\n\t\t\t\t\"overflow\": \"hidden\",\r\n\t\t\t\t\"margin\": \"10px\",\r\n\t\t\t\t\"background\": \"#FFF\",\r\n\t\t\t\t\"box-shadow\": \"0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)\",\r\n\t\t\t\t\"color\": \"#272727\",\r\n\t\t\t\t\"border-radius\": \"8px\",\r\n\t\t\t}\r\n\t\t}>\r\n\t\t\t<Typography variant=\"h5\" align=\"left\" style={\r\n\t\t\t\t{\r\n\t\t\t\t\t\"line-height\": \"48px\",\r\n\t\t\t\t\t\"font-size\": \"24px\",\r\n\t\t\t\t\t\"font-weight\": \"300\",\r\n\t\t\t\t\tpadding: \"20px\",\r\n\t\t\t\t}\r\n\t\t\t}>{props.name}</Typography>\r\n\t\t\t<Typography align=\"left\" style={\r\n\t\t\t\t{\r\n\t\t\t\t\t\"padding\": \"20px\",\r\n\t\t\t\t\t\"font-weight\": \"300\",\r\n\t\t\t\t\t\"border-radius\": \"0 0 2px 2px\",\r\n\t\t\t\t}\r\n\t\t\t}><ReactMarkdown>{props.desc.substring(0, 100)}</ReactMarkdown></Typography>\r\n\t\t\t<Container style={\r\n\t\t\t\t{\r\n\t\t\t\t\t\"border-top\": \"2px solid rgba(160, 160, 160, 0.2)\",\r\n\t\t\t\t\t\"padding-top\": \"10%\",\r\n\r\n\t\t\t\t}\r\n\t\t\t}>\r\n\t\t\t\t<Link style={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"color\": \"#1976D2\",\r\n\t\t\t\t\t\t\"transition\": \"color 0.3s ease\",\r\n\t\t\t\t\t\t\"text-transform\": \"uppercase\",\r\n\t\t\t\t\t\t\"text-decoration\": \"none\",\r\n\t\t\t\t\t\t\"font-size\": \"16px\",\r\n\t\t\t\t\t}\r\n\t\t\t\t} onClick={() => { redirectWithQuery(`/schedule/view/${props.sid}`, `?id=${props.sid}`) }}>View Schedule\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t</Container>\r\n\t\t</Card >\r\n\t)\r\n}\r\nclass ScheduleCatalog extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchTerm: \"\",\r\n\t\t\tschedules: [],\r\n\t\t};\r\n\t\tsemiGlobalState = this.state;\r\n\t}\r\n\tasync handleTextChange(event, self) {\r\n\t\tself.setState({ searchTerm: event.target.value });\r\n\t\tlet time = Date.now();\r\n\t\tlet res = await axios.get(`https://api.hwbounty.help/schedules/search/${self.state.searchTerm}`).catch(console.trace);\r\n\t\tself.setState({ schedules: res.data })\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Typography variant=\"h3\" style={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpadding: \"10px\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}>Schedules Catalog</Typography>\r\n\t\t\t\t<SchedulesSearch handleTextChange={ev => this.handleTextChange(ev, this)} />\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t{React.Children.toArray(this.state.schedules.map(x => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<SchedulePreview name={x.name} desc={x.description} sid={x.id}></SchedulePreview>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}))}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\nexport default connect()(ScheduleCatalog);","import {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Grid,\r\n  InputBase,\r\n  List,\r\n  MuiThemeProvider,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Schedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scheduleData: null,\r\n      fetching: false,\r\n      tab: 0,\r\n    };\r\n  }\r\n  async fetchScheduleData() {\r\n    if (this.state.scheduleData) return;\r\n\tconst location = this.props.location;\r\n\tlet id = location.pathname.split(\"/\").pop() || location?.state?.query ||  location.search.split(\"?id=\").pop();\r\n    let res = await axios.get(\r\n      `https://api.hwbounty.help/schedules/view/${id}`\r\n    ).catch(console.trace);\r\n    if (res.data) {\r\n      res.data.nameOverrides = JSON.parse(\r\n        res.data.nameOverrides.replace(/\\\\\"/g, '\"')\r\n      );\r\n      res.data.schedule = JSON.parse(res.data.schedule);\r\n      this.setState({ scheduleData: res.data });\r\n    }\r\n  }\r\n  componentDidMount(props) {\r\n    this.props = props;\r\n  }\r\n  handleTabChange(event, newValue, self) {\r\n    self.setState({ tab: newValue });\r\n  }\r\n  render() {\r\n    if (!this.state.scheduleData && !this.state.fetching) {\r\n      this.setState({ fetching: true });\r\n      this.fetchScheduleData();\r\n      return <br />;\r\n    }\r\n    if (this.state.scheduleData) {\r\n      return (\r\n        <Container>\r\n          <Paper\r\n            style={{\r\n              width: \"40%\",\r\n              maxWidth: \"40%\",\r\n              margin: \"5%\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n            align=\"left\"\r\n          >\r\n            <Tabs\r\n              value={this.state.tab}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              onChange={(event, value) => {\r\n                this.handleTabChange(event, value, this);\r\n              }}\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n            >\r\n              <Tab label=\"Mon\" />\r\n              <Tab label=\"Tue\" />\r\n              <Tab label=\"Wed\" />\r\n              <Tab label=\"Thu\" />\r\n              <Tab label=\"Fri\" />\r\n              <Tab label=\"Sat\" />\r\n              <Tab label=\"Sun\" />\r\n            </Tabs>\r\n            <List>\r\n              {this.state.tab === 0 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 1 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 2 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 3 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 4 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 5 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n              {this.state.tab === 6 && (\r\n                <DisplayedScheduleDay\r\n                  day={this.state.tab}\r\n                  data={this.state.scheduleData}\r\n                />\r\n              )}\r\n            </List>\r\n          </Paper>\r\n          <Card\r\n            style={{\r\n              display: \"inline-block\",\r\n              width: \"40%\",\r\n              margin: \"5%\",\r\n              paddingBottom: \"1vh\",\r\n              paddingLeft: \"5%\",\r\n              paddingRight: \"5%\",\r\n              textAlign: \"left\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"h4\"\r\n              style={{\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {this.state.scheduleData.name}\r\n            </Typography>\r\n            <Container\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"10%\",\r\n              }}\r\n            >\r\n              <span>\r\n                <Typography\r\n                  variant=\"caption\"\r\n                  style={{\r\n                    textAlign: \"left\",\r\n                    marginRight: \"3%\",\r\n                  }}\r\n                >\r\n                  By:\r\n                </Typography>\r\n                <Avatar\r\n                  src={this.state.scheduleData.user.pfp}\r\n                  align=\"left\"\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"middle\",\r\n                  }}\r\n                >\r\n                  {this.state.scheduleData.user.publicID}\r\n                </Avatar>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  style={{\r\n                    verticalAlign: \"middle\",\r\n                    marginLeft: \"3%\",\r\n                    display: \"inline-block\",\r\n                  }}\r\n                >\r\n                  {this.state.scheduleData.user.publicID}\r\n                </Typography>\r\n              </span>\r\n            </Container>\r\n            <Typography>\r\n              Last Updated:{\" \"}\r\n              {moment(parseInt(this.state.scheduleData.lastUpdated)).fromNow()}\r\n            </Typography>\r\n            <ReactMarkdown>{this.state.scheduleData.description}</ReactMarkdown>\r\n\r\n            <Container\r\n              style={{\r\n                paddingTop: \"1vh\",\r\n                borderTop: \"2px solid rgba(160, 160, 160, 0.2)\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              <Button onClick={\r\n\t\t\t\t  ()=> this.props.history.push(`/schedule/set/${this.props.location.pathname.split(\"/\").pop()}`)\r\n\t\t\t  } disabled={!JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey}>{JSON.parse(localStorage.getItem(\"user\") || \"[]\")?.schoologyKey ?\"Use this Schedule\": \"Link School Account First\"}</Button>\r\n            </Container>\r\n          </Card>\r\n        </Container>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n}\r\nconst DisplayedScheduleDay = (props) => {\r\n  const classes = props.classes;\r\n  const data = props.data;\r\n  const day = props.day;\r\n  let overrides = data.nameOverrides;\r\n  let dayschedule = data.schedule[\r\n    [\r\n      \"monday\",\r\n      \"tuesday\",\r\n      \"wednesday\",\r\n      \"thursday\",\r\n      \"friday\",\r\n      \"saturday\",\r\n      \"sunday\",\r\n    ][day]\r\n  ].map((x) => {\r\n    return Object.assign(x, {\r\n      period: data.nameOverrides[x.period] || x.period,\r\n    });\r\n  });\r\n  const renderPeriods = () => {\r\n    let children = React.Children.toArray(\r\n      dayschedule.map((x) => {\r\n        return (\r\n          <Container>\r\n            <Typography variant=\"h4\">{x.period}</Typography>\r\n            <Typography variant=\"h6\">{x.timeStart}</Typography>\r\n            <Typography variant=\"h6\">{x.timeEnd}</Typography>\r\n          </Container>\r\n        );\r\n      })\r\n    );\r\n    if (!children.length)\r\n      return <Typography variant=\"h3\">No School Today!</Typography>;\r\n    return children;\r\n  };\r\n  return (\r\n    <Container\r\n      style={{\r\n        marginBottom: \"5%\",\r\n      }}\r\n    >\r\n      {renderPeriods()}\r\n    </Container>\r\n  );\r\n};\r\nexport default connect()(withRouter(Schedule));\r\n","import { Avatar, Button, Card, Container, FormControl, Grid, InputBase, InputLabel, List, MenuItem, MuiThemeProvider, Paper, Select, Tab, Tabs, Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass SetSchedule extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tscheduleData: null,\r\n\t\t\tfetching: false,\r\n\t\t\ttab: 0,\r\n\t\t}\r\n\t}\r\n\tasync fetchScheduleData() {\r\n\t\tconsole.log(\"FETCHING\")\r\n\t\tif (this.state.scheduleData) return console.log(this.state.scheduleData);\r\n\t\ttry {\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\tlet [res, selfData, courses] = await Promise.all([axios.get(`https://api.hwbounty.help/schedules/view/${this.props.location.pathname.split(\"/\").pop()}`).catch(er => console.log), axios.get(`https://api.hwbounty.help/@me`).catch(console.trace), axios(`https://api.hwbounty.help/sgy/getCourses`).catch(console.trace)]);\r\n\t\t\tif (res.data) {\r\n\t\t\t\tres.data.nameOverrides = JSON.parse(res.data.nameOverrides);\r\n\t\t\t\tres.data.schedule = JSON.parse(res.data.schedule);\r\n\t\t\t\tlet assign = {\r\n\t\t\t\t\tscheduleData: res.data,\r\n\t\t\t\t}\r\n\t\t\t\tif (selfData.data) assign.self = selfData.data;\r\n\t\t\t\tif (courses.data) assign.courses = courses.data.section;\r\n\t\t\t\tthis.setState(assign);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.trace(error);\r\n\t\t\tthis.setState({});\r\n\t\t}\r\n\r\n\r\n\t}\r\n\tcomponentDidMount(props) {\r\n\t\tthis.props = props;\r\n\t}\r\n\tparseAllPeriods(schedule) {\r\n\t\tlet periods = new Set();\r\n\t\t[\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"].forEach(x => {\r\n\t\t\tschedule[x].forEach(y => {\r\n\t\t\t\tperiods.add(y.period);\r\n\t\t\t})\r\n\t\t})\r\n\t\treturn Array.from(periods.keys());\r\n\t}\r\n\tasync handleSet(self) {\r\n\t\tif (self.state.setting) return;\r\n\t\tself.setState({setting: true});\r\n\t\tlet periodChoices = self.state.periodChoices;\r\n\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\tlet sch = this.props.location.pathname.split(\"/\").pop();\r\n\t\tconsole.log(sch);\r\n\t\tlet res = await axios.post(`https://api.hwbounty.help/schedules/set`, {\r\n\t\t\tscheduleID: sch,\r\n\t\t\tclasses: periodChoices\r\n\t\t}).catch(console.trace);\r\n\t\tif (res.status === 200) {\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\tlocation.href = \"https://hwbounty.help\";\r\n\t\t}else{\r\n\t\t\tself.setState({setting:false})\r\n\t\t}\r\n\t}\r\n\thandleDropdowns(self) {\r\n\t\tlet courses = self.state.courses;\r\n\t\tlet periods = this.parseAllPeriods(self.state.scheduleData.schedule);\r\n\t\tlet options = courses.map(x => {\r\n\t\t\treturn { id: x.id, name: x.course_title };\r\n\t\t}).concat({ id: \"None\", name: \"None\" });\r\n\t\tlet nameOverrides = self.state.scheduleData.nameOverrides;\r\n\t\tconsole.log(periods);\r\n\t\tconst handleChange = (event, data) => {\r\n\t\t\tlet obj = self.state.periodChoices || {};\r\n\t\t\tobj[data] = event.target;\r\n\t\t\tself.setState({ periodChoices: obj });\r\n\t\t}\r\n\t\treturn periods.map(x => {\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: \"30%\",\r\n\t\t\t\t\t\tminWidth: \"30%\",\r\n\t\t\t\t\t\tmargin: \"1.5%\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trequired>\r\n\t\t\t\t\t<InputLabel id={`inputLabel${x}`}>{nameOverrides[x] || x}</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabelId={`select${x}Label`}\r\n\t\t\t\t\t\tid={`select${x}`}\r\n\t\t\t\t\t\tvalue={self.state.periodChoices && self.state.periodChoices[`${x}`]}\r\n\t\t\t\t\t\tonChange={event => { handleChange(event, `${x}`) }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{React.Children.toArray(options.map(option => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MenuItem value={option.id}>{option.name}</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}))}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t// self.state\r\n\t}\r\n\trender() {\r\n\t\tif (!this.state.scheduleData && !this.state.fetching) {\r\n\t\t\tconsole.log(\"GoFetch\");\r\n\t\t\tthis.setState({ fetching: true });\r\n\t\t\tthis.fetchScheduleData();\r\n\t\t\treturn (<br />);\r\n\t\t}\r\n\t\t//Infinite Loop setstate somewhere; Figure out what\r\n\t\tif (this.state.scheduleData) {\r\n\t\t\t// this.setState({ fetching: false })\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Card style={{\r\n\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\twidth: \"90%\",\r\n\t\t\t\t\t\tmargin: \"5%\",\r\n\t\t\t\t\t\tpaddingBottom: \"1vh\",\r\n\t\t\t\t\t\tpaddingLeft: \"5%\",\r\n\t\t\t\t\t\tpaddingRight: \"5%\",\r\n\t\t\t\t\t\ttextAlign: \"left\",\r\n\t\t\t\t\t\tverticalAlign: \"middle\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{/* <Typography variant=\"h4\">Stats</Typography> */}\r\n\t\t\t\t\t\t<Typography variant=\"h4\" style={{\r\n\t\t\t\t\t\t\ttextAlign: \"center\"\r\n\t\t\t\t\t\t}}>{this.state.scheduleData.name}</Typography>\r\n\t\t\t\t\t\t<Container style={{\r\n\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\theight: \"10%\",\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"left\",\r\n\t\t\t\t\t\t\t\t\tmarginRight: \"1%\"\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tBy:\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Avatar src={this.state.scheduleData.user.pfp} align=\"left\" style={{\r\n\t\t\t\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\t\t\t\tverticalAlign: \"middle\",\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{this.state.scheduleData.user.publicID}\r\n\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" style={{\r\n\t\t\t\t\t\t\t\t\tverticalAlign: \"middle\",\r\n\t\t\t\t\t\t\t\t\tmarginLeft: \"1%\",\r\n\t\t\t\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\t\t\t\t// fontSize: \"47px\",\r\n\t\t\t\t\t\t\t\t\t// height: \"40px\",\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{this.state.scheduleData.user.publicID}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tLast Updated: {moment(parseInt(this.state.scheduleData.lastUpdated)).fromNow()}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<ReactMarkdown>{this.state.scheduleData.description}</ReactMarkdown>\r\n\t\t\t\t\t\t<Container\r\n\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\twidth: \"100%\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{React.Children.toArray(this.handleDropdowns(this))}\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t<Container style={{\r\n\t\t\t\t\t\t\tpaddingTop: \"1vh\",\r\n\t\t\t\t\t\t\tborderTop: \"2px solid rgba(160, 160, 160, 0.2)\",\r\n\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<Button onClick={ev=>this.handleSet(this)}>Set Classes</Button>\r\n\t\t\t\t\t\t</Container>\r\n\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Container>\r\n\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\nconst DisplayedScheduleDay = (props) => {\r\n\tconst classes = props.classes;\r\n\tconst data = props.data;\r\n\tconst day = props.day;\r\n\tlet overrides = data.nameOverrides;\r\n\tlet dayschedule = data.schedule[[\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"][day]].map(x => {\r\n\t\treturn Object.assign(x, {\r\n\t\t\tperiod: data.nameOverrides[x.period] || x.period,\r\n\t\t})\r\n\t});\r\n\tconsole.log(dayschedule);\r\n\tconst renderPeriods = () => {\r\n\t\tlet children = React.Children.toArray(dayschedule.map(x => {\r\n\t\t\treturn (\r\n\t\t\t\t<Container >\r\n\t\t\t\t\t<Typography variant=\"h4\">{x.period}</Typography>\r\n\t\t\t\t\t<Typography variant=\"h6\">{x.timeStart}</Typography>\r\n\t\t\t\t\t<Typography variant=\"h6\">{x.timeEnd}</Typography>\r\n\t\t\t\t</Container>\r\n\t\t\t)\r\n\t\t}));\r\n\t\tif (!children.length)\r\n\t\t\treturn (<Typography variant=\"h3\">No School Today!</Typography>);\r\n\t\treturn children;\r\n\t}\r\n\treturn (\r\n\t\t<Container style={{\r\n\t\t\tmarginBottom: \"5%\",\r\n\r\n\t\t}}>\r\n\t\t\t{renderPeriods()}\r\n\t\t</Container>\r\n\t)\r\n}\r\nexport default connect()(withRouter(SetSchedule));","import axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\n\r\nclass SchoologyOauthPage extends Component{\r\n\trender(){\r\n\t\tif (window.location.search.match(/\\?oauth_token\\=/)){\r\n\t\t\taxios.post(`${hwbountyAPI}/schoologyLogin`,{\r\n\t\t\t\toauth_token: window.location.search.match(/\\w+$/)[0]\r\n\t\t\t}).then(x=>{\r\n\t\t\t\twindow.location.href = window.location.origin;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\nexport default connect()(SchoologyOauthPage);\r\n","// React\r\nimport React from \"react\";\r\n\r\n// Styling\r\nimport { Button, TextField } from \"@material-ui/core\";\r\n\r\nexport const PageNotFound = (props) => {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <p>\r\n          <h1> 404 Page not found </h1>\r\n        </p>\r\n        <a className=\"App-link\" href=\"/\">\r\n          <Button variant=\"outlined\">Return to home</Button>\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","/* eslint-disable no-restricted-globals */\r\n// React\r\nimport React, { Fragment } from \"react\";\r\n\r\n// MUI\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircleRounded\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\nimport axios from \"axios\";\r\nimport { Route } from \"react-router\";\r\n\r\nexport const AccountIconButton = (props) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const {\r\n    user: { authenticated },\r\n  } = props;\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleAuthLogs = () => {\r\n    if (localStorage.getItem(\"DBIdToken\")) {\r\n      localStorage.clear();\r\n      location.reload();\r\n      // return ;\r\n    } else {\r\n      //literal mega hack\r\n      location.href = location.href.split(\"/\").slice(0, -1).concat(\"login\").join(\"/\");\r\n    }\r\n\r\n\r\n  }\r\n  const openSchoologyOAuth = () => {\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://api.hwbounty.help/schoologyLogin\",\r\n      data: {\r\n        redirectURL: \"hwbounty.help\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        const newWindow = window.open(\r\n          res.data,\r\n          \"_blank\",\r\n          \"noopener,noreferrer\"\r\n        );\r\n        if (newWindow) newWindow.opener = null;\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-controls=\"simple-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <img src={JSON.parse(localStorage.getItem(\"user\"))?.pfp} style={{\r\n          maxHeight: 40,\r\n          maxWidth: 40,\r\n          borderRadius: 20\r\n        }} alt=\"\"/>\r\n      </IconButton>\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n      >\r\n\r\n        <MenuItem onClick={openSchoologyOAuth}>Profile</MenuItem>\r\n        <MenuItem onClick={handleClose}>My account</MenuItem>\r\n        <MenuItem onClick={handleAuthLogs}>{localStorage.getItem(\"DBIdToken\") ? \"Logout\" : \"Login\"}</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AccountIconButton);\r\n","// React\r\nimport React, { useState } from \"react\";\r\n\r\n// MUI\r\nimport { MuiThemeProvider, withStyles } from \"@material-ui/core/styles\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\n\r\n// MUI Treasury\r\nimport {\r\n  Button,\r\n  Container,\r\n  List,\r\n  ListItem,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport Fuse from \"fuse.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\n/*\r\nTODO: remove mui theme provider here, it should work without it!!!\r\n(maybe check pallete or something?, color is sent but dark mode is not)\r\n*/\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n});\r\n\r\nconst pageArray = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    description: \"The main page with scheduling and more!\",\r\n  },\r\n  {\r\n    name: \"Schedules\",\r\n    path: \"/schedules\",\r\n    description: \"Find the perfect schedule for you!\",\r\n  },\r\n  {\r\n    name: \"Ideal Gas Calculator\",\r\n    path: \"/module/gaslawscalc\",\r\n    description: \"Gas Law Calculator PV=NRT (Chemistry)\",\r\n  },\r\n  {\r\n    name: \"Schedule\",\r\n    path: \"/schedule\",\r\n    description:\r\n      \"Your current schedule, with a clock, zoom links, and periods!\",\r\n  },\r\n];\r\nconst fuseOptions = {\r\n  includeScore: true,\r\n  // Search in `author` and in `tags` array\r\n  keys: [\"name\", \"description\"],\r\n};\r\nconst fuse = new Fuse(pageArray, fuseOptions);\r\nexport const PageSearch = (props) => {\r\n  const history = useHistory();\r\n  const {\r\n    UI: { theme },\r\n  } = props;\r\n  const [query, setQuery] = useState(\"\");\r\n  const swapPage = (path) => {\r\n    setQuery(\"\");\r\n    history.push(path);\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setQuery(event.target.value);\r\n  };\r\n  const renderResults = () => {\r\n    return React.Children.toArray(\r\n      fuse\r\n        .search(query)\r\n        .filter((x, i) => i < 3)\r\n        .map((result) => {\r\n          return (\r\n            <ListItem\r\n              align=\"left\"\r\n              style={{\r\n                minWidth: 396,\r\n                margin: 0,\r\n                padding: 0,\r\n                textAlign: \"left\",\r\n              }}\r\n            >\r\n              <Button fullWidth onClick={(x) => swapPage(result.item.path)}>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  style={{\r\n                    fontSize: 20,\r\n                    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\r\n                    marginLeft: 0,\r\n                    marginRight: 40,\r\n                    top: 0,\r\n                    left: 10,\r\n                    fontWeight: 700,\r\n                    lineHeight: 1.235,\r\n                  }}\r\n                  align=\"left\"\r\n                >\r\n                  {result.item.name}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  style={{\r\n                    fontSize: 16,\r\n                    fontFamily: `-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`,\r\n                    textAlign: \"right\",\r\n                    marginLeft: 40,\r\n                    display: \"block\",\r\n                    position: \"relative\",\r\n                  }}\r\n                >\r\n                  {result.item.description.substring(0, 25)}\r\n                </Typography>\r\n              </Button>\r\n            </ListItem>\r\n          );\r\n        })\r\n    );\r\n  };\r\n  let pageOptions = renderResults();\r\n  return (\r\n    <Container\r\n      maxWidth=\"xs\"\r\n      style={{\r\n        margin: 0,\r\n      }}\r\n    >\r\n      <MuiThemeProvider theme={theme}>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            placeholder=\"Go To Page\"\r\n            onChange={handleChange}\r\n            value={query}\r\n            fullWidth\r\n            {...props}\r\n            style={{\r\n              color: theme ? \"white\" : \"black\",\r\n            }}\r\n          />\r\n        </form>\r\n      </MuiThemeProvider>\r\n      {pageOptions.length ? (\r\n        <Paper\r\n          style={{\r\n            minWidth: 396,\r\n            height: 160,\r\n            position: \"absolute\",\r\n            top: 50,\r\n            borderTopLeftRadius: 0,\r\n            borderTopRightRadius: 0,\r\n          }}\r\n        >\r\n          <List\r\n            style={{\r\n              minWidth: 396,\r\n              height: 440,\r\n              overflowX: \"hidden\",\r\n              overflowY: \"scroll\",\r\n              scrollbarWidth: \"none\",\r\n              position: \"absolute\",\r\n              padding: 0,\r\n              margin: 0,\r\n            }}\r\n          >\r\n            {pageOptions}\r\n          </List>\r\n        </Paper>\r\n      ) : null}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ UI: state.UI }))(\r\n  withStyles(styles)(PageSearch)\r\n);\r\n","// React\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { setTheme, setAuthPopupOpen } from \"../../redux/actions/uiActions\";\r\nimport { _maxThemeVal } from \"../../redux/types\";\r\n\r\n// MUI Components & Styling\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport themeFile from \"../../util/theme\";\r\n\r\n// MUI Icons\r\nimport DarkThemeIcon from \"@material-ui/icons/Brightness4Rounded\";\r\nimport LightThemeIcon from \"@material-ui/icons/Brightness7Rounded\";\r\n\r\nimport AccountIconButton from \"../User/AccountIconButton\";\r\nimport axios from \"axios\";\r\nimport PageSearch from \"./PageSearch\";\r\n\r\nconst styles = {\r\n  ...themeFile.spreadIt,\r\n  root: {\r\n    height: 50,\r\n  },\r\n  iconButton: {\r\n    marginLeft: \"auto\",\r\n  },\r\n};\r\n\r\nexport const Navbar = (props) => {\r\n  const {\r\n    classes,\r\n    UI: { theme },\r\n    user: { authenticated },\r\n    setAuthPopupOpen,\r\n  } = props;\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (!localStorage.getItem(\"user\"))\r\n        localStorage.setItem(\"user\", JSON.stringify(user));\r\n    } else {\r\n      axios\r\n        .get(\"https://api.hwbounty.help/@me\")\r\n        .then((res) => {\r\n          if (res.status === 200 && res.data && res.data.password) {\r\n            setUser(res.data);\r\n          }\r\n        })\r\n        .catch(console.trace);\r\n    }\r\n  });\r\n\r\n  const toggleTheme = () => {\r\n    const newVal = theme === _maxThemeVal ? 0 : theme + 1;\r\n    localStorage.setItem(\"theme\", newVal);\r\n    props.setTheme(newVal);\r\n  };\r\n\r\n  const UserButton = () => {\r\n    return (\r\n      <div>\r\n        {authenticated ? (\r\n          <AccountIconButton />\r\n        ) : (\r\n          <Button onClick={() => setAuthPopupOpen(true)}>LOGIN</Button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classes.root}\r\n      style={{\r\n        minHeight: 75,\r\n      }}\r\n    >\r\n      <Toolbar style={{}}>\r\n        {/* <PageSearch/> */}\r\n        {/* <IconButton onClick={toggleTheme} className={classes.iconButton}>\r\n          {themeValue === 0 ? <DarkThemeIcon /> : <LightThemeIcon />}\r\n        </IconButton> */}\r\n        <UserButton />\r\n      </Toolbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavbar.propTypes = {\r\n  setTheme: PropTypes.func.isRequired,\r\n  setAuthPopupOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n  user: state.user,\r\n});\r\n  \r\nexport default connect(mapStateToProps, { setTheme, setAuthPopupOpen })(\r\n  withStyles(styles)(Navbar)\r\n);\r\n","// React\r\nimport React, { useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst useStyles = makeStyles({\r\n  inputField: {\r\n    display: \"block\",\r\n    width: \"90%\",\r\n  },\r\n});\r\n\r\nconst Login = (props) => {\r\n  const { loginUser } = props;\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    loginUser({ email, password });\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <DialogTitle>Login</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          autoFocus\r\n          type=\"email\"\r\n          label=\"Email Address\"\r\n          onChange={handleEmailChange}\r\n          value={email}\r\n          className={classes.inputField}\r\n        />\r\n        <TextField\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          onChange={handlePasswordChange}\r\n          value={password}\r\n          className={classes.inputFields}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleSubmit}>Submit</Button>\r\n      </DialogActions>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Login;\r\n","// React\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { setAuthPopupOpen } from \"../../../redux/actions/uiActions\";\r\nimport { loginUser, signupUser } from \"../../../redux/actions/userActions\";\r\n\r\n// Components\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\n\r\nexport const AuthPopup = (props) => {\r\n  const {\r\n    setAuthPopupOpen,\r\n    loginUser,\r\n    signupUser,\r\n    UI: { authPopupOpen },\r\n  } = props;\r\n\r\n  const handleClose = () => {\r\n    setAuthPopupOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog maxWidth=\"xs\" fullWidth open={authPopupOpen} onClose={handleClose}>\r\n      <Login loginUser={loginUser} />\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nAuthPopup.propTypes = {\r\n  open: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setAuthPopupOpen,\r\n  loginUser,\r\n  signupUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(AuthPopup);\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport theme from \"../util/theme\";\r\nimport { AccountCircle, Home, Settings, Today } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { AccountIconButton } from \"./User/AccountIconButton\";\r\nimport { Avatar, TextField } from \"@material-ui/core\";\r\nimport { PageSearch } from \"./Home/PageSearch\";\r\n\r\nconst drawerWidth = 240;\r\nlet locations = {\r\n  Home: \"/\",\r\n  Schedule: \"/schedule\",\r\n  Profile: `/user/${JSON.parse(localStorage.getItem(\"user\"))?.publicID}`,\r\n  \"Sign Out\": () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  },\r\n  Settings: \"/settings\",\r\n};\r\n//updates profile Endpoint\r\nsetInterval(() => {\r\n  locations = {\r\n    Home: \"/\",\r\n    Schedule: \"/schedule\",\r\n    Profile: `/user/${JSON.parse(localStorage.getItem(\"user\"))?.publicID}`,\r\n    \"Sign Out\": () => {\r\n      localStorage.clear();\r\n      window.location.reload();\r\n    },\r\n    Settings: \"/settings\",\r\n  };\r\n}, 1000);\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spreadIt,\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  anchoredAvatar: {\r\n    position: \"fixed\",\r\n    top: \"1.05%\",\r\n    left: \"1%\",\r\n  },\r\n}));\r\n\r\nexport const Sidebar = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const history = useHistory();\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const onClckItem = (name) => {\r\n    if (typeof locations[name] === \"string\") history.push(locations[name]);\r\n    else locations[name]();\r\n    handleDrawerClose();\r\n  };\r\n\r\n  const UserButton = () => {\r\n    return (\r\n      <div>\r\n        <Avatar\r\n          src={JSON.parse(localStorage.getItem(\"user\"))?.pfp}\r\n          height={64}\r\n          width={64}\r\n          align=\"left\"\r\n          className={classes.anchoredAvatar}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(e, document.getElementById(\"goPage\").value);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        zIndex: 1000000000,\r\n      }}\r\n    >\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        onClick={handleDrawerOpen}\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"1%\",\r\n          left: \"1%\",\r\n          zIndex: 10000,\r\n          display: open && \"none\",\r\n        }}\r\n        className={clsx(classes.menuButton, open && classes.hide)}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        //variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        onClose={handleDrawerClose}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <form onSubmit={onSubmit}>\r\n            <TextField placeholder=\"Go To Page...\" id=\"goPage\" />\r\n          </form>\r\n          {/* <UserButton /> */}\r\n          {/* <Typography>{JSON.parse(localStorage.getItem(\"user\"))?.firstName || \" \"} {JSON.parse(localStorage.getItem(\"user\"))?.lastName || \" \"}</Typography> */}\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === \"ltr\" ? (\r\n              <ChevronLeftIcon />\r\n            ) : (\r\n              <ChevronRightIcon />\r\n            )}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          {[\"Home\", \"Schedule\", \"Profile\", \"Settings\", \"Sign Out\"].map(\r\n            (text, index) => (\r\n              <ListItem button key={text} onClick={(x) => onClckItem(text)}>\r\n                <ListItemIcon>\r\n                  {\r\n                    [\r\n                      <Home />,\r\n                      <Today />,\r\n                      <AccountCircle />,\r\n                      <Settings />,\r\n                      <ExitToAppIcon />,\r\n                    ][index]\r\n                  }\r\n                </ListItemIcon>\r\n                <ListItemText primary={text} />\r\n              </ListItem>\r\n            )\r\n          )}\r\n        </List>\r\n        {/* <Divider />\r\n\t\t<List>\r\n\t\t\t{['All mail', 'Trash', 'Spam'].map((text, index) => (\r\n\t\t\t\t<ListItem button key={text}>\r\n\t\t\t\t\t<ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n\t\t\t\t\t<ListItemText primary={text} />\r\n\t\t\t\t</ListItem>\r\n\t\t\t))}\r\n\t\t</List> */}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\nexport default withStyles(styles)(Sidebar);\r\n","import axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass LoadIntoCache extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tasync updateUser(){\r\n\t\tlet data = await axios.get(\"https://api.hwbounty.help/@me\").catch(console.trace);\r\n\t\tif (data && data.status === 200 && data.data){\r\n\t\t\tlocalStorage.setItem(\"user\",JSON.stringify(data.data));\r\n\t\t}else{\r\n\t\t\tlocalStorage.clear();\r\n\t\t}\r\n\t}\r\n\tasync updateSchedule(){\r\n\t\taxios.get(\"https://api.hwbounty.help/schedule/@me\").then(data=>{\r\n\t\t\tif (data && data.status === 200){\r\n\t\t\t\tlocalStorage.setItem(\"cachedSchedule\",JSON.stringify(data.data));\r\n\t\t\t}\r\n\t\t}).catch(console.trace);\r\n\t\taxios.get(\"https://api.hwbounty.help/sgy/getZoomLinks\").then(data=>{\r\n\t\t\tif (data && data.status === 200){\r\n\t\t\t\tlocalStorage.setItem(\"cachedCourseInfo\",JSON.stringify(data.data));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tlet oldPageUrl = \"\";\r\n\t\tsetInterval(()=>{\r\n\t\t\tif (oldPageUrl !== this.props.location.pathname){\r\n\t\t\t\toldPageUrl = this.props.location.pathname;\r\n\t\t\t\tthis.updateCache();\r\n\t\t\t}\r\n\t\t},1000);\r\n\t}\r\n\tasync updateCache(){\r\n\t\tthis.updateUser();\r\n\t\tthis.updateSchedule();\r\n\t}\r\n\trender(){\r\n\t\t// this.updateCache();\r\n\t\treturn null;\r\n\t}\r\n}\r\nexport default connect()(withRouter(LoadIntoCache));","// React\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n// MUI\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { hwbountyAPI } from \"../redux/types\";\r\nimport { useSnackbar, withSnackbar } from \"notistack\";\r\nimport { useHistory } from \"react-router\";\r\nimport { setAuthorizationHeader } from \"../redux/actions/userActions\"\r\nexport const SchoologyButton = (props) => {\r\n  const onClick = async ()=>{\r\n    let thing = await axios.post(`${hwbountyAPI}/schoologyAuth`,{\r\n      redirectURL: `${window.location.href}`\r\n    });\r\n    thing = thing.data || thing;\r\n    if (thing && thing.nonce && thing.url){\r\n      localStorage.setItem(\"SchoologyNonce\",thing.nonce);\r\n      window.location.href = thing.url;\r\n    }\r\n  }\r\n\tconst { enqueueSnackbar } = useSnackbar();\r\n  const history = useHistory()\r\n  useEffect(()=>{\r\n    if (window.location.search && window.location.search.match(/\\?oauth_token=/)){\r\n      (async ()=>{\r\n        let thing = await axios.post(`${hwbountyAPI}/schoologyAuth`,{\r\n        redirectURL: `${window.location.href}`,\r\n        \"oauth_token\": window.location.search.split(\"?oauth_token=\").pop(),\r\n        nonce: localStorage.getItem(\"SchoologyNonce\")\r\n      }).catch(er=>{\r\n        console.log(er);\r\n        enqueueSnackbar(er.response.data.error || er.response.data);\r\n      });\r\n      if (!thing) return;\r\n      setAuthorizationHeader(thing.data)\r\n      setTimeout(()=>history.push(\"/\"),500);\r\n        \r\n      })()\r\n      \r\n    }\r\n  },[]);\r\n  return (\r\n    <Button onClick={onClick}>\r\n        Authenticate With Schoology\r\n    </Button>\r\n  );\r\n};\r\n\r\n\r\nexport default connect()(withSnackbar(SchoologyButton));\r\n","// React\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { SnackbarProvider } from \"notistack\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { SET_AUTHENTICATED, SET_THEME } from \"./redux/types\";\r\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\r\n\r\n// Styling\r\nimport \"./App.css\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles/\";\r\nimport themeFile from \"./util/theme\";\r\n\r\n// Keybinds\r\nimport { ShortcutProvider, ShortcutConsumer } from \"react-keybind\";\r\nimport KeybindManager from \"./util/keybinds/keybind\";\r\n\r\n// Pages\r\nimport Home from \"./pages/home\";\r\nimport Modules from \"./pages/modules\";\r\nimport newSignup from \"./pages/newSignup\";\r\nimport Profile from \"./pages/profile\";\r\nimport signupCallback from \"./pages/signupCallback\";\r\nimport Settings from \"./pages/settings\";\r\nimport home from \"./pages/home\";\r\nimport ScheduleInfo from \"./pages/ScheduleInfo\";\r\nimport johnsHome from \"./pages/johnsHome\";\r\nimport ScheduleCatalog from \"./pages/schedules\";\r\nimport viewSchedule from \"./pages/viewSchedule\";\r\nimport setSchedule from \"./pages/setSchedule\";\r\nimport schoologyOauthRedirect from \"./pages/schoologyOauthRedirect\";\r\nimport PageNotFound from \"./pages/404\";\r\n\r\n// Components\r\nimport Navbar from \"./components/Home/Navbar\";\r\nimport AuthPopup from \"./components/User/Authentication/AuthPopup\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport MusicModule from \"./components/MusicModule/MusicModule\";\r\n\r\n// Tools\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport LoadIntoCache from \"./LoadIntoCache\";\r\nimport { SchoologyButton } from \"./components/SchoologyButton\";\r\n\r\n//=================Checks on App start====================//\r\nconst token = localStorage.DBIdToken;\r\nif (token) {\r\n  axios.defaults.headers.common[\"Authorization\"] = token;\r\n  store.dispatch({ type: SET_AUTHENTICATED });\r\n  store.dispatch(getUserData());\r\n}\r\n\r\nconst themeCache =\r\n  localStorage.theme !== null\r\n    ? parseInt(localStorage.theme)\r\n    : (localStorage.theme = 1);\r\nif (themeCache) {\r\n  store.dispatch({ type: SET_THEME, payload: themeCache });\r\n}\r\n//========================================================//\r\n\r\nconst App = (props) => {\r\n  const {\r\n    UI: { theme },\r\n    user: { authenticated },\r\n  } = props;\r\n\r\n  const dynamicTheme = createMuiTheme({\r\n    ...themeFile,\r\n    palette: {\r\n      primary: {\r\n        ...themeFile.palette.primary,\r\n      },\r\n      secondary: {\r\n        ...themeFile.palette.secondary,\r\n      },\r\n      type: theme === 0 ? \"light\" : \"dark\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <SnackbarProvider maxSnack={5}>\r\n      <ShortcutProvider ignoreTagNames={[\"input\", \"textarea\"]}>\r\n        <MuiThemeProvider theme={dynamicTheme}>\r\n          <CssBaseline />\r\n          <KeybindManager />\r\n\r\n          <div className=\"App\">\r\n            <Router>\r\n              {authenticated ? <Sidebar /> : <Navbar />}\r\n\r\n              <AuthPopup />\r\n              <MusicModule />\r\n              <LoadIntoCache />\r\n\r\n              <Switch>\r\n                <Route exact path=\"/\" component={home} />\r\n                <Route\r\n                  exact\r\n                  path=\"/schoologyCallback\"\r\n                  component={schoologyOauthRedirect}\r\n                />\r\n                <Route path=\"/signupcallback\" component={signupCallback} />\r\n                <Route path=\"/signup\" component={newSignup} />\r\n                <Route path=\"/schedules\" component={ScheduleCatalog} />\r\n                <Route exact path=\"/schedule\" component={ScheduleInfo} />\r\n                <Route path=\"/schedule/view\" component={viewSchedule} />\r\n                <Route path=\"/schedule/set\" component={setSchedule} />\r\n                <Route path=\"/modules/\" component={Modules} />\r\n                <Route path=\"/user/\" component={Profile} />\r\n                <Route path=\"/settings/\" component={Settings} />\r\n                <Route exact path = \"/login/schoology\" component={SchoologyButton} />\r\n                <Route path=\"*\" component={PageNotFound} />\r\n              </Switch>\r\n            </Router>\r\n          </div>\r\n        </MuiThemeProvider>\r\n      </ShortcutProvider>\r\n    </SnackbarProvider>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UI: state.UI,\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.trace('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}